{
  "total_lines": 8934,
  "total_characters": 383563,
  "headers": [
    {
      "level": 1,
      "title": "원스토어 인앱결제 API V7(SDK V21) 연동 안내 및 다운로드",
      "line_number": 1
    },
    {
      "level": 1,
      "title": "01. 원스토어 인앱결제 개요",
      "line_number": 39
    },
    {
      "level": 2,
      "title": "**원스토어 인앱결제란?** <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 41
    },
    {
      "level": 2,
      "title": "**인앱 상품의 유형** <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 49
    },
    {
      "level": 2,
      "title": "**결제 프로세스** <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 56
    },
    {
      "level": 3,
      "title": "원스토어 로그인 하기 <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 60
    },
    {
      "level": 4,
      "title": "**GaaSignInClient 초기화**",
      "line_number": 62
    },
    {
      "level": 4,
      "title": "**포그라운드 로그인하기**",
      "line_number": 74
    },
    {
      "level": 4,
      "title": "**백그라운드 로그인하기**",
      "line_number": 89
    },
    {
      "level": 3,
      "title": "**인앱 상품 구매 요청하기**  <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 103
    },
    {
      "level": 3,
      "title": "**구매 확인하기**  <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 117
    },
    {
      "level": 3,
      "title": "구독형 상품 관리 <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 142
    },
    {
      "level": 2,
      "title": "**권장 개발 환경** <a href=\"#id-01.\" id=\"id-01.\"></a>",
      "line_number": 150
    },
    {
      "level": 1,
      "title": "02. 사전준비",
      "line_number": 161
    },
    {
      "level": 2,
      "title": "**상품 등록하기**  <a href=\"#id-02.\" id=\"id-02.\"></a>",
      "line_number": 163
    },
    {
      "level": 2,
      "title": "**라이선스 키(Public Key) 및 OAuth 인증 정보 확인하기**  <a href=\"#id-02.-publickey-oauth\" id=\"id-02.-publickey-oauth\"></a>",
      "line_number": 168
    },
    {
      "level": 2,
      "title": "**원스토어 인앱결제 Sample App 다운로드** <a href=\"#id-02.-sampleapp\" id=\"id-02.-sampleapp\"></a>",
      "line_number": 177
    },
    {
      "level": 2,
      "title": "**인앱결제 라이브러리 추가하기**  <a href=\"#id-02.\" id=\"id-02.\"></a>",
      "line_number": 181
    },
    {
      "level": 2,
      "title": "**원스토어 앱 설치하기**  <a href=\"#id-02.\" id=\"id-02.\"></a>",
      "line_number": 208
    },
    {
      "level": 1,
      "title": "03. 결제 테스트 및 보안",
      "line_number": 217
    },
    {
      "level": 2,
      "title": "**개요** <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 219
    },
    {
      "level": 2,
      "title": "**인앱결제 테스트 화면** <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 240
    },
    {
      "level": 2,
      "title": "**테스트 ID 등록/관리** <a href=\"#id-03.-id\" id=\"id-03.-id\"></a>",
      "line_number": 246
    },
    {
      "level": 3,
      "title": "**테스트 ID 등록하기**   <a href=\"#id-03.-id\" id=\"id-03.-id\"></a>",
      "line_number": 256
    },
    {
      "level": 3,
      "title": "**테스트 ID 삭제하기 (개별 삭제, 일괄 삭제)**",
      "line_number": 266
    },
    {
      "level": 3,
      "title": "**테스트 ID 설정 복사**",
      "line_number": 271
    },
    {
      "level": 2,
      "title": "**Sandbox 환경에서의 결제 테스트 (필수)**  <a href=\"#id-03.-sandbox\" id=\"id-03.-sandbox\"></a>",
      "line_number": 277
    },
    {
      "level": 3,
      "title": "Sandbox 결제 테스트 및 검증  <a href=\"#id-03.-sandbox\" id=\"id-03.-sandbox\"></a>",
      "line_number": 279
    },
    {
      "level": 3,
      "title": "구독형 상품의 Sandbox 테스트  <a href=\"#id-03.-sandbox\" id=\"id-03.-sandbox\"></a>",
      "line_number": 299
    },
    {
      "level": 2,
      "title": "**상용테스트 환경에서의 결제 테스트 (선택)**  <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 323
    },
    {
      "level": 2,
      "title": "**인앱결제 테스트 결과 확인 및 결제취소** <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 339
    },
    {
      "level": 2,
      "title": "**보안 및 인증** <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 355
    },
    {
      "level": 3,
      "title": "**인앱 결제의 보안** <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 357
    },
    {
      "level": 3,
      "title": "**원스토어 인앱결제 인증 방법** <a href=\"#id-03.\" id=\"id-03.\"></a>",
      "line_number": 376
    },
    {
      "level": 1,
      "title": "04. 원스토어 인앱결제 SDK를 사용해 구현하기",
      "line_number": 394
    },
    {
      "level": 2,
      "title": "개요",
      "line_number": 396
    },
    {
      "level": 2,
      "title": "프로젝트 설정",
      "line_number": 401
    },
    {
      "level": 3,
      "title": "레파지토리 및 종속 항목 추가",
      "line_number": 403
    },
    {
      "level": 3,
      "title": "\\<queries> 설정",
      "line_number": 428
    },
    {
      "level": 3,
      "title": "스토어 지정을 위한 개발자 옵션 설정",
      "line_number": 461
    },
    {
      "level": 4,
      "title": "v21.02.00 업데이트 – 글로벌 스토어 선택 기능 추가",
      "line_number": 463
    },
    {
      "level": 2,
      "title": "인앱 라이브러리 적용하기",
      "line_number": 487
    },
    {
      "level": 3,
      "title": "로그레벨 설정",
      "line_number": 489
    },
    {
      "level": 3,
      "title": "오류 처리 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 516
    },
    {
      "level": 3,
      "title": "원스토어 로그인 하기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 520
    },
    {
      "level": 3,
      "title": "PurchaseClient 초기화 <a href=\"#id-04.-sdk-purchaseclient\" id=\"id-04.-sdk-purchaseclient\"></a>",
      "line_number": 596
    },
    {
      "level": 3,
      "title": "원스토어 서비스 연결 설정 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 642
    },
    {
      "level": 3,
      "title": "상품 상세정보 조회하기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 688
    },
    {
      "level": 3,
      "title": "구매 요청하기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 738
    },
    {
      "level": 3,
      "title": "정기 결제 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 851
    },
    {
      "level": 4,
      "title": "사용자가 정기 결제를 업그레이드, 다운그레이드 또는 변경할 수 있도록 허용 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 863
    },
    {
      "level": 4,
      "title": "업그레이드 또는 다운그레이드 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 878
    },
    {
      "level": 3,
      "title": "구매 처리하기  <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 927
    },
    {
      "level": 4,
      "title": "관리형 상품 소비하기 (consume) <a href=\"#id-04.-sdk-consume\" id=\"id-04.-sdk-consume\"></a>",
      "line_number": 937
    },
    {
      "level": 4,
      "title": "구매 확인하기 (acknowledge) <a href=\"#id-04.-sdk-acknowledge\" id=\"id-04.-sdk-acknowledge\"></a>",
      "line_number": 1004
    },
    {
      "level": 3,
      "title": "구매 내역 조회하기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 1057
    },
    {
      "level": 3,
      "title": "월정액 상품 상태 변경하기 (Deprecated) <a href=\"#id-04.-sdk-deprecated\" id=\"id-04.-sdk-deprecated\"></a>",
      "line_number": 1113
    },
    {
      "level": 3,
      "title": "정기 결제 관리 화면을 열기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 1163
    },
    {
      "level": 3,
      "title": "마켓 구분 코드 얻기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 1202
    },
    {
      "level": 3,
      "title": "StoreEnvironment API 기능 추가",
      "line_number": 1228
    },
    {
      "level": 4,
      "title": "Store Type 정의",
      "line_number": 1232
    },
    {
      "level": 4,
      "title": "API 사용 방법",
      "line_number": 1238
    },
    {
      "level": 4,
      "title": "스토어 판단 기준",
      "line_number": 1283
    },
    {
      "level": 4,
      "title": "활용 예시",
      "line_number": 1294
    },
    {
      "level": 3,
      "title": "원스토어 서비스 설치하기 <a href=\"#id-04.-sdk\" id=\"id-04.-sdk\"></a>",
      "line_number": 1320
    },
    {
      "level": 1,
      "title": "05. 원스토어 인앱결제 레퍼런스",
      "line_number": 1343
    },
    {
      "level": 1,
      "title": "Annotations",
      "line_number": 1390
    },
    {
      "level": 1,
      "title": "PurchaseClient.ConnectionState",
      "line_number": 1404
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchaseclient.connectionstate-constants\" id=\"id-a-purchaseclient.connectionstate-constants\"></a>",
      "line_number": 1416
    },
    {
      "level": 3,
      "title": "CLOSED <a href=\"#id-a-purchaseclient.connectionstate-closed\" id=\"id-a-purchaseclient.connectionstate-closed\"></a>",
      "line_number": 1420
    },
    {
      "level": 3,
      "title": "CONNECTED <a href=\"#id-a-purchaseclient.connectionstate-connected\" id=\"id-a-purchaseclient.connectionstate-connected\"></a>",
      "line_number": 1430
    },
    {
      "level": 3,
      "title": "CONNECTING <a href=\"#id-a-purchaseclient.connectionstate-connecting\" id=\"id-a-purchaseclient.connectionstate-connecting\"></a>",
      "line_number": 1440
    },
    {
      "level": 3,
      "title": "DISCONNECTED <a href=\"#id-a-purchaseclient.connectionstate-disconnected\" id=\"id-a-purchaseclient.connectionstate-disconnected\"></a>",
      "line_number": 1450
    },
    {
      "level": 1,
      "title": "PurchaseClient.FeatureType",
      "line_number": 1462
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchaseclient.featuretype-constants\" id=\"id-a-purchaseclient.featuretype-constants\"></a>",
      "line_number": 1474
    },
    {
      "level": 3,
      "title": "SUBSCRIPTIONS <a href=\"#id-a-purchaseclient.featuretype-subscriptions\" id=\"id-a-purchaseclient.featuretype-subscriptions\"></a>",
      "line_number": 1478
    },
    {
      "level": 1,
      "title": "PurchaseClient.ProductType",
      "line_number": 1490
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchaseclient.producttype-constants\" id=\"id-a-purchaseclient.producttype-constants\"></a>",
      "line_number": 1502
    },
    {
      "level": 3,
      "title": "ALL <a href=\"#id-a-purchaseclient.producttype-all\" id=\"id-a-purchaseclient.producttype-all\"></a>",
      "line_number": 1506
    },
    {
      "level": 3,
      "title": "INAPP <a href=\"#id-a-purchaseclient.producttype-inapp\" id=\"id-a-purchaseclient.producttype-inapp\"></a>",
      "line_number": 1516
    },
    {
      "level": 3,
      "title": "AUTO <a href=\"#id-a-purchaseclient.producttype-auto\" id=\"id-a-purchaseclient.producttype-auto\"></a>",
      "line_number": 1526
    },
    {
      "level": 3,
      "title": "SUBS <a href=\"#id-a-purchaseclient.producttype-subs\" id=\"id-a-purchaseclient.producttype-subs\"></a>",
      "line_number": 1536
    },
    {
      "level": 1,
      "title": "PurchaseClient.RecurringAction",
      "line_number": 1548
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchaseclient.recurringaction-constants\" id=\"id-a-purchaseclient.recurringaction-constants\"></a>",
      "line_number": 1560
    },
    {
      "level": 3,
      "title": "CANCEL <a href=\"#id-a-purchaseclient.recurringaction-cancel\" id=\"id-a-purchaseclient.recurringaction-cancel\"></a>",
      "line_number": 1564
    },
    {
      "level": 3,
      "title": "REACTIVATE <a href=\"#id-a-purchaseclient.recurringaction-reactivate\" id=\"id-a-purchaseclient.recurringaction-reactivate\"></a>",
      "line_number": 1574
    },
    {
      "level": 1,
      "title": "PurchaseClient.ResponseCode",
      "line_number": 1586
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchaseclient.responsecode-constants\" id=\"id-a-purchaseclient.responsecode-constants\"></a>",
      "line_number": 1598
    },
    {
      "level": 3,
      "title": "RESULT\\_OK <a href=\"#id-a-purchaseclient.responsecode-result_ok\" id=\"id-a-purchaseclient.responsecode-result_ok\"></a>",
      "line_number": 1602
    },
    {
      "level": 3,
      "title": "USER\\_CANCELED <a href=\"#id-a-purchaseclient.responsecode-user_canceled\" id=\"id-a-purchaseclient.responsecode-user_canceled\"></a>",
      "line_number": 1612
    },
    {
      "level": 3,
      "title": "RESULT\\_SERVICE\\_UNAVAILABLE <a href=\"#id-a-purchaseclient.responsecode-result_service_unavailable\" id=\"id-a-purchaseclient.responsecode-result_service_unavailable\"></a>",
      "line_number": 1622
    },
    {
      "level": 3,
      "title": "RESULT\\_BILLING\\_UNAVAILABLE <a href=\"#id-a-purchaseclient.responsecode-result_billing_unavailable\" id=\"id-a-purchaseclient.responsecode-result_billing_unavailable\"></a>",
      "line_number": 1632
    },
    {
      "level": 3,
      "title": "RESULT\\_ITEM\\_UNAVAILABLE <a href=\"#id-a-purchaseclient.responsecode-result_item_unavailable\" id=\"id-a-purchaseclient.responsecode-result_item_unavailable\"></a>",
      "line_number": 1642
    },
    {
      "level": 3,
      "title": "RESULT\\_DEVELOPER\\_ERROR <a href=\"#id-a-purchaseclient.responsecode-result_developer_error\" id=\"id-a-purchaseclient.responsecode-result_developer_error\"></a>",
      "line_number": 1652
    },
    {
      "level": 3,
      "title": "RESULT\\_ERROR <a href=\"#id-a-purchaseclient.responsecode-result_error\" id=\"id-a-purchaseclient.responsecode-result_error\"></a>",
      "line_number": 1662
    },
    {
      "level": 3,
      "title": "RESULT\\_ITEM\\_ALREADY\\_OWNED <a href=\"#id-a-purchaseclient.responsecode-result_item_already_owned\" id=\"id-a-purchaseclient.responsecode-result_item_already_owned\"></a>",
      "line_number": 1672
    },
    {
      "level": 3,
      "title": "RESULT\\_ITEM\\_NOT\\_OWNED <a href=\"#id-a-purchaseclient.responsecode-result_item_not_owned\" id=\"id-a-purchaseclient.responsecode-result_item_not_owned\"></a>",
      "line_number": 1682
    },
    {
      "level": 3,
      "title": "RESULT\\_FAIL <a href=\"#id-a-purchaseclient.responsecode-result_fail\" id=\"id-a-purchaseclient.responsecode-result_fail\"></a>",
      "line_number": 1692
    },
    {
      "level": 3,
      "title": "RESULT\\_NEED\\_LOGIN <a href=\"#id-a-purchaseclient.responsecode-result_need_login\" id=\"id-a-purchaseclient.responsecode-result_need_login\"></a>",
      "line_number": 1702
    },
    {
      "level": 3,
      "title": "RESULT\\_NEED\\_UPDATE <a href=\"#id-a-purchaseclient.responsecode-result_need_update\" id=\"id-a-purchaseclient.responsecode-result_need_update\"></a>",
      "line_number": 1712
    },
    {
      "level": 3,
      "title": "RESULT\\_SECURITY\\_ERROR <a href=\"#id-a-purchaseclient.responsecode-result_security_error\" id=\"id-a-purchaseclient.responsecode-result_security_error\"></a>",
      "line_number": 1722
    },
    {
      "level": 3,
      "title": "RESULT\\_BLOCKED\\_APP <a href=\"#id-a-purchaseclient.responsecode-result_blocked_app\" id=\"id-a-purchaseclient.responsecode-result_blocked_app\"></a>",
      "line_number": 1732
    },
    {
      "level": 3,
      "title": "RESULT\\_NOT\\_SUPPORT\\_SANDBOX <a href=\"#id-a-purchaseclient.responsecode-result_not_support_sandbox\" id=\"id-a-purchaseclient.responsecode-result_not_support_sandbox\"></a>",
      "line_number": 1742
    },
    {
      "level": 3,
      "title": "ERROR\\_DATA\\_PARSING <a href=\"#id-a-purchaseclient.responsecode-error_data_parsing\" id=\"id-a-purchaseclient.responsecode-error_data_parsing\"></a>",
      "line_number": 1752
    },
    {
      "level": 3,
      "title": "ERROR\\_SIGNATURE\\_VERIFICATION <a href=\"#id-a-purchaseclient.responsecode-error_signature_verification\" id=\"id-a-purchaseclient.responsecode-error_signature_verification\"></a>",
      "line_number": 1762
    },
    {
      "level": 3,
      "title": "ERROR\\_ILLEGAL\\_ARGUMENT <a href=\"#id-a-purchaseclient.responsecode-error_illegal_argument\" id=\"id-a-purchaseclient.responsecode-error_illegal_argument\"></a>",
      "line_number": 1772
    },
    {
      "level": 3,
      "title": "ERROR\\_UNDEFINED\\_CODE <a href=\"#id-a-purchaseclient.responsecode-error_undefined_code\" id=\"id-a-purchaseclient.responsecode-error_undefined_code\"></a>",
      "line_number": 1782
    },
    {
      "level": 3,
      "title": "ERROR\\_SIGNATURE\\_NOT\\_VALIDATION <a href=\"#id-a-purchaseclient.responsecode-error_signature_not_validation\" id=\"id-a-purchaseclient.responsecode-error_signature_not_validation\"></a>",
      "line_number": 1792
    },
    {
      "level": 3,
      "title": "ERROR\\_UPDATE\\_OR\\_INSTALL <a href=\"#id-a-purchaseclient.responsecode-error_update_or_install\" id=\"id-a-purchaseclient.responsecode-error_update_or_install\"></a>",
      "line_number": 1802
    },
    {
      "level": 3,
      "title": "ERROR\\_SERVICE\\_DISCONNECTED <a href=\"#id-a-purchaseclient.responsecode-error_service_disconnected\" id=\"id-a-purchaseclient.responsecode-error_service_disconnected\"></a>",
      "line_number": 1812
    },
    {
      "level": 3,
      "title": "ERROR\\_FEATURE\\_NOT\\_SUPPORTED <a href=\"#id-a-purchaseclient.responsecode-error_feature_not_supported\" id=\"id-a-purchaseclient.responsecode-error_feature_not_supported\"></a>",
      "line_number": 1822
    },
    {
      "level": 3,
      "title": "ERROR\\_SERVICE\\_TIMEOUT <a href=\"#id-a-purchaseclient.responsecode-error_service_timeout\" id=\"id-a-purchaseclient.responsecode-error_service_timeout\"></a>",
      "line_number": 1832
    },
    {
      "level": 3,
      "title": "ERROR\\_CLIENT\\_NOT\\_ENABLED <a href=\"#id-a-purchaseclient.responsecode-error_client_not_enabled\" id=\"id-a-purchaseclient.responsecode-error_client_not_enabled\"></a>",
      "line_number": 1842
    },
    {
      "level": 3,
      "title": "RESULT\\_EMERGENY\\_ERROR <a href=\"#id-a-purchaseclient.responsecode-result_emergeny_error\" id=\"id-a-purchaseclient.responsecode-result_emergeny_error\"></a>",
      "line_number": 1852
    },
    {
      "level": 1,
      "title": "PurchaseData.AcknowledgeState",
      "line_number": 1864
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchasedata.acknowledgestate-constants\" id=\"id-a-purchasedata.acknowledgestate-constants\"></a>",
      "line_number": 1876
    },
    {
      "level": 3,
      "title": "NOT\\_ACKNOWLEDGED <a href=\"#id-a-purchasedata.acknowledgestate-not_acknowledged\" id=\"id-a-purchasedata.acknowledgestate-not_acknowledged\"></a>",
      "line_number": 1880
    },
    {
      "level": 3,
      "title": "ACKNOWLEDGED <a href=\"#id-a-purchasedata.acknowledgestate-acknowledged\" id=\"id-a-purchasedata.acknowledgestate-acknowledged\"></a>",
      "line_number": 1890
    },
    {
      "level": 1,
      "title": "PurchaseData.PurchaseState",
      "line_number": 1902
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchasedata.purchasestate-constants\" id=\"id-a-purchasedata.purchasestate-constants\"></a>",
      "line_number": 1914
    },
    {
      "level": 3,
      "title": "PURCHASED <a href=\"#id-a-purchasedata.purchasestate-purchased\" id=\"id-a-purchasedata.purchasestate-purchased\"></a>",
      "line_number": 1918
    },
    {
      "level": 3,
      "title": "CANCEL <a href=\"#id-a-purchasedata.purchasestate-cancel\" id=\"id-a-purchasedata.purchasestate-cancel\"></a>",
      "line_number": 1928
    },
    {
      "level": 3,
      "title": "REFUND <a href=\"#id-a-purchasedata.purchasestate-refund\" id=\"id-a-purchasedata.purchasestate-refund\"></a>",
      "line_number": 1938
    },
    {
      "level": 1,
      "title": "PurchaseData.RecurringState",
      "line_number": 1950
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchasedata.recurringstate-constants\" id=\"id-a-purchasedata.recurringstate-constants\"></a>",
      "line_number": 1962
    },
    {
      "level": 3,
      "title": "RECURRING <a href=\"#id-a-purchasedata.recurringstate-recurring\" id=\"id-a-purchasedata.recurringstate-recurring\"></a>",
      "line_number": 1966
    },
    {
      "level": 3,
      "title": "CANCEL <a href=\"#id-a-purchasedata.recurringstate-cancel\" id=\"id-a-purchasedata.recurringstate-cancel\"></a>",
      "line_number": 1976
    },
    {
      "level": 3,
      "title": "NON\\_AUTO\\_PRODUCT <a href=\"#id-a-purchasedata.recurringstate-non_auto_product\" id=\"id-a-purchasedata.recurringstate-non_auto_product\"></a>",
      "line_number": 1986
    },
    {
      "level": 1,
      "title": "PurchaseFlowParams.ProrationMode",
      "line_number": 1998
    },
    {
      "level": 2,
      "title": "Constants <a href=\"#id-a-purchaseflowparams.prorationmode-constants\" id=\"id-a-purchaseflowparams.prorationmode-constants\"></a>",
      "line_number": 2010
    },
    {
      "level": 3,
      "title": "UNKNOWN\\_SUBSCRIPTION\\_UPGRADE\\_DOWNGRADE\\_POLICY <a href=\"#id-a-purchaseflowparams.prorationmode-unknown_subscription_upgrade_downgrade_policy\" id=\"id-a-purchaseflowparams.prorationmode-unknown_subscription_upgrade_downgrade_policy\"></a>",
      "line_number": 2014
    },
    {
      "level": 3,
      "title": "IMMEDIATE\\_WITH\\_TIME\\_PRORATION <a href=\"#id-a-purchaseflowparams.prorationmode-immediate_with_time_proration\" id=\"id-a-purchaseflowparams.prorationmode-immediate_with_time_proration\"></a>",
      "line_number": 2024
    },
    {
      "level": 3,
      "title": "IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE <a href=\"#id-a-purchaseflowparams.prorationmode-immediate_and_charge_prorated_price\" id=\"id-a-purchaseflowparams.prorationmode-immediate_and_charge_prorated_price\"></a>",
      "line_number": 2034
    },
    {
      "level": 3,
      "title": "IMMEDIATE\\_WITHOUT\\_PRORATION <a href=\"#id-a-purchaseflowparams.prorationmode-immediate_without_proration\" id=\"id-a-purchaseflowparams.prorationmode-immediate_without_proration\"></a>",
      "line_number": 2044
    },
    {
      "level": 3,
      "title": "DEFERRED <a href=\"#id-a-purchaseflowparams.prorationmode-deferred\" id=\"id-a-purchaseflowparams.prorationmode-deferred\"></a>",
      "line_number": 2054
    },
    {
      "level": 1,
      "title": "Classes",
      "line_number": 2066
    },
    {
      "level": 1,
      "title": "AcknowledgeParams",
      "line_number": 2091
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-acknowledgeparams-summary\" id=\"id-c-acknowledgeparams-summary\"></a>",
      "line_number": 2108
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-acknowledgeparams-publicmethods\" id=\"id-c-acknowledgeparams-publicmethods\"></a>",
      "line_number": 2116
    },
    {
      "level": 3,
      "title": "getPurchaseData <a href=\"#id-c-acknowledgeparams-getpurchasedata\" id=\"id-c-acknowledgeparams-getpurchasedata\"></a>",
      "line_number": 2120
    },
    {
      "level": 3,
      "title": "getDeveloperPayload <a href=\"#id-c-acknowledgeparams-getdeveloperpayload\" id=\"id-c-acknowledgeparams-getdeveloperpayload\"></a>",
      "line_number": 2132
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-acknowledgeparams-newbuilder\" id=\"id-c-acknowledgeparams-newbuilder\"></a>",
      "line_number": 2144
    },
    {
      "level": 1,
      "title": "AcknowledgeParams.Builder",
      "line_number": 2158
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-acknowledgeparams.builder-publicmethods\" id=\"id-c-acknowledgeparams.builder-publicmethods\"></a>",
      "line_number": 2171
    },
    {
      "level": 3,
      "title": "setPurchaseData <a href=\"#id-c-acknowledgeparams.builder-setpurchasedata\" id=\"id-c-acknowledgeparams.builder-setpurchasedata\"></a>",
      "line_number": 2175
    },
    {
      "level": 3,
      "title": "setDeveloperPayload <a href=\"#id-c-acknowledgeparams.builder-setdeveloperpayload\" id=\"id-c-acknowledgeparams.builder-setdeveloperpayload\"></a>",
      "line_number": 2187
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-acknowledgeparams.builder-build\" id=\"id-c-acknowledgeparams.builder-build\"></a>",
      "line_number": 2199
    },
    {
      "level": 1,
      "title": "ConsumeParams",
      "line_number": 2211
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-consumeparams-summary\" id=\"id-c-consumeparams-summary\"></a>",
      "line_number": 2229
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-consumeparams-publicmethods\" id=\"id-c-consumeparams-publicmethods\"></a>",
      "line_number": 2237
    },
    {
      "level": 3,
      "title": "getPurchaseData <a href=\"#id-c-consumeparams-getpurchasedata\" id=\"id-c-consumeparams-getpurchasedata\"></a>",
      "line_number": 2241
    },
    {
      "level": 3,
      "title": "getDeveloperPayload <a href=\"#id-c-consumeparams-getdeveloperpayload\" id=\"id-c-consumeparams-getdeveloperpayload\"></a>",
      "line_number": 2253
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-consumeparams-newbuilder\" id=\"id-c-consumeparams-newbuilder\"></a>",
      "line_number": 2265
    },
    {
      "level": 1,
      "title": "ConsumeParams.Builder",
      "line_number": 2279
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-consumeparams.builder-publicmethods\" id=\"id-c-consumeparams.builder-publicmethods\"></a>",
      "line_number": 2292
    },
    {
      "level": 3,
      "title": "setPurchaseData <a href=\"#id-c-consumeparams.builder-setpurchasedata\" id=\"id-c-consumeparams.builder-setpurchasedata\"></a>",
      "line_number": 2296
    },
    {
      "level": 3,
      "title": "setDeveloperPayload <a href=\"#id-c-consumeparams.builder-setdeveloperpayload\" id=\"id-c-consumeparams.builder-setdeveloperpayload\"></a>",
      "line_number": 2308
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-consumeparams.builder-build\" id=\"id-c-consumeparams.builder-build\"></a>",
      "line_number": 2320
    },
    {
      "level": 1,
      "title": "IapResult",
      "line_number": 2334
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-iapresult-summary\" id=\"id-c-iapresult-summary\"></a>",
      "line_number": 2347
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-iapresult-publicmethods\" id=\"id-c-iapresult-publicmethods\"></a>",
      "line_number": 2355
    },
    {
      "level": 3,
      "title": "getResponseCode <a href=\"#id-c-iapresult-getresponsecode\" id=\"id-c-iapresult-getresponsecode\"></a>",
      "line_number": 2359
    },
    {
      "level": 3,
      "title": "getMessage <a href=\"#id-c-iapresult-getmessage\" id=\"id-c-iapresult-getmessage\"></a>",
      "line_number": 2371
    },
    {
      "level": 3,
      "title": "isSuccess <a href=\"#id-c-iapresult-issuccess\" id=\"id-c-iapresult-issuccess\"></a>",
      "line_number": 2383
    },
    {
      "level": 3,
      "title": "isFailure <a href=\"#id-c-iapresult-isfailure\" id=\"id-c-iapresult-isfailure\"></a>",
      "line_number": 2395
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-iapresult-newbuilder\" id=\"id-c-iapresult-newbuilder\"></a>",
      "line_number": 2407
    },
    {
      "level": 1,
      "title": "IapResult.Builder",
      "line_number": 2423
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-iapresult.builder-publicmethods\" id=\"id-c-iapresult.builder-publicmethods\"></a>",
      "line_number": 2436
    },
    {
      "level": 3,
      "title": "setResponseCode <a href=\"#id-c-iapresult.builder-setresponsecode\" id=\"id-c-iapresult.builder-setresponsecode\"></a>",
      "line_number": 2440
    },
    {
      "level": 3,
      "title": "setMessage <a href=\"#id-c-iapresult.builder-setmessage\" id=\"id-c-iapresult.builder-setmessage\"></a>",
      "line_number": 2452
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-iapresult.builder-build\" id=\"id-c-iapresult.builder-build\"></a>",
      "line_number": 2461
    },
    {
      "level": 1,
      "title": "ProductDetail",
      "line_number": 2477
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-productdetail-summary\" id=\"id-c-productdetail-summary\"></a>",
      "line_number": 2490
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-productdetail-publicmethods\" id=\"id-c-productdetail-publicmethods\"></a>",
      "line_number": 2497
    },
    {
      "level": 3,
      "title": "getOriginalJson <a href=\"#id-c-productdetail-getoriginaljson\" id=\"id-c-productdetail-getoriginaljson\"></a>",
      "line_number": 2501
    },
    {
      "level": 3,
      "title": "getProductId <a href=\"#id-c-productdetail-getproductid\" id=\"id-c-productdetail-getproductid\"></a>",
      "line_number": 2513
    },
    {
      "level": 3,
      "title": "getType <a href=\"#id-c-productdetail-gettype\" id=\"id-c-productdetail-gettype\"></a>",
      "line_number": 2525
    },
    {
      "level": 3,
      "title": "getPrice <a href=\"#id-c-productdetail-getprice\" id=\"id-c-productdetail-getprice\"></a>",
      "line_number": 2537
    },
    {
      "level": 3,
      "title": "getPriceCurrencyCode <a href=\"#id-c-productdetail-getpricecurrencycode\" id=\"id-c-productdetail-getpricecurrencycode\"></a>",
      "line_number": 2549
    },
    {
      "level": 3,
      "title": "getPriceAmountMicros <a href=\"#id-c-productdetail-getpriceamountmicros\" id=\"id-c-productdetail-getpriceamountmicros\"></a>",
      "line_number": 2561
    },
    {
      "level": 3,
      "title": "getTitle <a href=\"#id-c-productdetail-gettitle\" id=\"id-c-productdetail-gettitle\"></a>",
      "line_number": 2573
    },
    {
      "level": 1,
      "title": "ProductDetailsParams",
      "line_number": 2587
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-productdetailsparams-summary\" id=\"id-c-productdetailsparams-summary\"></a>",
      "line_number": 2604
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-productdetailsparams-publicmethods\" id=\"id-c-productdetailsparams-publicmethods\"></a>",
      "line_number": 2612
    },
    {
      "level": 3,
      "title": "getProductIdList <a href=\"#id-c-productdetailsparams-getproductidlist\" id=\"id-c-productdetailsparams-getproductidlist\"></a>",
      "line_number": 2616
    },
    {
      "level": 3,
      "title": "getProductType <a href=\"#id-c-productdetailsparams-getproducttype\" id=\"id-c-productdetailsparams-getproducttype\"></a>",
      "line_number": 2629
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-productdetailsparams-newbuilder\" id=\"id-c-productdetailsparams-newbuilder\"></a>",
      "line_number": 2641
    },
    {
      "level": 1,
      "title": "ProductDetailsParams.Builder",
      "line_number": 2655
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-productdetailsparams.builder-publicmethods\" id=\"id-c-productdetailsparams.builder-publicmethods\"></a>",
      "line_number": 2668
    },
    {
      "level": 3,
      "title": "setProductIdList <a href=\"#id-c-productdetailsparams.builder-setproductidlist\" id=\"id-c-productdetailsparams.builder-setproductidlist\"></a>",
      "line_number": 2672
    },
    {
      "level": 3,
      "title": "setProductType <a href=\"#id-c-productdetailsparams.builder-setproducttype\" id=\"id-c-productdetailsparams.builder-setproducttype\"></a>",
      "line_number": 2681
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-productdetailsparams.builder-build\" id=\"id-c-productdetailsparams.builder-build\"></a>",
      "line_number": 2690
    },
    {
      "level": 1,
      "title": "PurchaseClient",
      "line_number": 2704
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-purchaseclient-summary\" id=\"id-c-purchaseclient-summary\"></a>",
      "line_number": 2732
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-purchaseclient-publicmethods\" id=\"id-c-purchaseclient-publicmethods\"></a>",
      "line_number": 2745
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-purchaseclient-newbuilder\" id=\"id-c-purchaseclient-newbuilder\"></a>",
      "line_number": 2749
    },
    {
      "level": 3,
      "title": "isReady <a href=\"#id-c-purchaseclient-isready\" id=\"id-c-purchaseclient-isready\"></a>",
      "line_number": 2764
    },
    {
      "level": 3,
      "title": "getConnectionState <a href=\"#id-c-purchaseclient-getconnectionstate\" id=\"id-c-purchaseclient-getconnectionstate\"></a>",
      "line_number": 2777
    },
    {
      "level": 3,
      "title": "isFeatureSupported <a href=\"#id-c-purchaseclient-isfeaturesupported\" id=\"id-c-purchaseclient-isfeaturesupported\"></a>",
      "line_number": 2792
    },
    {
      "level": 3,
      "title": "startConnection <a href=\"#id-c-purchaseclient-startconnection\" id=\"id-c-purchaseclient-startconnection\"></a>",
      "line_number": 2807
    },
    {
      "level": 3,
      "title": "endConnection <a href=\"#id-c-purchaseclient-endconnection\" id=\"id-c-purchaseclient-endconnection\"></a>",
      "line_number": 2821
    },
    {
      "level": 3,
      "title": "launchUpdateOrInstallFlow <a href=\"#id-c-purchaseclient-launchupdateorinstallflow\" id=\"id-c-purchaseclient-launchupdateorinstallflow\"></a>",
      "line_number": 2830
    },
    {
      "level": 3,
      "title": "launchPurchaseFlow <a href=\"#id-c-purchaseclient-launchpurchaseflow\" id=\"id-c-purchaseclient-launchpurchaseflow\"></a>",
      "line_number": 2845
    },
    {
      "level": 3,
      "title": "consumeAsync <a href=\"#id-c-purchaseclient-consumeasync\" id=\"id-c-purchaseclient-consumeasync\"></a>",
      "line_number": 2862
    },
    {
      "level": 3,
      "title": "acknowledgeAsync <a href=\"#id-c-purchaseclient-acknowledgeasync\" id=\"id-c-purchaseclient-acknowledgeasync\"></a>",
      "line_number": 2878
    },
    {
      "level": 3,
      "title": "queryPurchasesAsync <a href=\"#id-c-purchaseclient-querypurchasesasync\" id=\"id-c-purchaseclient-querypurchasesasync\"></a>",
      "line_number": 2896
    },
    {
      "level": 3,
      "title": "queryProductDetailsAsync <a href=\"#id-c-purchaseclient-queryproductdetailsasync\" id=\"id-c-purchaseclient-queryproductdetailsasync\"></a>",
      "line_number": 2910
    },
    {
      "level": 3,
      "title": "manageRecurringProductAsync <a href=\"#id-c-purchaseclient-managerecurringproductasync\" id=\"id-c-purchaseclient-managerecurringproductasync\"></a>",
      "line_number": 2924
    },
    {
      "level": 3,
      "title": "launchLoginFlowAsync <a href=\"#id-c-purchaseclient-launchloginflowasync\" id=\"id-c-purchaseclient-launchloginflowasync\"></a>",
      "line_number": 2939
    },
    {
      "level": 3,
      "title": "launchManageSubscription <a href=\"#id-c-purchaseclient-launchmanagesubscription\" id=\"id-c-purchaseclient-launchmanagesubscription\"></a>",
      "line_number": 2953
    },
    {
      "level": 3,
      "title": "getStoreInfoAsync <a href=\"#id-c-purchaseclient-getstoreinfoasync\" id=\"id-c-purchaseclient-getstoreinfoasync\"></a>",
      "line_number": 2967
    },
    {
      "level": 1,
      "title": "PurchaseClient.Builder",
      "line_number": 2983
    },
    {
      "level": 2,
      "title": "Public Methods <a href=\"#id-c-purchaseclient.builder-publicmethods\" id=\"id-c-purchaseclient.builder-publicmethods\"></a>",
      "line_number": 2996
    },
    {
      "level": 3,
      "title": "setBase64PublicKey <a href=\"#id-c-purchaseclient.builder-setbase64publickey\" id=\"id-c-purchaseclient.builder-setbase64publickey\"></a>",
      "line_number": 3000
    },
    {
      "level": 3,
      "title": "setListener <a href=\"#id-c-purchaseclient.builder-setlistener\" id=\"id-c-purchaseclient.builder-setlistener\"></a>",
      "line_number": 3015
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-purchaseclient.builder-build\" id=\"id-c-purchaseclient.builder-build\"></a>",
      "line_number": 3030
    },
    {
      "level": 1,
      "title": "PurchaseData",
      "line_number": 3047
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-purchasedata-summary\" id=\"id-c-purchasedata-summary\"></a>",
      "line_number": 3060
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-purchasedata-publicmethods\" id=\"id-c-purchasedata-publicmethods\"></a>",
      "line_number": 3074
    },
    {
      "level": 3,
      "title": "getOrderId <a href=\"#id-c-purchasedata-getorderid\" id=\"id-c-purchasedata-getorderid\"></a>",
      "line_number": 3078
    },
    {
      "level": 3,
      "title": "getPackageName <a href=\"#id-c-purchasedata-getpackagename\" id=\"id-c-purchasedata-getpackagename\"></a>",
      "line_number": 3090
    },
    {
      "level": 3,
      "title": "getProductId <a href=\"#id-c-purchasedata-getproductid\" id=\"id-c-purchasedata-getproductid\"></a>",
      "line_number": 3102
    },
    {
      "level": 3,
      "title": "getPurchaseTime <a href=\"#id-c-purchasedata-getpurchasetime\" id=\"id-c-purchasedata-getpurchasetime\"></a>",
      "line_number": 3114
    },
    {
      "level": 3,
      "title": "isAcknowledged <a href=\"#id-c-purchasedata-isacknowledged\" id=\"id-c-purchasedata-isacknowledged\"></a>",
      "line_number": 3126
    },
    {
      "level": 3,
      "title": "getDeveloperPayload <a href=\"#id-c-purchasedata-getdeveloperpayload\" id=\"id-c-purchasedata-getdeveloperpayload\"></a>",
      "line_number": 3138
    },
    {
      "level": 3,
      "title": "getPurchaseId <a href=\"#id-c-purchasedata-getpurchaseid\" id=\"id-c-purchasedata-getpurchaseid\"></a>",
      "line_number": 3150
    },
    {
      "level": 3,
      "title": "getPurchaseToken <a href=\"#id-c-purchasedata-getpurchasetoken\" id=\"id-c-purchasedata-getpurchasetoken\"></a>",
      "line_number": 3163
    },
    {
      "level": 3,
      "title": "getPurchaseState <a href=\"#id-c-purchasedata-getpurchasestate\" id=\"id-c-purchasedata-getpurchasestate\"></a>",
      "line_number": 3175
    },
    {
      "level": 3,
      "title": "getRecurringState <a href=\"#id-c-purchasedata-getrecurringstate\" id=\"id-c-purchasedata-getrecurringstate\"></a>",
      "line_number": 3187
    },
    {
      "level": 3,
      "title": "getQuantity <a href=\"#id-c-purchasedata-getquantity\" id=\"id-c-purchasedata-getquantity\"></a>",
      "line_number": 3199
    },
    {
      "level": 3,
      "title": "getSignature <a href=\"#id-c-purchasedata-getsignature\" id=\"id-c-purchasedata-getsignature\"></a>",
      "line_number": 3211
    },
    {
      "level": 3,
      "title": "getOriginalJson <a href=\"#id-c-purchasedata-getoriginaljson\" id=\"id-c-purchasedata-getoriginaljson\"></a>",
      "line_number": 3223
    },
    {
      "level": 1,
      "title": "PurchaseFlowParams",
      "line_number": 3237
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-purchaseflowparams-summary\" id=\"id-c-purchaseflowparams-summary\"></a>",
      "line_number": 3256
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-purchaseflowparams-publicmethods\" id=\"id-c-purchaseflowparams-publicmethods\"></a>",
      "line_number": 3264
    },
    {
      "level": 3,
      "title": "getProductId <a href=\"#id-c-purchaseflowparams-getproductid\" id=\"id-c-purchaseflowparams-getproductid\"></a>",
      "line_number": 3268
    },
    {
      "level": 3,
      "title": "getProductType <a href=\"#id-c-purchaseflowparams-getproducttype\" id=\"id-c-purchaseflowparams-getproducttype\"></a>",
      "line_number": 3281
    },
    {
      "level": 3,
      "title": "getProductName <a href=\"#id-c-purchaseflowparams-getproductname\" id=\"id-c-purchaseflowparams-getproductname\"></a>",
      "line_number": 3294
    },
    {
      "level": 3,
      "title": "getGameUserId <a href=\"#id-c-purchaseflowparams-getgameuserid\" id=\"id-c-purchaseflowparams-getgameuserid\"></a>",
      "line_number": 3306
    },
    {
      "level": 3,
      "title": "isPromotionApplicable <a href=\"#id-c-purchaseflowparams-ispromotionapplicable\" id=\"id-c-purchaseflowparams-ispromotionapplicable\"></a>",
      "line_number": 3319
    },
    {
      "level": 3,
      "title": "getDeveloperPayload <a href=\"#id-c-purchaseflowparams-getdeveloperpayload\" id=\"id-c-purchaseflowparams-getdeveloperpayload\"></a>",
      "line_number": 3332
    },
    {
      "level": 3,
      "title": "getOldPurchaseToken <a href=\"#id-c-purchaseflowparams-getoldpurchasetoken\" id=\"id-c-purchaseflowparams-getoldpurchasetoken\"></a>",
      "line_number": 3344
    },
    {
      "level": 3,
      "title": "getProrationMode() <a href=\"#id-c-purchaseflowparams-getprorationmode\" id=\"id-c-purchaseflowparams-getprorationmode\"></a>",
      "line_number": 3356
    },
    {
      "level": 3,
      "title": "getQuantity() <a href=\"#id-c-purchaseflowparams-getquantity\" id=\"id-c-purchaseflowparams-getquantity\"></a>",
      "line_number": 3368
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-purchaseflowparams-newbuilder\" id=\"id-c-purchaseflowparams-newbuilder\"></a>",
      "line_number": 3380
    },
    {
      "level": 1,
      "title": "PurchaseFlowParams.Builder",
      "line_number": 3394
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-purchaseflowparams.builder-publicmethods\" id=\"id-c-purchaseflowparams.builder-publicmethods\"></a>",
      "line_number": 3407
    },
    {
      "level": 3,
      "title": "setProductId <a href=\"#id-c-purchaseflowparams.builder-setproductid\" id=\"id-c-purchaseflowparams.builder-setproductid\"></a>",
      "line_number": 3411
    },
    {
      "level": 3,
      "title": "setProductType <a href=\"#id-c-purchaseflowparams.builder-setproducttype\" id=\"id-c-purchaseflowparams.builder-setproducttype\"></a>",
      "line_number": 3423
    },
    {
      "level": 3,
      "title": "setProductName <a href=\"#id-c-purchaseflowparams.builder-setproductname\" id=\"id-c-purchaseflowparams.builder-setproductname\"></a>",
      "line_number": 3435
    },
    {
      "level": 3,
      "title": "setDeveloperPayload <a href=\"#id-c-purchaseflowparams.builder-setdeveloperpayload\" id=\"id-c-purchaseflowparams.builder-setdeveloperpayload\"></a>",
      "line_number": 3447
    },
    {
      "level": 3,
      "title": "setGameUserId <a href=\"#id-c-purchaseflowparams.builder-setgameuserid\" id=\"id-c-purchaseflowparams.builder-setgameuserid\"></a>",
      "line_number": 3459
    },
    {
      "level": 3,
      "title": "setPromotionApplicable <a href=\"#id-c-purchaseflowparams.builder-setpromotionapplicable\" id=\"id-c-purchaseflowparams.builder-setpromotionapplicable\"></a>",
      "line_number": 3471
    },
    {
      "level": 3,
      "title": "setQuantity <a href=\"#id-c-purchaseflowparams.builder-setquantity\" id=\"id-c-purchaseflowparams.builder-setquantity\"></a>",
      "line_number": 3483
    },
    {
      "level": 3,
      "title": "setSubscriptionUpdateParams <a href=\"#id-c-purchaseflowparams.builder-setsubscriptionupdateparams\" id=\"id-c-purchaseflowparams.builder-setsubscriptionupdateparams\"></a>",
      "line_number": 3495
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-purchaseflowparams.builder-build\" id=\"id-c-purchaseflowparams.builder-build\"></a>",
      "line_number": 3507
    },
    {
      "level": 1,
      "title": "RecurringProductParams",
      "line_number": 3521
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-recurringproductparams-summary\" id=\"id-c-recurringproductparams-summary\"></a>",
      "line_number": 3542
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-recurringproductparams-publicmethods\" id=\"id-c-recurringproductparams-publicmethods\"></a>",
      "line_number": 3550
    },
    {
      "level": 3,
      "title": "getPurchaseData <a href=\"#id-c-recurringproductparams-getpurchasedata\" id=\"id-c-recurringproductparams-getpurchasedata\"></a>",
      "line_number": 3554
    },
    {
      "level": 3,
      "title": "getRecurringAction <a href=\"#id-c-recurringproductparams-getrecurringaction\" id=\"id-c-recurringproductparams-getrecurringaction\"></a>",
      "line_number": 3566
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-recurringproductparams-newbuilder\" id=\"id-c-recurringproductparams-newbuilder\"></a>",
      "line_number": 3578
    },
    {
      "level": 1,
      "title": "RecurringProductParams.Builder",
      "line_number": 3592
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-recurringproductparams.builder-publicmethods\" id=\"id-c-recurringproductparams.builder-publicmethods\"></a>",
      "line_number": 3605
    },
    {
      "level": 3,
      "title": "setPurchaseData <a href=\"#id-c-recurringproductparams.builder-setpurchasedata\" id=\"id-c-recurringproductparams.builder-setpurchasedata\"></a>",
      "line_number": 3609
    },
    {
      "level": 3,
      "title": "setRecurringAction <a href=\"#id-c-recurringproductparams.builder-setrecurringaction\" id=\"id-c-recurringproductparams.builder-setrecurringaction\"></a>",
      "line_number": 3621
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-recurringproductparams.builder-build\" id=\"id-c-recurringproductparams.builder-build\"></a>",
      "line_number": 3630
    },
    {
      "level": 1,
      "title": "SubscriptionParams",
      "line_number": 3644
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-subscriptionparams-summary\" id=\"id-c-subscriptionparams-summary\"></a>",
      "line_number": 3664
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-subscriptionparams-publicmethods\" id=\"id-c-subscriptionparams-publicmethods\"></a>",
      "line_number": 3672
    },
    {
      "level": 3,
      "title": "getPurchaseData <a href=\"#id-c-subscriptionparams-getpurchasedata\" id=\"id-c-subscriptionparams-getpurchasedata\"></a>",
      "line_number": 3676
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-subscriptionparams-newbuilder\" id=\"id-c-subscriptionparams-newbuilder\"></a>",
      "line_number": 3688
    },
    {
      "level": 1,
      "title": "SubscriptionParams.Builder",
      "line_number": 3702
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-subscriptionparams.builder-publicmethods\" id=\"id-c-subscriptionparams.builder-publicmethods\"></a>",
      "line_number": 3718
    },
    {
      "level": 3,
      "title": "setPurchaseData <a href=\"#id-c-subscriptionparams.builder-setpurchasedata\" id=\"id-c-subscriptionparams.builder-setpurchasedata\"></a>",
      "line_number": 3722
    },
    {
      "level": 3,
      "title": "build <a href=\"#id-c-subscriptionparams.builder-build\" id=\"id-c-subscriptionparams.builder-build\"></a>",
      "line_number": 3734
    },
    {
      "level": 1,
      "title": "SubscriptionUpdateParams",
      "line_number": 3748
    },
    {
      "level": 2,
      "title": "Summary <a href=\"#id-c-subscriptionupdateparams-summary\" id=\"id-c-subscriptionupdateparams-summary\"></a>",
      "line_number": 3767
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-subscriptionupdateparams-publicmethods\" id=\"id-c-subscriptionupdateparams-publicmethods\"></a>",
      "line_number": 3775
    },
    {
      "level": 3,
      "title": "getProrationMode() <a href=\"#id-c-subscriptionupdateparams-getprorationmode\" id=\"id-c-subscriptionupdateparams-getprorationmode\"></a>",
      "line_number": 3779
    },
    {
      "level": 3,
      "title": "getOldPurchaseToken() <a href=\"#id-c-subscriptionupdateparams-getoldpurchasetoken\" id=\"id-c-subscriptionupdateparams-getoldpurchasetoken\"></a>",
      "line_number": 3792
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-subscriptionupdateparams-newbuilder\" id=\"id-c-subscriptionupdateparams-newbuilder\"></a>",
      "line_number": 3804
    },
    {
      "level": 1,
      "title": "SubscriptionUpdateParams.Builder",
      "line_number": 3818
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-c-subscriptionupdateparams.builder-publicmethods\" id=\"id-c-subscriptionupdateparams.builder-publicmethods\"></a>",
      "line_number": 3831
    },
    {
      "level": 3,
      "title": "setProrationMode() <a href=\"#id-c-subscriptionupdateparams.builder-setprorationmode\" id=\"id-c-subscriptionupdateparams.builder-setprorationmode\"></a>",
      "line_number": 3835
    },
    {
      "level": 3,
      "title": "setOldPurchaseToken() <a href=\"#id-c-subscriptionupdateparams.builder-setoldpurchasetoken\" id=\"id-c-subscriptionupdateparams.builder-setoldpurchasetoken\"></a>",
      "line_number": 3847
    },
    {
      "level": 3,
      "title": "newBuilder <a href=\"#id-c-subscriptionupdateparams.builder-newbuilder\" id=\"id-c-subscriptionupdateparams.builder-newbuilder\"></a>",
      "line_number": 3859
    },
    {
      "level": 1,
      "title": "Interfaces",
      "line_number": 3873
    },
    {
      "level": 1,
      "title": "AcknowledgeListener",
      "line_number": 3888
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-acknowledgelistener-publicmethods\" id=\"id-i-acknowledgelistener-publicmethods\"></a>",
      "line_number": 3900
    },
    {
      "level": 3,
      "title": "onAcknowledgeResponse <a href=\"#id-i-acknowledgelistener-onacknowledgeresponse\" id=\"id-i-acknowledgelistener-onacknowledgeresponse\"></a>",
      "line_number": 3904
    },
    {
      "level": 1,
      "title": "ConsumeListener",
      "line_number": 3919
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-consumelistener-publicmethods\" id=\"id-i-consumelistener-publicmethods\"></a>",
      "line_number": 3931
    },
    {
      "level": 3,
      "title": "onConsumeResponse <a href=\"#id-i-consumelistener-onconsumeresponse\" id=\"id-i-consumelistener-onconsumeresponse\"></a>",
      "line_number": 3935
    },
    {
      "level": 1,
      "title": "IapResultListener",
      "line_number": 3950
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-iapresultlistener-publicmethods\" id=\"id-i-iapresultlistener-publicmethods\"></a>",
      "line_number": 3962
    },
    {
      "level": 3,
      "title": "onResponse <a href=\"#id-i-iapresultlistener-onresponse\" id=\"id-i-iapresultlistener-onresponse\"></a>",
      "line_number": 3966
    },
    {
      "level": 1,
      "title": "ProductDetailsListener",
      "line_number": 3980
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-productdetailslistener-publicmethods\" id=\"id-i-productdetailslistener-publicmethods\"></a>",
      "line_number": 3992
    },
    {
      "level": 3,
      "title": "onProductDetailsResponse <a href=\"#id-i-productdetailslistener-onproductdetailsresponse\" id=\"id-i-productdetailslistener-onproductdetailsresponse\"></a>",
      "line_number": 3996
    },
    {
      "level": 1,
      "title": "PurchaseClientStateListener",
      "line_number": 4011
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-purchaseclientstatelistener-publicmethods\" id=\"id-i-purchaseclientstatelistener-publicmethods\"></a>",
      "line_number": 4023
    },
    {
      "level": 3,
      "title": "onSetupFinished <a href=\"#id-i-purchaseclientstatelistener-onsetupfinished\" id=\"id-i-purchaseclientstatelistener-onsetupfinished\"></a>",
      "line_number": 4027
    },
    {
      "level": 3,
      "title": "onServiceDisconnected <a href=\"#id-i-purchaseclientstatelistener-onservicedisconnected\" id=\"id-i-purchaseclientstatelistener-onservicedisconnected\"></a>",
      "line_number": 4040
    },
    {
      "level": 1,
      "title": "PurchasesListener (deprecated)",
      "line_number": 4050
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-purchaseslistener-deprecated-publicmethods\" id=\"id-i-purchaseslistener-deprecated-publicmethods\"></a>",
      "line_number": 4062
    },
    {
      "level": 3,
      "title": "onPurchasesResponse <a href=\"#id-i-purchaseslistener-deprecated-onpurchasesresponse\" id=\"id-i-purchaseslistener-deprecated-onpurchasesresponse\"></a>",
      "line_number": 4066
    },
    {
      "level": 1,
      "title": "PurchasesUpdatedListener",
      "line_number": 4081
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-purchasesupdatedlistener-publicmethods\" id=\"id-i-purchasesupdatedlistener-publicmethods\"></a>",
      "line_number": 4094
    },
    {
      "level": 3,
      "title": "onPurchasesUpdated <a href=\"#id-i-purchasesupdatedlistener-onpurchasesupdated\" id=\"id-i-purchasesupdatedlistener-onpurchasesupdated\"></a>",
      "line_number": 4098
    },
    {
      "level": 1,
      "title": "QueryPurchasesListener",
      "line_number": 4114
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-querypurchaseslistener-publicmethods\" id=\"id-i-querypurchaseslistener-publicmethods\"></a>",
      "line_number": 4126
    },
    {
      "level": 3,
      "title": "onPurchasesResponse <a href=\"#id-i-querypurchaseslistener-onpurchasesresponse\" id=\"id-i-querypurchaseslistener-onpurchasesresponse\"></a>",
      "line_number": 4130
    },
    {
      "level": 1,
      "title": "RecurringProductListener",
      "line_number": 4145
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-recurringproductlistener-publicmethods\" id=\"id-i-recurringproductlistener-publicmethods\"></a>",
      "line_number": 4157
    },
    {
      "level": 3,
      "title": "onRecurringResponse <a href=\"#id-i-recurringproductlistener-onrecurringresponse\" id=\"id-i-recurringproductlistener-onrecurringresponse\"></a>",
      "line_number": 4161
    },
    {
      "level": 1,
      "title": "StoreInfoListener",
      "line_number": 4177
    },
    {
      "level": 2,
      "title": "Public methods <a href=\"#id-i-storeinfolistener-publicmethods\" id=\"id-i-storeinfolistener-publicmethods\"></a>",
      "line_number": 4190
    },
    {
      "level": 3,
      "title": "onStoreInfoResponse <a href=\"#id-i-storeinfolistener-onstoreinforesponse\" id=\"id-i-storeinfolistener-onstoreinforesponse\"></a>",
      "line_number": 4194
    },
    {
      "level": 1,
      "title": "06. 원스토어 인앱결제 서버 API (API V7)",
      "line_number": 4207
    },
    {
      "level": 2,
      "title": "**개요**  <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>",
      "line_number": 4209
    },
    {
      "level": 3,
      "title": "**HOST URL**  <a href=\"#id-06.-api-apiv7-hosturl\" id=\"id-06.-api-apiv7-hosturl\"></a>",
      "line_number": 4215
    },
    {
      "level": 3,
      "title": "마켓 구분 코드&#x20;",
      "line_number": 4232
    },
    {
      "level": 2,
      "title": "**원스토어 OAuth**  <a href=\"#id-06.-api-apiv7-oauth\" id=\"id-06.-api-apiv7-oauth\"></a>",
      "line_number": 4251
    },
    {
      "level": 3,
      "title": "**OAuth 개요** <a href=\"#id-06.-api-apiv7-oauth\" id=\"id-06.-api-apiv7-oauth\"></a>",
      "line_number": 4253
    },
    {
      "level": 3,
      "title": "**OAuth API 상세** <a href=\"#id-06.-api-apiv7-oauthapi\" id=\"id-06.-api-apiv7-oauthapi\"></a>",
      "line_number": 4294
    },
    {
      "level": 3,
      "title": "**AccessToken 발급**",
      "line_number": 4302
    },
    {
      "level": 2,
      "title": "**서버 API 상세**  <a href=\"#id-06.-api-apiv7-api\" id=\"id-06.-api-apiv7-api\"></a>",
      "line_number": 4385
    },
    {
      "level": 3,
      "title": "getPurchaseDetails (구매상품 상세조회) <a href=\"#id-06.-api-apiv7-getpurchasedetails\" id=\"id-06.-api-apiv7-getpurchasedetails\"></a>",
      "line_number": 4394
    },
    {
      "level": 3,
      "title": "getRecurringPurchaseDetails (월정액 상품 구매 상세조회)  <a href=\"#id-06.-api-apiv7-getrecurringpurchasedetails\" id=\"id-06.-api-apiv7-getrecurringpurchasedetails\"></a>",
      "line_number": 4445
    },
    {
      "level": 3,
      "title": "acknowledgePurchase (구매상품 확인)  <a href=\"#id-06.-api-apiv7-acknowledgepurchase\" id=\"id-06.-api-apiv7-acknowledgepurchase\"></a>",
      "line_number": 4505
    },
    {
      "level": 3,
      "title": "consumePurchase (구매상품 소비) <a href=\"#id-06.-api-apiv7-consumepurchase\" id=\"id-06.-api-apiv7-consumepurchase\"></a>",
      "line_number": 4570
    },
    {
      "level": 3,
      "title": "cancelRecurringPurchase (자동결제 해지요청)  <a href=\"#id-06.-api-apiv7-cancelrecurringpurchase\" id=\"id-06.-api-apiv7-cancelrecurringpurchase\"></a>",
      "line_number": 4629
    },
    {
      "level": 3,
      "title": "reactiveRecurringPurchase (자동결제 해지 취소요청)  <a href=\"#id-06.-api-apiv7-reactiverecurringpurchase\" id=\"id-06.-api-apiv7-reactiverecurringpurchase\"></a>",
      "line_number": 4675
    },
    {
      "level": 3,
      "title": "getVoidedPurchases (구매취소내역 조회)  <a href=\"#id-06.-api-apiv7-getvoidedpurchases\" id=\"id-06.-api-apiv7-getvoidedpurchases\"></a>",
      "line_number": 4721
    },
    {
      "level": 3,
      "title": "getSubscriptionDetail (구독 상세 조회)  <a href=\"#id-06.-api-apiv7-getsubscriptiondetail\" id=\"id-06.-api-apiv7-getsubscriptiondetail\"></a>",
      "line_number": 4789
    },
    {
      "level": 3,
      "title": "cancelSubscription (구독결제 해지요청)  <a href=\"#id-06.-api-apiv7-cancelsubscription\" id=\"id-06.-api-apiv7-cancelsubscription\"></a>",
      "line_number": 4859
    },
    {
      "level": 3,
      "title": "reactivateSubscription (구독결제 해지 취소요청)  <a href=\"#id-06.-api-apiv7-reactivatesubscription\" id=\"id-06.-api-apiv7-reactivatesubscription\"></a>",
      "line_number": 4905
    },
    {
      "level": 3,
      "title": "deferSubscription (구독결제 연기요청)  <a href=\"#id-06.-api-apiv7-defersubscription\" id=\"id-06.-api-apiv7-defersubscription\"></a>",
      "line_number": 4951
    },
    {
      "level": 2,
      "title": "표준응답규격 <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>",
      "line_number": 5009
    },
    {
      "level": 3,
      "title": "표준응답코드 <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>",
      "line_number": 5011
    },
    {
      "level": 3,
      "title": "표준오류 응답규격 <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>",
      "line_number": 5034
    },
    {
      "level": 2,
      "title": "**공통 코드**  <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>",
      "line_number": 5058
    },
    {
      "level": 3,
      "title": "**상품타입 코드**  <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>",
      "line_number": 5060
    },
    {
      "level": 1,
      "title": "07. PNS(Payment Notification Service) 이용하기",
      "line_number": 5072
    },
    {
      "level": 2,
      "title": "**개요**",
      "line_number": 5074
    },
    {
      "level": 2,
      "title": "**PNS 수신 서버 URL 설정**",
      "line_number": 5093
    },
    {
      "level": 2,
      "title": "**PNS 상세**",
      "line_number": 5100
    },
    {
      "level": 3,
      "title": "PNS Payment Notification 메시지 발송 규격 (원스토어 → 개발사 서버)",
      "line_number": 5108
    },
    {
      "level": 4,
      "title": "**paymentMethod(원스토어 결제수단) 정의**",
      "line_number": 5182
    },
    {
      "level": 4,
      "title": "**Signature 검증 방법**",
      "line_number": 5203
    },
    {
      "level": 1,
      "title": "-*- coding: utf-8 -*-",
      "line_number": 5294
    },
    {
      "level": 3,
      "title": "PNS Subscription Notification 메시지 발송 규격 (원스토어 → 개발사 서버)",
      "line_number": 5330
    },
    {
      "level": 4,
      "title": "**구독상태 정의**",
      "line_number": 5378
    },
    {
      "level": 2,
      "title": "Notification 전송 정책",
      "line_number": 5399
    },
    {
      "level": 1,
      "title": "08. 정기 결제 적용하기",
      "line_number": 5423
    },
    {
      "level": 2,
      "title": "**개요** <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5425
    },
    {
      "level": 2,
      "title": "**정기 결제 처리 하기**  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5437
    },
    {
      "level": 3,
      "title": "정기 결제 구매  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5457
    },
    {
      "level": 3,
      "title": "정기 결제 갱신 <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5489
    },
    {
      "level": 3,
      "title": "정기 결제 만료 <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5529
    },
    {
      "level": 3,
      "title": "정기 결제 해지  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5563
    },
    {
      "level": 3,
      "title": "정기 결제 취소 <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5606
    },
    {
      "level": 3,
      "title": "정기 결제 유예  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5642
    },
    {
      "level": 3,
      "title": "정기 결제 계정 보류 <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5693
    },
    {
      "level": 3,
      "title": "정기 결제 일시 중지 <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5742
    },
    {
      "level": 3,
      "title": "상품 변경(업그레이드, 다운그레이드) <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5828
    },
    {
      "level": 3,
      "title": "**정기 결제 관리 화면 열기**    <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5865
    },
    {
      "level": 3,
      "title": "**정기 결제 상품 변경 하기**  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 5911
    },
    {
      "level": 4,
      "title": "**IMMEDIATE\\_WITH\\_TIME\\_PRORATION**",
      "line_number": 5933
    },
    {
      "level": 4,
      "title": "**IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE**",
      "line_number": 5937
    },
    {
      "level": 4,
      "title": "**IMMEDIATE\\_WITHOUT\\_PRORATION**",
      "line_number": 5941
    },
    {
      "level": 4,
      "title": "**DEFERRED**",
      "line_number": 5945
    },
    {
      "level": 3,
      "title": "**정기 결제 기한 연기하기**   <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 6021
    },
    {
      "level": 3,
      "title": "**정기 결제 가격 변경하기** <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 6037
    },
    {
      "level": 4,
      "title": "가격 변경에 대한 동의하는 경우   <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 6055
    },
    {
      "level": 4,
      "title": "가격 변경에 대해 동의하지 않는 경우  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 6061
    },
    {
      "level": 4,
      "title": "실수로 가격 변경을 변경한 경우  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 6065
    },
    {
      "level": 4,
      "title": "두 번의 가격 변경이 발생한 경우  <a href=\"#id-08.\" id=\"id-08.\"></a>",
      "line_number": 6073
    },
    {
      "level": 1,
      "title": "09. 원스토어 인앱결제 릴리즈 노트",
      "line_number": 6086
    },
    {
      "level": 3,
      "title": "원스토어 인앱결제 라이브러리 21.02.00 업데이트",
      "line_number": 6088
    },
    {
      "level": 3,
      "title": "**원스토어 인앱결제 라이브러리 SDK V21.01 배포** <a href=\"#id-09.-apiv7-sdkv21\" id=\"id-09.-apiv7-sdkv21\"></a>",
      "line_number": 6112
    },
    {
      "level": 3,
      "title": "**원스토어 인앱결제 라이브러리 API V7(SDK V21) 출시** <a href=\"#id-09.-apiv7-sdkv21\" id=\"id-09.-apiv7-sdkv21\"></a>",
      "line_number": 6124
    },
    {
      "level": 4,
      "title": "&#x20;구독형 상품  <a href=\"#id-09.\" id=\"id-09.\"></a>",
      "line_number": 6134
    },
    {
      "level": 4,
      "title": "로그인 프로세스 변경  <a href=\"#id-09.\" id=\"id-09.\"></a>",
      "line_number": 6145
    },
    {
      "level": 4,
      "title": "&#x20;배포 방식 변경 <a href=\"#id-09.\" id=\"id-09.\"></a>",
      "line_number": 6154
    },
    {
      "level": 3,
      "title": "**원스토어 인앱결제 라이브러리 API V6(SDK V19) 출시** <a href=\"#id-09.-apiv6-sdkv19\" id=\"id-09.-apiv6-sdkv19\"></a>",
      "line_number": 6160
    },
    {
      "level": 4,
      "title": "&#x20;원스토어 인앱결제 API 버전 삭제  <a href=\"#id-09.-api\" id=\"id-09.-api\"></a>",
      "line_number": 6170
    },
    {
      "level": 4,
      "title": "구매 확인  <a href=\"#id-09.\" id=\"id-09.\"></a>",
      "line_number": 6176
    },
    {
      "level": 4,
      "title": "마켓 구분 코드 얻기 <a href=\"#id-09.\" id=\"id-09.\"></a>",
      "line_number": 6196
    },
    {
      "level": 4,
      "title": "PurchaseClient API 변경  <a href=\"#id-09.-purchaseclientapi\" id=\"id-09.-purchaseclientapi\"></a>",
      "line_number": 6202
    },
    {
      "level": 4,
      "title": "&#x20;Server API 변경  <a href=\"#id-09.-serverapi\" id=\"id-09.-serverapi\"></a>",
      "line_number": 6219
    },
    {
      "level": 4,
      "title": "PNS 메시지 규격 변경  <a href=\"#id-09.-pns\" id=\"id-09.-pns\"></a>",
      "line_number": 6240
    },
    {
      "level": 3,
      "title": "**원스토어 인앱결제 라이브러리 API V5(SDK V17)**  <a href=\"#id-09.-apiv5-sdkv17\" id=\"id-09.-apiv5-sdkv17\"></a>",
      "line_number": 6249
    },
    {
      "level": 1,
      "title": "10. Sample App Download",
      "line_number": 6261
    },
    {
      "level": 3,
      "title": "**원스토어 인앱결제 Sample App 다운로드** <a href=\"#id-10.sampleappdownload-sampleapp\" id=\"id-10.sampleappdownload-sampleapp\"></a>",
      "line_number": 6263
    },
    {
      "level": 1,
      "title": "11. V21로 원스토어 인앱결제 업그레이드 하기",
      "line_number": 6284
    },
    {
      "level": 3,
      "title": "v19에서 v21로 업그레이드 하기 <a href=\"#id-11.v21-v19-v21\" id=\"id-11.v21-v19-v21\"></a>",
      "line_number": 6286
    },
    {
      "level": 4,
      "title": "결제 라이브러리 변경하기 <a href=\"#id-11.v21\" id=\"id-11.v21\"></a>",
      "line_number": 6288
    },
    {
      "level": 4,
      "title": "Json file 변경하기 <a href=\"#id-11.v21-jsonfile\" id=\"id-11.v21-jsonfile\"></a>",
      "line_number": 6319
    },
    {
      "level": 4,
      "title": "Deprecated 항목 수정하기 <a href=\"#id-11.v21-deprecated\" id=\"id-11.v21-deprecated\"></a>",
      "line_number": 6353
    },
    {
      "level": 3,
      "title": "v17에서 v21로 업그레이드 하기 <a href=\"#id-11.v21-v17-v21\" id=\"id-11.v21-v17-v21\"></a>",
      "line_number": 6369
    },
    {
      "level": 4,
      "title": "결제 라이브러리 변경하기 <a href=\"#id-11.v21-.1\" id=\"id-11.v21-.1\"></a>",
      "line_number": 6371
    },
    {
      "level": 4,
      "title": "Json file 종속성 추가 <a href=\"#id-11.v21-jsonfile\" id=\"id-11.v21-jsonfile\"></a>",
      "line_number": 6390
    },
    {
      "level": 4,
      "title": "변경 사항 수정하기 <a href=\"#id-11.v21\" id=\"id-11.v21\"></a>",
      "line_number": 6394
    },
    {
      "level": 1,
      "title": "12. Unity에서 원스토어 인앱결제 (SDK V21) 사용하기",
      "line_number": 6402
    },
    {
      "level": 2,
      "title": "개요",
      "line_number": 6404
    },
    {
      "level": 3,
      "title": "개발 버전",
      "line_number": 6408
    },
    {
      "level": 2,
      "title": "원스토어 결제 플러그인 설정",
      "line_number": 6412
    },
    {
      "level": 3,
      "title": "플러그인 다운로드 및 가져오기",
      "line_number": 6414
    },
    {
      "level": 3,
      "title": "외부 종속성 포함",
      "line_number": 6435
    },
    {
      "level": 3,
      "title": "\\<queries> 설정",
      "line_number": 6463
    },
    {
      "level": 3,
      "title": "스토어 지정을 위한 개발자 옵션 설정",
      "line_number": 6496
    },
    {
      "level": 2,
      "title": "게임에서 원스토어 인앱 결제 라이브러리 적용하기",
      "line_number": 6518
    },
    {
      "level": 3,
      "title": "로그레벨 설정",
      "line_number": 6520
    },
    {
      "level": 3,
      "title": "원스토어 인앱 결제 초기화",
      "line_number": 6546
    },
    {
      "level": 3,
      "title": "상품 정보 조회하기",
      "line_number": 6564
    },
    {
      "level": 3,
      "title": "구매 요청하기",
      "line_number": 6600
    },
    {
      "level": 3,
      "title": "정기 결제 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6675
    },
    {
      "level": 4,
      "title": "사용자가 정기 결제를 업그레이드, 다운그레이드 또는 변경할 수 있도록 허용 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6687
    },
    {
      "level": 4,
      "title": "업그레이드 또는 다운그레이드 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6699
    },
    {
      "level": 3,
      "title": "구매 후 처리 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6728
    },
    {
      "level": 4,
      "title": "구매 소비하기 (consume) <a href=\"#id-12.unity-sdkv21-consume\" id=\"id-12.unity-sdkv21-consume\"></a>",
      "line_number": 6732
    },
    {
      "level": 4,
      "title": "구매 확인하기 (acknowledge) <a href=\"#id-12.unity-sdkv21-acknowledge\" id=\"id-12.unity-sdkv21-acknowledge\"></a>",
      "line_number": 6771
    },
    {
      "level": 3,
      "title": "구매 내역 조회하기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6802
    },
    {
      "level": 3,
      "title": "월 정액 상품 상태 변경하기 (Deprecated) <a href=\"#id-12.unity-sdkv21-deprecated\" id=\"id-12.unity-sdkv21-deprecated\"></a>",
      "line_number": 6826
    },
    {
      "level": 3,
      "title": "정기 결제 관리 화면을 열기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6853
    },
    {
      "level": 3,
      "title": "마켓 구분 코드 얻기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6866
    },
    {
      "level": 3,
      "title": "설치 마켓 확인하기&#x20;",
      "line_number": 6881
    },
    {
      "level": 4,
      "title": "Store Type 정의",
      "line_number": 6885
    },
    {
      "level": 4,
      "title": "API 사용 방법",
      "line_number": 6891
    },
    {
      "level": 4,
      "title": "스토어 판단 기준",
      "line_number": 6920
    },
    {
      "level": 3,
      "title": "원스토어 서비스 설치하기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6931
    },
    {
      "level": 3,
      "title": "원스토어 로그인 요청하기  <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>",
      "line_number": 6941
    },
    {
      "level": 1,
      "title": "13. Unity에서 IAP SDK v21로 업그레이드 하기",
      "line_number": 6958
    },
    {
      "level": 3,
      "title": "**Unity 용 v21 라이브러리 파일 업데이트하기** <a href=\"#id-13.unity-iapsdkv21-unity-v21\" id=\"id-13.unity-iapsdkv21-unity-v21\"></a>",
      "line_number": 6960
    },
    {
      "level": 4,
      "title": "v19 라이브러리 파일 삭제하기 <a href=\"#id-13.unity-iapsdkv21-v19\" id=\"id-13.unity-iapsdkv21-v19\"></a>",
      "line_number": 6966
    },
    {
      "level": 4,
      "title": "AndroidManifest.xml에서 엘리먼트 제거하기 <a href=\"#id-13.unity-iapsdkv21-androidmanifest.xml\" id=\"id-13.unity-iapsdkv21-androidmanifest.xml\"></a>",
      "line_number": 6972
    },
    {
      "level": 4,
      "title": "[Unity용 v21 라이브러리 파일](https://github.com/ONE-store/unity_plugins/tree/archive)을 추가하기  <a href=\"#id-13.unity-iapsdkv21-unity-v21\" id=\"id-13.unity-iapsdkv21-unity-v21\"></a>",
      "line_number": 6993
    },
    {
      "level": 3,
      "title": "IAP SDK v21의 새로운 기능을 사용하기 위해 업그레이드하기 <a href=\"#id-13.unity-iapsdkv21-iapsdkv21\" id=\"id-13.unity-iapsdkv21-iapsdkv21\"></a>",
      "line_number": 7006
    },
    {
      "level": 4,
      "title": "v19 \".unitypackage\"에서 추가되었던 파일 삭제하기 <a href=\"#id-13.unity-iapsdkv21-v19-.unitypackage\" id=\"id-13.unity-iapsdkv21-v19-.unitypackage\"></a>",
      "line_number": 7008
    },
    {
      "level": 4,
      "title": "AndroidManifest.xml에서 엘리먼트 제거하기 <a href=\"#id-13.unity-iapsdkv21-androidmanifest.xml-.1\" id=\"id-13.unity-iapsdkv21-androidmanifest.xml-.1\"></a>",
      "line_number": 7015
    },
    {
      "level": 4,
      "title": "GameObject 제거하기 <a href=\"#id-13.unity-iapsdkv21-gameobject\" id=\"id-13.unity-iapsdkv21-gameobject\"></a>",
      "line_number": 7036
    },
    {
      "level": 1,
      "title": "14. Flutter에서 원스토어 인앱 결제 사용하기",
      "line_number": 7050
    },
    {
      "level": 2,
      "title": "개요 <a href=\"#undefined\" id=\"undefined\"></a>",
      "line_number": 7052
    },
    {
      "level": 2,
      "title": "개발 버전 <a href=\"#undefined-1\" id=\"undefined-1\"></a>",
      "line_number": 7056
    },
    {
      "level": 2,
      "title": "플러그인 설정 <a href=\"#undefined-2\" id=\"undefined-2\"></a>",
      "line_number": 7062
    },
    {
      "level": 3,
      "title": "pubspec.yaml 파일에 플러그인 추가하기 <a href=\"#pubspec.yaml\" id=\"pubspec.yaml\"></a>",
      "line_number": 7064
    },
    {
      "level": 3,
      "title": "Android build.gradle에 종속성 추가하기 <a href=\"#android-build.gradle\" id=\"android-build.gradle\"></a>",
      "line_number": 7073
    },
    {
      "level": 3,
      "title": "AndroidMainifest.xml 파일에 \\<queries> 추가하기 <a href=\"#androidmainifest.xml-less-than-queries-greater-than\" id=\"androidmainifest.xml-less-than-queries-greater-than\"></a>",
      "line_number": 7085
    },
    {
      "level": 3,
      "title": "스토어 지정을 위한 개발자 옵션 설정 <a href=\"#undefined-3\" id=\"undefined-3\"></a>",
      "line_number": 7111
    },
    {
      "level": 4,
      "title": "v21.02.00 업데이트 – 글로벌 스토어 선택 기능 추가",
      "line_number": 7113
    },
    {
      "level": 2,
      "title": "앱에서 원스토어 인앱 결제 라이브러리 적용하기 <a href=\"#undefined-4\" id=\"undefined-4\"></a>",
      "line_number": 7143
    },
    {
      "level": 3,
      "title": "로그 레벨 설정 <a href=\"#undefined-5\" id=\"undefined-5\"></a>",
      "line_number": 7145
    },
    {
      "level": 3,
      "title": "로그인 요청하기 <a href=\"#undefined-6\" id=\"undefined-6\"></a>",
      "line_number": 7174
    },
    {
      "level": 3,
      "title": "구매 라이브러리 초기화 <a href=\"#undefined-7\" id=\"undefined-7\"></a>",
      "line_number": 7194
    },
    {
      "level": 3,
      "title": "구매 데이터 업데이트 및 오류 응답 청취하기 <a href=\"#undefined-8\" id=\"undefined-8\"></a>",
      "line_number": 7209
    },
    {
      "level": 3,
      "title": "상품 상세 정보 조회하기 <a href=\"#undefined-9\" id=\"undefined-9\"></a>",
      "line_number": 7243
    },
    {
      "level": 3,
      "title": "구매 요청하기 <a href=\"#undefined-10\" id=\"undefined-10\"></a>",
      "line_number": 7325
    },
    {
      "level": 3,
      "title": "정기 결제 업그레이드 또는 다운그레이드 <a href=\"#undefined-11\" id=\"undefined-11\"></a>",
      "line_number": 7353
    },
    {
      "level": 3,
      "title": "구매 후 처리 <a href=\"#undefined-12\" id=\"undefined-12\"></a>",
      "line_number": 7402
    },
    {
      "level": 4,
      "title": "**소비하기 (Consume)**",
      "line_number": 7446
    },
    {
      "level": 4,
      "title": "**확인하기 (Acknowledge)**",
      "line_number": 7481
    },
    {
      "level": 3,
      "title": "구매 내역 조회하기 <a href=\"#undefined-13\" id=\"undefined-13\"></a>",
      "line_number": 7513
    },
    {
      "level": 3,
      "title": "정기 결제 관리 화면 열기 <a href=\"#undefined-14\" id=\"undefined-14\"></a>",
      "line_number": 7567
    },
    {
      "level": 3,
      "title": "StoreEnvironment API 기능 추가 <a href=\"#undefined-15\" id=\"undefined-15\"></a>",
      "line_number": 7595
    },
    {
      "level": 4,
      "title": "&#x20;Store Type 정의",
      "line_number": 7599
    },
    {
      "level": 4,
      "title": "API 사용 방법",
      "line_number": 7605
    },
    {
      "level": 2,
      "title": "원스토어 서비스 설치하기 <a href=\"#undefined-15\" id=\"undefined-15\"></a>",
      "line_number": 7666
    },
    {
      "level": 1,
      "title": "15. 웹 결제 규격 적용하기",
      "line_number": 7689
    },
    {
      "level": 2,
      "title": "개요",
      "line_number": 7691
    },
    {
      "level": 1,
      "title": "회원 인증",
      "line_number": 7699
    },
    {
      "level": 2,
      "title": "1.개요 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-1\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-1\"></a>",
      "line_number": 7701
    },
    {
      "level": 2,
      "title": "2.주의사항 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-2\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-2\"></a>",
      "line_number": 7711
    },
    {
      "level": 2,
      "title": "3.회원 인증 플로우 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-3\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-3\"></a>",
      "line_number": 7721
    },
    {
      "level": 3,
      "title": "3.1 Conceptual View <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-3\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-3\"></a>",
      "line_number": 7723
    },
    {
      "level": 3,
      "title": "3.2 논리 API ↔ 물리 API 규격 매핑 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-3.2-api-api\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-3.2-api-api\"></a>",
      "line_number": 7727
    },
    {
      "level": 2,
      "title": "4. ONE store 회원인증 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.onestore\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.onestore\"></a>",
      "line_number": 7737
    },
    {
      "level": 3,
      "title": "4.1 ONE store 로그인 API 개요 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.1onestore-api\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.1onestore-api\"></a>",
      "line_number": 7739
    },
    {
      "level": 4,
      "title": "**4.1.1 표준 응답코드** <a href=\"#response-code\" id=\"response-code\"></a>",
      "line_number": 7756
    },
    {
      "level": 4,
      "title": "**4.1.2 표준 오류응답**",
      "line_number": 7763
    },
    {
      "level": 4,
      "title": "**4.1.3 client\\_id와 client\\_secret**",
      "line_number": 7774
    },
    {
      "level": 4,
      "title": "**4.1.4 User Access Token 및 Refresh Token 발급 기준**",
      "line_number": 7779
    },
    {
      "level": 3,
      "title": "4.2 ONE store 로그인 인증 요청 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.2onestore\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.2onestore\"></a>",
      "line_number": 7806
    },
    {
      "level": 3,
      "title": "4.3 ONE store User Access Token 발급 요청 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.3onestoreuseraccesstoken\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.3onestoreuseraccesstoken\"></a>",
      "line_number": 7852
    },
    {
      "level": 1,
      "title": "웹에서 원스토어 인앱 결제 사용하기",
      "line_number": 7894
    },
    {
      "level": 2,
      "title": "개요",
      "line_number": 7896
    },
    {
      "level": 2,
      "title": "사전 확인",
      "line_number": 7900
    },
    {
      "level": 3,
      "title": "회원인증 연동",
      "line_number": 7902
    },
    {
      "level": 3,
      "title": "방화벽 정책 등록",
      "line_number": 7907
    },
    {
      "level": 2,
      "title": "연동 아키텍쳐",
      "line_number": 7914
    },
    {
      "level": 2,
      "title": "서버 APIs",
      "line_number": 7919
    },
    {
      "level": 3,
      "title": "Standard Response Codes",
      "line_number": 7924
    },
    {
      "level": 4,
      "title": "표준 응답코드",
      "line_number": 7928
    },
    {
      "level": 4,
      "title": "상품 타입 코드&#x20;",
      "line_number": 7945
    },
    {
      "level": 3,
      "title": "requestPurchase <a href=\"#id-2.-apiv7-4.2requestpurchase\" id=\"id-2.-apiv7-4.2requestpurchase\"></a>",
      "line_number": 7954
    },
    {
      "level": 4,
      "title": "**\\[API Spec.]**&#x20;",
      "line_number": 7956
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 7964
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8006
    },
    {
      "level": 3,
      "title": "getProductDetails <a href=\"#id-2.-apiv7-4.3getproductdetails\" id=\"id-2.-apiv7-4.3getproductdetails\"></a>",
      "line_number": 8037
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8039
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8047
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8086
    },
    {
      "level": 3,
      "title": "getPurchases <a href=\"#id-2.-apiv7-4.4getpurchases\" id=\"id-2.-apiv7-4.4getpurchases\"></a>",
      "line_number": 8137
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8139
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8147
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8182
    },
    {
      "level": 3,
      "title": "consumePurchase <a href=\"#id-2.-apiv7-4.5consumepurchase\" id=\"id-2.-apiv7-4.5consumepurchase\"></a>",
      "line_number": 8256
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8258
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8266
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8302
    },
    {
      "level": 3,
      "title": "acknowledgePurchase",
      "line_number": 8336
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8338
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8346
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8380
    },
    {
      "level": 3,
      "title": "cancelRecurringPurchase <a href=\"#id-2.-apiv7-4.7cancelrecurringpurchase\" id=\"id-2.-apiv7-4.7cancelrecurringpurchase\"></a>",
      "line_number": 8414
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8416
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8424
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8457
    },
    {
      "level": 3,
      "title": "reactivateRecurringPurchase <a href=\"#id-2.-apiv7-4.8reactivaterecurringpurchase\" id=\"id-2.-apiv7-4.8reactivaterecurringpurchase\"></a>",
      "line_number": 8491
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8493
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8501
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8534
    },
    {
      "level": 3,
      "title": "cancelSubscription <a href=\"#id-2.-apiv7-4.9cancelsubscription\" id=\"id-2.-apiv7-4.9cancelsubscription\"></a>",
      "line_number": 8568
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8570
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8578
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8611
    },
    {
      "level": 3,
      "title": "reactivateSubscription <a href=\"#id-2.-apiv7-4.10reactivatesubscription\" id=\"id-2.-apiv7-4.10reactivatesubscription\"></a>",
      "line_number": 8642
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8644
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8652
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8684
    },
    {
      "level": 3,
      "title": "getSubscriptionDetail <a href=\"#id-2.-apiv7-4.11getsubscriptiondetail\" id=\"id-2.-apiv7-4.11getsubscriptiondetail\"></a>",
      "line_number": 8715
    },
    {
      "level": 4,
      "title": "**\\[ API Spec. ]**",
      "line_number": 8717
    },
    {
      "level": 4,
      "title": "**\\[ Request ]**",
      "line_number": 8725
    },
    {
      "level": 4,
      "title": "**\\[ Response ]**",
      "line_number": 8755
    },
    {
      "level": 2,
      "title": "결제",
      "line_number": 8822
    },
    {
      "level": 3,
      "title": "결제 요청 <a href=\"#id-2.-apiv7-5.1\" id=\"id-2.-apiv7-5.1\"></a>",
      "line_number": 8824
    },
    {
      "level": 4,
      "title": "**\\[ 호출 Spec. ]**",
      "line_number": 8830
    },
    {
      "level": 4,
      "title": "**결제 요청 시 브라우저 크기**",
      "line_number": 8844
    },
    {
      "level": 3,
      "title": "결제 응답 <a href=\"#id-2.-apiv7-5.2\" id=\"id-2.-apiv7-5.2\"></a>",
      "line_number": 8858
    },
    {
      "level": 4,
      "title": "**\\[ 호출 Spec. ]**",
      "line_number": 8862
    },
    {
      "level": 4,
      "title": "**응답코드**",
      "line_number": 8925
    }
  ],
  "header_count": 542,
  "header_levels": {
    "1": 61,
    "2": 98,
    "3": 287,
    "4": 96
  },
  "tables": [
    {
      "content": "| 결제 주기 | Sandbox 내 시간 |\n| ----- | ------------ |\n| 1주    | 5분           |\n| 1개월   | 5분           |\n| 3개월   | 10분          |\n| 6개월   | 15분          |\n| 1년    | 30분          |\n",
      "start_pos": 10734,
      "end_pos": 10909
    },
    {
      "content": "| 기능                | Sandbox 내 시간 |\n| ----------------- | ------------ |\n| 무료 구독             | 3분           |\n| 유예 기간             | 5분           |\n| 계정 보류             | 10분          |\n| 가격 변경 반영 (7일)     | 5분           |\n| 가격 변경 동의 기간 (30일) | 5분           |\n",
      "start_pos": 10910,
      "end_pos": 11169
    },
    {
      "content": "| 상수             | 값 |\n| -------------- | - |\n| VERBOSE        | 2 |\n| DEBUG          | 3 |\n| INFO (default) | 4 |\n| WARN           | 5 |\n| ERROR          | 6 |\n",
      "start_pos": 16630,
      "end_pos": 16791
    },
    {
      "content": "| 비례 배분 모드                                | 설명                                                                                          |\n| --------------------------------------- | ------------------------------------------------------------------------------------------- |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 정기 결제의 교체가 즉시 이루어지며, 남은 시간은 가격 차이를 기반으로 조정되어 입금되거나 청구됩니다. (이것은 기본 동작입니다.)                   |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | 정기 결제의 교체가 즉시 이루어지며, 청구 주기는 동일하게 유지됩니다. 나머지 기간에 대한 가격이 청구됩니다. (이 옵션은 업그레이드 에서만 사용할 수 있습니다.) |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 정기 결제의 교체가 즉시 이루어지며, 다음 결제일에 새로운 가격이 청구됩니다. 청구 주기는 동일하게 적용됩니다.                              |\n| DEFERRED                                | 기존 요금제가 만료되면 교체가 적용되며 새 요금이 동시에 청구됩니다.                                                      |\n",
      "start_pos": 28780,
      "end_pos": 29608
    },
    {
      "content": "| Nested classes |                                                                                                                             |\n| -------------- | --------------------------------------------------------------------------------------------------------------------------- |\n| class          | <p><a href=\"acknowledgeparams.builder\">[C]AcknowledgeParams.Builder</a></p><p>AcknowledgeParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 68078,
      "end_pos": 68513
    },
    {
      "content": "| **Returns:**                      |             |\n| --------------------------------- | ----------- |\n| [\\[C\\]PurchaseData](purchasedata) | <p><br></p> |\n",
      "start_pos": 68819,
      "end_pos": 68975
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 69170,
      "end_pos": 69263
    },
    {
      "content": "| **Returns:**                                                |             |\n| ----------------------------------------------------------- | ----------- |\n| [\\[C\\]AcknowledgeParams.Builder](acknowledgeparams.builder) | <p><br></p> |\n",
      "start_pos": 69464,
      "end_pos": 69698
    },
    {
      "content": "| **Parameters:**           |             |\n| ------------------------- | ----------- |\n| purchaseData              | <p><br></p> |\n| **Returns:**              |             |\n| AcknowledgeParams.Builder | <p><br></p> |\n",
      "start_pos": 70399,
      "end_pos": 70619
    },
    {
      "content": "| **Parameters:**           |                |\n| ------------------------- | -------------- |\n| developerPayload          | 개발사의 페이로드 입니다. |\n| **Returns:**              |                |\n| AcknowledgeParams.Builder | <p><br></p>    |\n",
      "start_pos": 70848,
      "end_pos": 71083
    },
    {
      "content": "| **Returns:**                                 |             |\n| -------------------------------------------- | ----------- |\n| [\\[C\\]AcknowledgeParams](acknowledgeparams)  | <p><br></p> |\n",
      "start_pos": 71276,
      "end_pos": 71465
    },
    {
      "content": "| Nested classes |                                                                             |\n| -------------- | --------------------------------------------------------------------------- |\n| class          | <p>[C]ConsumeParams.Builder</p><p>ConsumeParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 71947,
      "end_pos": 72238
    },
    {
      "content": "| **Returns:**                      |             |\n| --------------------------------- | ----------- |\n| [\\[C\\]PurchaseData](purchasedata) | <p><br></p> |\n",
      "start_pos": 72528,
      "end_pos": 72684
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 72871,
      "end_pos": 72964
    },
    {
      "content": "| **Returns:**                                        |             |\n| --------------------------------------------------- | ----------- |\n| [\\[C\\]ConsumeParams.Builder](consumeparams.builder) | <p><br></p> |\n",
      "start_pos": 73149,
      "end_pos": 73359
    },
    {
      "content": "| **Parameters:**       |             |\n| --------------------- | ----------- |\n| purchaseData          | <p><br></p> |\n| **Returns:**          |             |\n| ConsumeParams.Builder | <p><br></p> |\n",
      "start_pos": 74016,
      "end_pos": 74216
    },
    {
      "content": "| **Parameters:**       |                |\n| --------------------- | -------------- |\n| developerPayload      | 개발사의 페이로드 입니다. |\n| **Returns:**          |                |\n| ConsumeParams.Builder | <p><br></p>    |\n",
      "start_pos": 74433,
      "end_pos": 74648
    },
    {
      "content": "| **Returns:**                        |             |\n| ----------------------------------- | ----------- |\n| [\\[C\\]ConsumeParams](consumeparams) | <p><br></p> |\n",
      "start_pos": 74810,
      "end_pos": 74972
    },
    {
      "content": "| **Nested classes** |                                                                                                     |\n| ------------------ | --------------------------------------------------------------------------------------------------- |\n| class              | <p><a href=\"iapresult.builder\">[C]IapResult.Builder</a></p><p>IapResult의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 75319,
      "end_pos": 75694
    },
    {
      "content": "| **Returns:** |                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------- |\n| int          | [\\[A\\]PurchaseClient.ResponseCode](../annotations/purchaseclient.responsecode)에 해당되는 결과 값 |\n",
      "start_pos": 75968,
      "end_pos": 76295
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 76450,
      "end_pos": 76543
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| boolean      | <p><br></p> |\n",
      "start_pos": 76741,
      "end_pos": 76834
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| boolean      | <p><br></p> |\n",
      "start_pos": 76992,
      "end_pos": 77085
    },
    {
      "content": "| **Returns:**                                |             |\n| ------------------------------------------- | ----------- |\n| [\\[C\\]IapResult.Builder](iapresult.builder) | <p><br></p> |\n",
      "start_pos": 77254,
      "end_pos": 77440
    },
    {
      "content": "| **Parameters:**   |                               |\n| ----------------- | ----------------------------- |\n| responseCode      | In-app Purchase API 응답 코드입니다. |\n| **Returns:**      |                               |\n| IapResult.Builder | <p><br></p>                   |\n",
      "start_pos": 78041,
      "end_pos": 78311
    },
    {
      "content": "| **Returns:**                |             |\n| --------------------------- | ----------- |\n| [\\[C\\]IapResult](iapresult) | <p><br></p> |\n",
      "start_pos": 78955,
      "end_pos": 79093
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 79901,
      "end_pos": 79994
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 80152,
      "end_pos": 80245
    },
    {
      "content": "| **Returns:** |                                                                              |\n| ------------ | ---------------------------------------------------------------------------- |\n| String       | [\\[A\\]PurchaseClient.ProductType](../annotations/purchaseclient.producttype) |\n",
      "start_pos": 80379,
      "end_pos": 80667
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 80805,
      "end_pos": 80898
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 81096,
      "end_pos": 81189
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 81412,
      "end_pos": 81505
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 81643,
      "end_pos": 81736
    },
    {
      "content": "| Nested classes |                                                                                                                                                                                |\n| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| class          | <p><a href=\"../../../old-version/v19/undefined-3/classes/productdetailsparams.builder\">ProductDetailsParams.Builder</a></p><p>ProductDetailsParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 82292,
      "end_pos": 82880
    },
    {
      "content": "| **Returns:**  |             |\n| ------------- | ----------- |\n| List\\<String> | <p><br></p> |\n",
      "start_pos": 83202,
      "end_pos": 83298
    },
    {
      "content": "| **Returns:** |                                                                              |\n| ------------ | ---------------------------------------------------------------------------- |\n| String       | [\\[A\\]PurchaseClient.ProductType](../annotations/purchaseclient.producttype) |\n",
      "start_pos": 83484,
      "end_pos": 83772
    },
    {
      "content": "| **Returns:**                                                                                              |             |\n| --------------------------------------------------------------------------------------------------------- | ----------- |\n| [ProductDetailsParams.Builder](../../../old-version/v19/undefined-3/classes/productdetailsparams.builder) | <p><br></p> |\n",
      "start_pos": 83982,
      "end_pos": 84354
    },
    {
      "content": "| **Returns:**                                 |             |\n| -------------------------------------------- | ----------- |\n| [ProductDetailsParams](productdetailsparams) | <p><br></p> |\n",
      "start_pos": 86234,
      "end_pos": 86423
    },
    {
      "content": "| `class` `YourPurchaseManager implements` `PurchaseClientStateListener {     private` `PurchaseClient mPurchaseClient;` `public` `YourPurchaseManager() {         mPurchaseClient = PurchaseClient.newBuilder(activity)                     .setBase64PublicKey(/* your public key */)                     .setListener(this)                     .build();     } ... }` |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n",
      "start_pos": 86941,
      "end_pos": 87669
    },
    {
      "content": "| Nested classes |                                                                                                                |\n| -------------- | -------------------------------------------------------------------------------------------------------------- |\n| @interface     | [PurchaseClient.ConnectionState](../annotations/purchaseclient.connectionstate)                                |\n| @interface     | [PurchaseClient.ResponseCode](../annotations/purchaseclient.responsecode)                                      |\n| @interface     | [PurchaseClient.ProductType](../annotations/purchaseclient.producttype)                                        |\n| @interface     | [PurchaseClient.RecurringAction](../annotations/purchaseclient.recurringaction)                                |\n| @interface     | [PurchaseClient.FeatureType](../annotations/purchaseclient.featuretype)                                        |\n| class          | <p><a href=\"purchaseclient.builder\">PurchaseClient.Builder</a></p><p>PurchaseClient 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 88351,
      "end_pos": 89407
    },
    {
      "content": "| **Parameters:**                                  |                                              |\n| ------------------------------------------------ | -------------------------------------------- |\n| context                                          | applicationContext를 사용하여 결제모듈과 연결을 위해 사용됩니다. |\n| Returns:                                         |                                              |\n| [PurchaseClient.Builder](purchaseclient.builder) |                                              |\n",
      "start_pos": 89724,
      "end_pos": 90224
    },
    {
      "content": "| Returns: |\n| -------- |\n| boolean  |\n",
      "start_pos": 90426,
      "end_pos": 90465
    },
    {
      "content": "| Returns: |                                                                                              |\n| -------- | -------------------------------------------------------------------------------------------- |\n| int      | [PurchaseClient.ConnectionState](../annotations/purchaseclient.connectionstate) 에 해당하는 상태 값. |\n",
      "start_pos": 90684,
      "end_pos": 91008
    },
    {
      "content": "| **Parameters:** |                                                                                                                               |\n| --------------- | ----------------------------------------------------------------------------------------------------------------------------- |\n| String          | [PurchaseClient.FeatureType](../annotations/purchaseclient.featuretype) 상수 중 하나 입니다.                                          |\n| **Returns:**    |                                                                                                                               |\n| IapResult       | <p>기능이 지원되는 경우 PurchaseClient.ResponseCode.RESULT_OK<br>그렇지 않을 경우 PurchaseClient.ResponseCode.ERROR_FEATURE_NOT_SUPPORTED</p> |\n",
      "start_pos": 91247,
      "end_pos": 91987
    },
    {
      "content": "| **Parameters:** |                                                |\n| --------------- | ---------------------------------------------- |\n| listener        | PurchaseClient 설정과 결제모듈 연결이 완료 되었을 때 응답을 받습니다. |\n",
      "start_pos": 92336,
      "end_pos": 92543
    },
    {
      "content": "| **Parameters:** |                                                           |\n| --------------- | --------------------------------------------------------- |\n| activity        | Activity: 결제 모듈의 업데이트 또는 설치의 흐름 알기위해 activity를 참조합니다.     |\n| listener        | [\\[I\\]IapResultListener](../interfaces/iapresultlistener) |\n",
      "start_pos": 93139,
      "end_pos": 93459
    },
    {
      "content": "| **Parameters:**      |                                          |\n| -------------------- | ---------------------------------------- |\n| activity             | Activity: 구매화면을 띄우기 위해 activity를 참조합니다.  |\n| params               | PurchaseFlowParams 구매화면을 띄우기 위한 매개변수입니다. |\n| **Returns:**         |                                          |\n| <p>IapResult<br></p> |                                          |\n",
      "start_pos": 93847,
      "end_pos": 94255
    },
    {
      "content": "| **Parameters:** |                                                                      |\n| --------------- | -------------------------------------------------------------------- |\n| params          | [ConsumeParams](consumeparams) 소비를 위한 매개변수입니다.                       |\n| listener        | [ConsumeListener](../interfaces/consumelistener) 소비 작업의 결과를 전달 받습니다. |\n",
      "start_pos": 94577,
      "end_pos": 94941
    },
    {
      "content": "| **Parameters:**   |                                                                                 |\n| ----------------- | ------------------------------------------------------------------------------- |\n| acknowledgeParams | [AcknowledgeParams](acknowledgeparams) 구매 확인을 위한 매개변수입니다.                       |\n| listener          | [AcknowledgeListener](../interfaces/acknowledgelistener) 구매 확인 작업의 결과를 전달 받습니다. |\n",
      "start_pos": 95408,
      "end_pos": 95824
    },
    {
      "content": "| **Parameters:** |                                                                                        |\n| --------------- | -------------------------------------------------------------------------------------- |\n| productType     | [PurchaseClient.ProductType](../annotations/purchaseclient.producttype) 상품의 타입을 지정합니다. |\n| listener        | [QueryPurchasesListener](../interfaces/querypurchaseslistener) 구매내역에 대한 결과를 전달 받습니다.   |\n",
      "start_pos": 96075,
      "end_pos": 96511
    },
    {
      "content": "| **Parameters:** |                                                                                         |\n| --------------- | --------------------------------------------------------------------------------------- |\n| params          | [ProductDetailsParams](productdetailsparams) 상품 상세정보를 가져오기 위한 매개변수입니다.                  |\n| listener        | [ProductDetailsListener](../interfaces/productdetailslistener) 상품 상세정보에 대한 결과를 전달 받습니다. |\n",
      "start_pos": 96769,
      "end_pos": 97209
    },
    {
      "content": "| **Parameters:**        |                                                                                                  |\n| ---------------------- | ------------------------------------------------------------------------------------------------ |\n| recurringProductParams | [RecurringProductParams](recurringproductparams) 월정액 상품 상태 변경을 위한 매개변수입니다.                       |\n| listener               | [RecurringProductListener](../interfaces/recurringproductlistener) 월정액 상품 상태 변경에 대한 결과를 전달 받습니다. |\n",
      "start_pos": 97530,
      "end_pos": 98034
    },
    {
      "content": "| **Parameters:** |                                                                                  |\n| --------------- | -------------------------------------------------------------------------------- |\n| activity        | Activity: 스토어 로그인의 흐름 알기위해 activity를 참조합니다.                                      |\n| listener        | [IapResultListener](../interfaces/iapresultlistener) 로그인 성공, 실패에 대한 결과를 전달 받습니다. |\n",
      "start_pos": 98380,
      "end_pos": 98792
    },
    {
      "content": "| **Parameters:**    |                                                                                                                        |\n| ------------------ | ---------------------------------------------------------------------------------------------------------------------- |\n| activity           | Activity: 구독 상풍 관리 메뉴로 이동하기 위해 activity를 참조합니다.                                                                        |\n| subscriptionParams | <p><a href=\"subscriptionparams\">SubscriptionParams</a> null 일 경우 관리 메뉴 화면으로<br>PurchaseData 가 있을 경우 상세 화면으로 이동합니다.</p> |\n",
      "start_pos": 99081,
      "end_pos": 99657
    },
    {
      "content": "| **Parameters:** |                                                                        |\n| --------------- | ---------------------------------------------------------------------- |\n| listener        | [StoreInfoListener](../interfaces/storeinfolistener) 마켓 구분코드를 전달 받습니다. |\n",
      "start_pos": 99927,
      "end_pos": 100206
    },
    {
      "content": "| **Parameters:**                   |                        |\n| --------------------------------- | ---------------------- |\n| base64PublicKey                   | base64EncodedPublicKey |\n| **Returns**                       |                        |\n| <p>PurchaseClient.Builder<br></p> |                        |\n",
      "start_pos": 100930,
      "end_pos": 101245
    },
    {
      "content": "| **Parameters:**                   |                                                                    |\n| --------------------------------- | ------------------------------------------------------------------ |\n| listener                          | [PurchasesUpdatedListener](../interfaces/purchasesupdatedlistener) |\n| **Returns:**                      |                                                                    |\n| <p>PurchaseClient.Builder<br></p> |                                                                    |\n",
      "start_pos": 101503,
      "end_pos": 102038
    },
    {
      "content": "| **Return:**                           |                                          |\n| ------------------------------------- | ---------------------------------------- |\n| [\\[C\\]PurchaseClient](purchaseclient) |                                          |\n| **Throws:**                           |                                          |\n| java.lang.IllegalArgumentException    | context or listener 가 정상적이지 않을 경우 발생합니다. |\n",
      "start_pos": 102220,
      "end_pos": 102645
    },
    {
      "content": "| Nested classes |                                                                                    |\n| -------------- | ---------------------------------------------------------------------------------- |\n| @interface     | [\\[A\\]PurchaseData.AcknowledgeState](../annotations/purchasedata.acknowledgestate) |\n| @interface     | [\\[A\\]PurchaseData.PurchaseState](../annotations/purchasedata.purchasestate)       |\n| @interface     | [\\[A\\]PurchaseData.RecurringState](../annotations/purchasedata.recurringstate)     |\n",
      "start_pos": 102982,
      "end_pos": 103502
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 104021,
      "end_pos": 104114
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 104292,
      "end_pos": 104385
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 104541,
      "end_pos": 104634
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| long         | <p><br></p> |\n",
      "start_pos": 104807,
      "end_pos": 104900
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| boolean      | <p><br></p> |\n",
      "start_pos": 105079,
      "end_pos": 105172
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 105396,
      "end_pos": 105489
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 106177,
      "end_pos": 106270
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| int          | <p><br></p> |\n",
      "start_pos": 106477,
      "end_pos": 106570
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| int          | <p><br></p> |\n",
      "start_pos": 106834,
      "end_pos": 106927
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| int          | <p><br></p> |\n",
      "start_pos": 107069,
      "end_pos": 107162
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 107339,
      "end_pos": 107432
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 107621,
      "end_pos": 107714
    },
    {
      "content": "| Nested classes |                                                                                                                                |\n| -------------- | ------------------------------------------------------------------------------------------------------------------------------ |\n| class          | <p><a href=\"purchaseflowparams.builder\">[C]PurchaseFlowParams.Builder</a></p><p>PurchaseFlowParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 108180,
      "end_pos": 108624
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 108913,
      "end_pos": 109006
    },
    {
      "content": "| **Returns:** |                                                                              |\n| ------------ | ---------------------------------------------------------------------------- |\n| String       | [\\[A\\]PurchaseClient.ProductType](../annotations/purchaseclient.producttype) |\n",
      "start_pos": 109181,
      "end_pos": 109469
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 109703,
      "end_pos": 109796
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 109975,
      "end_pos": 110068
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| boolean      | <p><br></p> |\n",
      "start_pos": 110272,
      "end_pos": 110365
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 110562,
      "end_pos": 110655
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 110853,
      "end_pos": 110946
    },
    {
      "content": "| **Returns:** |                                  |\n| ------------ | -------------------------------- |\n| int          | PurchaseFlowParams.ProrationMode |\n",
      "start_pos": 111140,
      "end_pos": 111296
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| int          | <p><br></p> |\n",
      "start_pos": 111452,
      "end_pos": 111545
    },
    {
      "content": "| **Returns:**                                                  |             |\n| ------------------------------------------------------------- | ----------- |\n| [\\[C\\]PurchaseFlowParams.Builder](purchaseflowparams.builder) | <p><br></p> |\n",
      "start_pos": 111751,
      "end_pos": 111991
    },
    {
      "content": "| **Parameters:**            |             |\n| -------------------------- | ----------- |\n| productId                  | 인앱 상품의 아이디  |\n| **Returns:**               |             |\n| PurchaseFlowParams.Builder | <p><br></p> |\n",
      "start_pos": 112674,
      "end_pos": 112899
    },
    {
      "content": "| **Parameters:**            |                                                                                                              |\n| -------------------------- | ------------------------------------------------------------------------------------------------------------ |\n| productType                | <p>인앱 상품의 상품 타입</p><p><a href=\"../annotations/purchaseclient.producttype\">PurchaseClient.ProductType</a></p> |\n| **Returns:**               |                                                                                                              |\n| PurchaseFlowParams.Builder | <p><br></p>                                                                                                  |\n",
      "start_pos": 113106,
      "end_pos": 113816
    },
    {
      "content": "| **Parameters:**            |                                 |\n| -------------------------- | ------------------------------- |\n| productName                | 등록된 상품의 이름이 아닌구매 당시의 노출될 상품의 이름 |\n| **Returns:**               |                                 |\n| PurchaseFlowParams.Builder | <p><br></p>                     |\n",
      "start_pos": 114023,
      "end_pos": 114348
    },
    {
      "content": "| **Parameters:**            |             |\n| -------------------------- | ----------- |\n| developerPayload           | 개발사의 페이로드   |\n| **Returns:**               |             |\n| PurchaseFlowParams.Builder | <p><br></p> |\n",
      "start_pos": 114580,
      "end_pos": 114805
    },
    {
      "content": "| **Parameters:**            |                                  |\n| -------------------------- | -------------------------------- |\n| gameUserId                 | <p>개발사에서 확인 가능한 사용자의 아이디<br></p> |\n| **Returns:**               |                                  |\n| PurchaseFlowParams.Builder | <p><br></p>                      |\n",
      "start_pos": 115007,
      "end_pos": 115337
    },
    {
      "content": "| **Parameters:**            |                       |\n| -------------------------- | --------------------- |\n| promotion                  | <p>프로모션 가능 여부<br></p> |\n| **Returns:**               |                       |\n| PurchaseFlowParams.Builder | <p><br></p>           |\n",
      "start_pos": 115575,
      "end_pos": 115850
    },
    {
      "content": "| **Parameters:**            |             |\n| -------------------------- | ----------- |\n| quantity                   | 삼품의 수량      |\n| **Returns:**               |             |\n| PurchaseFlowParams.Builder | <p><br></p> |\n",
      "start_pos": 116039,
      "end_pos": 116264
    },
    {
      "content": "| **Parameters:**            |                                                                                               |\n| -------------------------- | --------------------------------------------------------------------------------------------- |\n| params                     | <p>정기 결제 상품의 업그레이드 또는 다운그레이드를 위한 모드<br></p><p>PurchaseFlowParams.SubscriptionUpdateParams</p> |\n| **Returns:**               |                                                                                               |\n| PurchaseFlowParams.Builder | <p><br></p>                                                                                   |\n",
      "start_pos": 116536,
      "end_pos": 117171
    },
    {
      "content": "| **Returns:**                             |             |\n| ---------------------------------------- | ----------- |\n| [PurchaseFlowParams](purchaseflowparams) | <p><br></p> |\n",
      "start_pos": 117354,
      "end_pos": 117531
    },
    {
      "content": "| Nested classes |                                                                                                                                         |\n| -------------- | --------------------------------------------------------------------------------------------------------------------------------------- |\n| class          | <p><a href=\"recurringproductparams.builder\">RecurringProductParams.Builder</a></p><p>RecurringProductParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 118114,
      "end_pos": 118585
    },
    {
      "content": "| **Returns:**                 |             |\n| ---------------------------- | ----------- |\n| [PurchaseData](purchasedata) | <p><br></p> |\n",
      "start_pos": 118909,
      "end_pos": 119050
    },
    {
      "content": "| **Returns:** |                                                                                 |\n| ------------ | ------------------------------------------------------------------------------- |\n| String       | [PurchaseClient.RecurringAction](../annotations/purchaseclient.recurringaction) |\n",
      "start_pos": 119256,
      "end_pos": 119553
    },
    {
      "content": "| **Returns:**                                                     |             |\n| ---------------------------------------------------------------- | ----------- |\n| [RecurringProductParams.Builder](recurringproductparams.builder) | <p><br></p> |\n",
      "start_pos": 119771,
      "end_pos": 120020
    },
    {
      "content": "| **Parameters:**                |             |\n| ------------------------------ | ----------- |\n| purchaseData                   | <p><br></p> |\n| **Returns:**                   |             |\n| RecurringProductParams.Builder | <p><br></p> |\n",
      "start_pos": 120771,
      "end_pos": 121016
    },
    {
      "content": "| **Returns:**                                     |             |\n| ------------------------------------------------ | ----------- |\n| [RecurringProductParams](recurringproductparams) | <p><br></p> |\n",
      "start_pos": 121891,
      "end_pos": 122092
    },
    {
      "content": "| Nested classes |                                                                                                                             |\n| -------------- | --------------------------------------------------------------------------------------------------------------------------- |\n| class          | <p><a href=\"subscriptionparams.builder\">SubscriptionParams.Builder</a></p><p>SubscriptionParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 122636,
      "end_pos": 123071
    },
    {
      "content": "| **Returns:**                 |             |\n| ---------------------------- | ----------- |\n| [PurchaseData](purchasedata) | <p><br></p> |\n",
      "start_pos": 123378,
      "end_pos": 123519
    },
    {
      "content": "| **Returns:**                                             |             |\n| -------------------------------------------------------- | ----------- |\n| [SubscriptionParams.Builder](subscriptionparams.builder) | <p><br></p> |\n",
      "start_pos": 123721,
      "end_pos": 123946
    },
    {
      "content": "| **Parameters:**            |             |\n| -------------------------- | ----------- |\n| purchaseData               | <p><br></p> |\n| **Returns:**               |             |\n| SubscriptionParams.Builder | <p><br></p> |\n",
      "start_pos": 124656,
      "end_pos": 124881
    },
    {
      "content": "| **Returns:**                             |             |\n| ---------------------------------------- | ----------- |\n| [SubscriptionParams](subscriptionparams) | <p><br></p> |\n",
      "start_pos": 125060,
      "end_pos": 125237
    },
    {
      "content": "| Nested classes |                                                                                                                                               |\n| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |\n| class          | <p><a href=\"subscriptionupdateparams.builder\">SubscriptionUpdateParams.Builder</a></p><p>SubscriptionUpdateParams의 인스턴스를 쉽게 만들기 위한 빌더입니다.</p> |\n",
      "start_pos": 125755,
      "end_pos": 126244
    },
    {
      "content": "| **Returns:** |                                                                                     |\n| ------------ | ----------------------------------------------------------------------------------- |\n| int          | [PurchaseFlowParams.ProrationMode](../annotations/purchaseflowparams.prorationmode) |\n",
      "start_pos": 126596,
      "end_pos": 126905
    },
    {
      "content": "| **Returns:** |             |\n| ------------ | ----------- |\n| String       | <p><br></p> |\n",
      "start_pos": 127118,
      "end_pos": 127211
    },
    {
      "content": "| **Returns:**                                                         |             |\n| -------------------------------------------------------------------- | ----------- |\n| [SubscriptionUpdateParams.Builder](subscriptionupdateparams.builder) | <p><br></p> |\n",
      "start_pos": 127437,
      "end_pos": 127698
    },
    {
      "content": "| Parameters:                      |                                                                                                                                      |\n| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |\n| prorationMode                    | <p>정기 결제 상품의 업그레이드 또는 다운그레이드를 위한 비례 배분 모드 입니다.</p><p><a href=\"../annotations/purchaseflowparams.prorationmode\">ProrationMode</a></p> |\n| **Returns:**                     |                                                                                                                                      |\n| SubscriptionUpdateParams.Builder | <p><br></p>                                                                                                                          |\n",
      "start_pos": 128481,
      "end_pos": 129341
    },
    {
      "content": "| Parameters:                      |                          |\n| -------------------------------- | ------------------------ |\n| String                           | 구매한 정기 결제 상품의 구매 토큰 입니다. |\n| **Returns:**                     |                          |\n| SubscriptionUpdateParams.Builder | <p><br></p>              |\n",
      "start_pos": 129570,
      "end_pos": 129890
    },
    {
      "content": "| **Returns:**                                         |             |\n| ---------------------------------------------------- | ----------- |\n| [SubscriptionUpdateParams](subscriptionupdateparams) | <p><br></p> |\n",
      "start_pos": 130113,
      "end_pos": 130326
    },
    {
      "content": "| **Parameters:** |             |\n| --------------- | ----------- |\n| iapResult       | 구매확인에 대한 결과 |\n| purchaseData    | 구매 데이터      |\n",
      "start_pos": 132033,
      "end_pos": 132169
    },
    {
      "content": "| **Parameters:** |           |\n| --------------- | --------- |\n| iapResult       | 소비에 대한 결과 |\n| purchaseData    | 구매 데이터    |\n",
      "start_pos": 132740,
      "end_pos": 132868
    },
    {
      "content": "| **Parameters:** |             |\n| --------------- | ----------- |\n| iapResult       | <p><br></p> |\n",
      "start_pos": 133411,
      "end_pos": 133513
    },
    {
      "content": "| **Parameters:**   |               |\n| ----------------- | ------------- |\n| iapResult         | 요청작업에 대한 결과   |\n| productDetailList | 인앱상품 상세정보 리스트 |\n",
      "start_pos": 134179,
      "end_pos": 134331
    },
    {
      "content": "| **Parameters:** |             |\n| --------------- | ----------- |\n| iapResult       | 요청작업에 대한 결과 |\n",
      "start_pos": 134959,
      "end_pos": 135061
    },
    {
      "content": "| **Parameters:** |                               |\n| --------------- | ----------------------------- |\n| iapResult       | 요청에 대한 결과                     |\n| purchases       | 소비되지 않은 구매 데이터 내역 (월정액 상품 포함) |\n",
      "start_pos": 135961,
      "end_pos": 136169
    },
    {
      "content": "| **Parameters:** |           |\n| --------------- | --------- |\n| iapResult       | 요청에 대한 결과 |\n| purchases       | 구매한 데이터   |\n",
      "start_pos": 136845,
      "end_pos": 136973
    },
    {
      "content": "| **Parameters:** |                               |\n| --------------- | ----------------------------- |\n| iapResult       | 요청에 대한 결과                     |\n| purchases       | 소비되지 않은 구매 데이터 내역 (월정액 상품 포함) |\n",
      "start_pos": 137624,
      "end_pos": 137832
    },
    {
      "content": "| **Parameters:** |                                                                                                    |\n| --------------- | -------------------------------------------------------------------------------------------------- |\n| iapResult       | 구매확인에 대한 결과                                                                                        |\n| purchaseData    | 요청할때 전달한 구매 데이터를 다시 반환                                                                             |\n| action          | [PurchaseClient.RecurringAction](../annotations/purchaseclient.recurringaction) 요청할때 전달한 액션명 다시 반환 |\n",
      "start_pos": 138521,
      "end_pos": 139126
    },
    {
      "content": "| 원스토어 환경 | Host Domain                                                    |\n| ------- | -------------------------------------------------------------- |\n| 검증(개발)  | <mark style=\"color:blue;\">https://sbpp.onestore.net</mark>     |\n| 상용      | <mark style=\"color:blue;\">https://iap-apis.onestore.net</mark> |\n",
      "start_pos": 140438,
      "end_pos": 140746
    },
    {
      "content": "| 마켓 구분 코드 | 서비스 대상      |\n| -------- | ----------- |\n| MKT\\_ONE | 원스토어 (기본 값) |\n| MKT\\_GLB | 원스토어 글로벌    |\n",
      "start_pos": 141108,
      "end_pos": 141216
    },
    {
      "content": "| Code                       | Message                                                                               | Description                              | HTTP Status Code                      | 대상 API                                                                                                  |\n| -------------------------- | ------------------------------------------------------------------------------------- | ---------------------------------------- | ------------------------------------- | ------------------------------------------------------------------------------------------------------- |\n| AccessBlocked              | The request was blocked.                                                              | 요청이 차단되었습니다.                             | 403 - Fobidden                        | 공통                                                                                                      |\n| AccessTokenExpired         | Access token has expired.                                                             | Access 토큰이 만료되었습니다.                      | 401 - Unauthorized                    | 공통                                                                                                      |\n| BadRequest                 | The request are invalid.                                                              | 잘못된 요청입니다.                               | 400 - Bad Request                     | 공통                                                                                                      |\n| DeveloperPayloadNotMatch   | The request developerPayload does not match the value passed in the purchase request. | 구매요청 시 전달된 developerPayload값과 일치하지 않습니다. | 400 - Bad Request                     | <p>acknowledgePurchase<br>consumePurchase</p>                                                           |\n| InternalError              | An undefined error has occurred.                                                      | 정의되지 않은 오류가 발생하였습니다.                     | 500 - Internal Server Error           | 공통                                                                                                      |\n| InvalidAccessToken         | Access token is invalid.                                                              | Access 토큰이 유효하지 않습니다.                    | 401 - Unauthorized                    | 공통                                                                                                      |\n| InvalidAuthorizationHeader | Authorization header is invalid.                                                      | Authorization 헤더의 값이 유효하지 않습니다.          | 400 - Bad Request                     | 공통                                                                                                      |\n| InvalidConsumeState        | The purchase consumption status cannot be changed or has already been changed.        | 소비상태 변경이 불가하거나, 이미 변경완료 되었습니다.           | 409 - Conflict                        | consumePurchase                                                                                         |\n| InvalidContentType         | The request content-type is invalid.                                                  | 잘못된 Content Type 입니다.                    | 415 - Unsupported Media Type          | 공통                                                                                                      |\n| InvalidPurchaseState       | Purchase history does not exist or is not completed.                                  | 구매내역이 존재하지 않거나, 구매완료 상태가 아닙니다.           | 409 - Conflict                        | <p>acknowledgePurchase<br>consumePurchase</p>                                                           |\n| InvalidRequest             | Request parameters are invalid. \\[ field1, field2, ... ]                              | 입력값이 유효하지 않습니다. \\[ field1, field2, ... ] | 400 - Bad Request                     | 공통                                                                                                      |\n| MethodNotAllowed           | HTTP method not supported.                                                            | 지원하지 않는 HTTP Method 입니다.                 | 405 - Method Not Allowed              | 공통                                                                                                      |\n| NoSuchData                 | The requested data could not be found.                                                | 조회된 결과값이 존재하지 않습니다.                      | 404 - Not Found                       | <p>getPurchaseDetails<br>getRecurringPurchaseDetails</p>                                                |\n| RequiredValueNotExist      | Request parameters are required. \\[ field1, field2, ... ]                             | 필수값이 존재하지 않습니다. \\[ field1, field2, ... ] | 400 - Bad Request                     | 공통                                                                                                      |\n| ResourceNotFound           | The requested resource could not be found.                                            | 요청한 자원이 존재하지 않습니다.                       | 404 - Not Found                       | 공통                                                                                                      |\n| ServiceMaintenance         | System maintenance is in progress.                                                    | 서비스 점검중입니다.                              | 503 - Service Temporarily Unavailable | 공통                                                                                                      |\n| Success                    | The request has been completed successfully.                                          | 정상처리 되었습니다.                              | 200 - Success                         | <p>acknowledgePurchase<br>consumePurchase<br>cancelRecurringPurchase<br>reactivateRecurringPurchase</p> |\n| UnauthorizedAccess         | Not authorized to this API.                                                           | 해당 API에 접근권한이 없습니다.                      | 403 - Fobidden                        | 공통                                                                                                      |\n",
      "start_pos": 177565,
      "end_pos": 183725
    },
    {
      "content": "| Code         | Name   | Description     |\n| ------------ | ------ | --------------- |\n| inapp        | 관리형 상품 | 소비성/영구성/기간제 상품  |\n| auto         | 월정액 상품 | 월 자동결제 상품       |\n| subscription | 구독형 상품 | 구독형(자동결제) 상품    |\n| all          | 전체 상품  | 관리형 상품 + 월정액 상품 |\n",
      "start_pos": 184609,
      "end_pos": 184873
    },
    {
      "content": "| Element Name       | Data Type     | Description                                                                   |                                       |\n| ------------------ | ------------- | ----------------------------------------------------------------------------- | ------------------------------------- |\n| msgVersion         | String        | <p>메시지 버전</p><ul><li>개발(Sandbox) : 3.1.0D</li><li>상용(상용테스트) : 3.1.0</li></ul> |                                       |\n| clientId           | String        | 앱의 클라이언트 ID                                                                   |                                       |\n| productId          | String        | 인앱상품의 상품 ID                                                                   |                                       |\n| messageType        | String        | SINGLE\\_PAYMENT\\_TRANSACTION 고정                                               |                                       |\n| purchaseId         | String        | 구매 ID                                                                         |                                       |\n| developerPayload   | String        | 구매건을 식별하기 위해 개발사에서 관리하는 식별자                                                   |                                       |\n| purchaseTimeMillis | Long          | 원스토어 결제 시스템에서 결제가 완료된 시간(ms)                                                  |                                       |\n| purcahseState      | String        | COMPLETED : 결제완료 / CANCELED : 취소                                              |                                       |\n| price              | String        | 결제 금액                                                                         |                                       |\n| priceCurrencyCode  | String        | 결제 금액 통화코드(KRW, USD, ...)                                                     |                                       |\n| productName        | String        | 구매요청 시 개발사가 customized 인앱상품 제목을 설정한 경우 전달                                     |                                       |\n| paymentTypeList    | List          | 결제 정보 목록                                                                      |                                       |\n| <p><br></p>        | paymentMethod | String                                                                        | 결제 수단 (상세 내용은 아래 paymentMethod 정의 참고) |\n| <p><br></p>        | amount        | String                                                                        | 결제 수단 별 금액                            |\n| billingKey         | String        | 확장 기능용 결제 키                                                                   |                                       |\n| isTestMdn          | Boolean       | 시험폰 여부(true : 시험폰, false : 시험폰 아님)                                            |                                       |\n| purchaseToken      | String        | 구매토큰                                                                          |                                       |\n| environment        | String        | <p>결제환경</p><ul><li>개발(샌드박스) : SANDBOX</li><li>상용 :COMMERCIAL</li></ul>        |                                       |\n| marketCode         | String        | 마켓 구분코드 ( MKT\\_ONE : 원스토어, MKT\\_STM : 스톰 )                                    |                                       |\n| signature          | String        | 본 메시지에 대한 signature                                                           |                                       |\n",
      "start_pos": 186977,
      "end_pos": 190475
    },
    {
      "content": "| paymentMethod    | 결제수단 명칭    | 설명                         |\n| ---------------- | ---------- | -------------------------- |\n| DCB              | 휴대폰결제      | 통신사 요금청구서에 '정보이용료' 항목으로 청구 |\n| PHONEBILL        | 휴대폰 소액결제   | 통신사 요금청구서에 '소액결제' 항목으로 청구  |\n| ONEPAY           | ONE pay    | 원스토어가 제공하는 간편결제            |\n| CREDITCARD       | 신용카드       | 일반 신용카드 결제                 |\n| 11PAY            | 11Pay      | 11번가에서 제공하는 신용카드 간편결제      |\n| NAVERPAY         | N pay      | 네이버에서 제공하는 네이버페이 결제        |\n| CULTURELAND      | 컬쳐캐쉬       | 한국문화진흥에서 제공한는 컬쳐캐쉬 결제      |\n| OCB              | OK cashbag | SK플래닛이 제공하는 OK캐쉬백 결제       |\n| ONESTORECASH     | 원스토어 캐쉬    | 원스토어 캐쉬 결제                 |\n| COUPON           | 원스토어 쿠폰    | 원스토어 쿠폰 결제                 |\n| POINT            | 원스토어 포인트   | 원스토어 포인트 결제                |\n| \bTELCOMEMBERSHIP | 통신사멤버십     | 통신사에서 제공하는 멤버십 결제          |\n| EWALLET          | e-Wallet   | e-Wallet 결제                |\n| BANKACCT         | 계좌결제       | 일반 계좌결제                    |\n| PAYPAL           | 페이팔        | 페이팔이 제공하는 결제               |\n| MYCARD           | 마이카드       | 소프트월드에서 제공하는 마이카드 결제       |\n",
      "start_pos": 191306,
      "end_pos": 192440
    },
    {
      "content": "| Element Name             | Data Type        | Description                                                                   |              |\n| ------------------------ | ---------------- | ----------------------------------------------------------------------------- | ------------ |\n| msgVersion               | String           | <p>메시지 버전</p><ul><li>개발(Sandbox) : 3.1.0D</li><li>상용(상용테스트) : 3.1.0</li></ul> |              |\n| clientId                 | String           | 앱의 클라이언트 ID                                                                   |              |\n| eventTimeMillis          | Long             | 이벤트 발생 시간                                                                     |              |\n| subscriptionNotification | Object           | 결제 정보 목록                                                                      |              |\n| <p><br></p>              | version          | String                                                                        | 구독 알람 메시지 버전 |\n| <p><br></p>              | notificationType | Integer                                                                       | 구독상태         |\n| <p><br></p>              | purchaseToken    | String                                                                        | 구매 토큰        |\n| <p><br></p>              | productId        | String                                                                        | 인앱상품의 상품 ID  |\n| environment              | String           | <p>결제환경</p><ul><li>개발(샌드박스) : SANDBOX</li><li>상용 :COMMERCIAL</li></ul>        |              |\n| marketCode               | String           | 마켓 구분코드 ( MKT\\_ONE : 원스토어, MKT\\_GLB : 글로벌 원스토어                                |              |\n",
      "start_pos": 197044,
      "end_pos": 198760
    },
    {
      "content": "| 구독 상태 | 구독 코드                                  | 설명                          |\n| ----- | -------------------------------------- | --------------------------- |\n| 1     | SUBSCRIPTION\\_RECOVERED                | 정기 결제가 보류 상태에서 복구 되었습니다.    |\n| 2     | SUBSCRIPTION\\_RENEWED                  | 정기 결제가 갱신 되었습니다.            |\n| 3     | SUBSCRIPTION\\_CANCELED                 | 고객이 정기 결제 해지를 요청 하였습니다.     |\n| 4     | SUBSCRIPTION\\_PURCHASED                | 새로운 정기 결제 상품이 구매 되었습니다.     |\n| 5     | SUBSCRIPTION\\_ON\\_HOLD                 | 결제 실패로 정기 결제가 보류 상태가 되었습니다. |\n| 6     | SUBSCRIPTION\\_IN\\_GRACE\\_PERIOD        | 결제 실패로 정기 결제가 유예 상태가 되었습니다. |\n| 7     | SUBSCRIPTION\\_RESTARTED                | 고객이 정기 결제 해지 요청을 취소 하였습니다.  |\n| 8     | SUBSCRIPTION\\_PRICE\\_CHANGE\\_CONFIRMED | 사용자가 정기 결제 가격 변경에 동의 하였습니다. |\n| 9     | SUBSCRIPTION\\_DEFERRED                 | 정기 결제 이용 기간이 연장 되었습니다.      |\n| 10    | SUBSCRIPTION\\_PAUSED                   | 정기 결제가 일시 중지 되었습니다.         |\n| 11    | SUBSCRIPTION\\_PAUSE\\_SCHEDULE\\_CHANGED | 정기 결제 일시 중지 일정이 변경 되었습니다.   |\n| 12    | SUBSCRIPTION\\_REVOKED                  | 정기 결제가 즉시 해지 되었습니다.         |\n| 13    | SUBSCRIPTION\\_EXPIRED                  | 정기 결제가 만료 되었습니다.            |\n",
      "start_pos": 199135,
      "end_pos": 200350
    },
    {
      "content": "| 회차     | delay (초) | 재전송 시간              |\n| ------ | --------- | ------------------- |\n| 0 (최초) | 0         | 2020-05-17 13:10:00 |\n| 1      | 30        | 2020-05-17 13:10:30 |\n| 2      | 120       | 2020-05-17 13:12:30 |\n| 3      | 270       | 2020-05-17 13:17:00 |\n| 4      | 480       | 2020-05-17 13:25:00 |\n| ...    | ...       | ...                 |\n",
      "start_pos": 200763,
      "end_pos": 201123
    },
    {
      "content": "|      | PurchaseClient.queryPurchasesAsync() |                | getSubscriptionDetail |                                     |              |\n| ---- | ------------------------------------ | -------------- | --------------------- | ----------------------------------- | ------------ |\n| 상태   | 반환 여부                                | recurringState | 반환 여부                 | expiryTimeMillis                    | autoRenewing |\n| 구독중  | 예                                    | 0              | 예                     | 향후 일정                               | true         |\n| 해지   | 예                                    | 1              | 예                     | 향후 일정                               | false        |\n| 유예   | 예                                    | 0              | 예                     | 향후 일정(유예 기간 종료)                     | true         |\n| 보류   | 아니오                                  | 0              | 예                     | 종료됨(예상 만료 시간 종료 또는 유예 기간 종료(있는 경우)) | true         |\n| 일시중지 | 아니오                                  | 0              | 예                     | 종료됨                                 | true         |\n| 만료   | 아니오                                  | 1              | 예                     | 종료됨                                 | false        |\n",
      "start_pos": 201916,
      "end_pos": 203194
    },
    {
      "content": "| 규격 Uri       | onestore://common/subscription/payment/{caller\\_package}?purchase\\_token={purchase\\_token}                                      |                            |\n| ------------ | ------------------------------------------------------------------------------------------------------------------------------- | -------------------------- |\n| 규격 parameter | <p>caller_package</p><p>(mandatory)</p>                                                                                         | 연동 규격을 호출 할 앱의 packageName |\n|              | <p>purchase_token</p><p>(optional)</p>                                                                                          | 특정 구매 상세로 가기위한 구매 Token    |\n| 상세 정보        | <ul><li>마이페이지 > 정기결제 목록 화면으로 이동한다.</li><li>purchase_token 이 존재하는 경우 해당 구매 Token의 정기결제 상세로 이동한다. </li></ul>                      |                            |\n| 지원버전         | <p>ONE store Client v7.9.0 이상 ( android:versionName=”7.9.0” android:versionCode=”70900” )</p><p>ONE store Service v7.140 이상</p> |                            |\n",
      "start_pos": 217269,
      "end_pos": 218325
    },
    {
      "content": "| 비례 배분 모드                                | 설명                                                                                                                        |\n| --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 정기 결제 상품이 즉시 변경 되며, 가격 차이를 기반으로 정기 결제 갱신일이 조정됩니다.                                                                         |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | <p>정기 결제 상품이 즉시 변경 되며, 정기 결제 갱신일은 동일하게 유지됩니다. 나머지 기간에 대한 가격 차이를 기반으로 요금이 청구됩니다.</p><p>(이 모드는 상품 업그레이드 시에만 적용 가능합니다.) </p> |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 정기 결제 상품이 즉시 변경 되며, 다음 결제일에 새로운 가격이 청구됩니다. 정기 결제 갱신일은 동일하게 유지됩니다.                                                         |\n| DEFERRED                                | 기존 정기 결제 상품이 만료되면 교체가 적용되며 새로운 정기 결제 상품 요금이 청구됩니다.                                                                        |\n",
      "start_pos": 218632,
      "end_pos": 219640
    },
    {
      "content": "| <p><br></p>                 | V5 (SDK V17)                | V6(SDK V19)                 |\n| --------------------------- | --------------------------- | --------------------------- |\n| 결제모듈과의 연결                   | connect                     | startConnection             |\n| 결제모듈과의 연결해제                 | terminate                   | endConnection               |\n| 지원여부 확인                     | isBillingSupportedAsync     | X                           |\n| 인앱 상품 구매                    | launchPurchaseFlowAsync     | launchPurchaseFlow          |\n| 인앱 상품 소비                    | consumeAsync                | consumeAsync                |\n| 인앱 상품 구매 확인                 | X                           | acknowledgeAsync            |\n| 소비되지 않은 상품의 구매내역(월 자동결제 포함) | queryPurchasesAsync         | queryPurchasesAsync         |\n| 인앱 상품 상세정보                  | queryProductsAsync          | queryProductDetailsAsync    |\n| 월 자동결제 상태 변경                | manageRecurringProductAsync | manageRecurringProductAsync |\n| 결제 모듈 업데이트 또는 설치            | launchUpdateOrInstallFlow   | launchUpdateOrInstallFlow   |\n| 원스토어 로그인 호출                 | launchLoginFlowAsync        | launchLoginFlowAsync        |\n| 마켓 구분 코드 확인                 | X                           | getStoreInfoAsync           |\n",
      "start_pos": 229390,
      "end_pos": 230678
    },
    {
      "content": "| 구분           | API 목록              | API URI - V5(SDK V17)                                                               | API URI - V6(SDK V19)                                                                            | 변경사항                                                                                                                      |\n| ------------ | ------------------- | ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------- |\n| V5 (SDK V17) | V6 (SDK V19)        |                                                                                     |                                                                                                  |                                                                                                                           |\n| 변경           | OAuth 토큰발급          | /v2/oauth/token                                                                     | /v6/oauth/token                                                                                  | <p>응답규격 중 status 필드 삭제</p><p>Http response code로 정상(200) 여부 확인</p>                                                        |\n| 삭제           | 구매상품 상세조회           | /v2/purchase/details/{purchaseId}/{packageName}                                     | N/A                                                                                              | <p>보안 강화를 위하여 구매상품 상세조회 API는 삭제</p><p>구매상품 상세조회 By 인앱상품ID로 통합</p>                                                         |\n| 변경           | 구매상품 상세조회 By 인앱상품ID | <p>/v2/purchase/details-by-productid<br>/{purchaseId}/{packageName}/{productId}</p> | <p>/v6/apps/{packageName}/purchases/inapp/products<br>/{productId}/{purchaseToken}</p>           | 응답 규격에 purchaseId, acknowledgeState 필드 추가                                                                                 |\n| 변경           | 월정액 상품 구매 상세조회      | /v2/purchase/recurring-details/{purchaseId}/{packageName}                           | <p>/v6/apps/{packageName}/purchases/auto/products<br>/{productId}/{purchaseToken}</p>            | <p>응답규격에 acknowledgeState, lastPurchaseId, lastPurchaseState 추가</p><p>응답규격에 price, developerPayload, purchaseState 삭제</p> |\n| 삭제           | 월정액 상품 마지막 구매 상세조회  | /v2/purchase/last-recurring-details/{purchaseId}/{packageName}                      | N/A                                                                                              | 월정액 상품 구매 상세조회 API 로 통합                                                                                                   |\n| 변경           | 자동결제 해지             | /v2/purchase/manage-payment-status/{purchaseId}/{packageName}/cancel                | <p>/v6/apps/{packageName}/purchases/auto/products<br>/{productId}/{purchaseToken}/cancel</p>     | 성공처리 응답규격변경                                                                                                               |\n| 변경           | 자동결제 해지취소           | /v2/purchase/manage-payment-status/{purchaseId}/{packageName}/reactivate            | <p>/v6/apps/{packageName}/purchases/auto/products<br>/{productId}/{purchaseToken}/reactivate</p> | 성공처리 응답규격변경                                                                                                               |\n| 변경           | 구매취소 내역조회           | /v2/purchase/voided-purchases/{packageName}                                         | /v6/apps/{packageName}/voided-purchases                                                          | <p>API 사용성 향상을 위하여 구매취소내역 조회기준(startTime, endTime)을 구매일시에서 구매취소일시로 변경</p><p>응답규격에 purchaseToken, marketCode 추가</p>        |\n| 변경           | 구매상품 소비             | /v2/purchase/consume/{purchaseId}/{packageName}                                     | <p>/v6/apps/{packageName}/purchases/all/products/<br>{productId}/{purchaseToken}/consume</p>     | 성공처리 응답규격변경                                                                                                               |\n| 추가           | 구매 확인               | N/A                                                                                 | <p>/v6/apps/{packageName}/purchases/all/products/<br>{productId}/{purchaseToken}/acknowledge</p> | 구매 확인 API 신규 추가                                                                                                           |\n",
      "start_pos": 230763,
      "end_pos": 235287
    },
    {
      "content": "| branch 명 | Description                                                                                                                                                                                                                                                                                                                  |\n| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| master   | <p><a href=\"https://github.com/ONE-store/onestore_iap_release/tree/master/onestore_iap_sample/sample_luckyone\">sample_luckyone </a>: 인앱을 적용한 샘플앱<br><a href=\"https://github.com/ONE-store/onestore_iap_release/tree/master/onestore_iap_sample/sample_subscription\">sample_subscription</a> : 구독상품 적용과 관리화면 연동을 보여주는 샘플앱</p> |\n",
      "start_pos": 238243,
      "end_pos": 239239
    },
    {
      "content": "| 상수             | 값 |\n| -------------- | - |\n| VERBOSE        | 2 |\n| DEBUG          | 3 |\n| INFO (default) | 4 |\n| WARN           | 5 |\n| ERROR          | 6 |\n",
      "start_pos": 248094,
      "end_pos": 248255
    },
    {
      "content": "| **비례 배분 모드**                            | **설명**                                                                                      |\n| --------------------------------------- | ------------------------------------------------------------------------------------------- |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 정기 결제의 교체가 즉시 이루어지며, 남은 시간은 가격 차이를 기반으로 조정되어 입금되거나 청구됩니다. (이것은 기본 동작입니다.)                   |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | 정기 결제의 교체가 즉시 이루어지며, 청구 주기는 동일하게 유지됩니다. 나머지 기간에 대한 가격이 청구됩니다. (이 옵션은 업그레이드 에서만 사용할 수 있습니다.) |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 정기 결제의 교체가 즉시 이루어지며, 다음 결제일에 새로운 가격이 청구됩니다. 청구 주기는 동일하게 적용됩니다.                              |\n| DEFERRED                                | 기존 요금제가 만료되면 교체가 적용되며 새 요금이 동시에 청구됩니다.                                                      |\n",
      "start_pos": 254352,
      "end_pos": 255180
    },
    {
      "content": "| Assets > Plugins > Android | <ul><li>iap_sdk-v19.00.xx.aar</li><li>iap_adapter-v1.x.x.aar</li></ul> |\n| -------------------------- | ---------------------------------------------------------------------- |\n| Assets > StreamingAssets   | <ul><li>global-appstores.json</li></ul>                                |\n",
      "start_pos": 264048,
      "end_pos": 264360
    },
    {
      "content": "| Assets > Plugins > Android | <ul><li>sdk-base-v1.0.0.aar</li><li>sdk-auth-v1.0.1.aar</li><li>sdk-iap-v21.00.00.aar</li><li>sdk-configuration-kr-v1.0.0.aar</li><li>iap-unity-adapter-v2.0.0.aar</li></ul> |\n| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n",
      "start_pos": 265306,
      "end_pos": 265718
    },
    {
      "content": "| Assets > Plugins > Android  | <ul><li>iap_sdk-v19.00.xx.aar</li><li>iap_adapter-v1.x.x.aar</li></ul>                                                                                             |\n| --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| Assets > Scripts > Purchase | <ul><li>GaaIapCallManager.cs</li><li>GaaIapCallbackManager.cs</li><li>GaaIapResultListener.cs</li><li>GaaIapPurchaseResponse.cs</li><li>AndroidNative.cs</li></ul> |\n| Assets > StreamingAssets    | <ul><li>global-appstores.json</li></ul>                                                                                                                            |\n",
      "start_pos": 265997,
      "end_pos": 266785
    },
    {
      "content": "| 상수             | 값 |\n| -------------- | - |\n| VERBOSE        | 2 |\n| DEBUG          | 3 |\n| INFO (default) | 4 |\n| WARN           | 5 |\n| ERROR          | 6 |\n",
      "start_pos": 271718,
      "end_pos": 271879
    },
    {
      "content": "| Parameter   | Type                                                                                                                   | Description |\n| ----------- | ---------------------------------------------------------------------------------------------------------------------- | ----------- |\n| productIds  | List\\<String>                                                                                                          | \b상품 아이디 리스트 |\n| productType | [`ProductType`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype) | 상품 타입       |\n",
      "start_pos": 274546,
      "end_pos": 275150
    },
    {
      "content": "| Parameter        | Type                                                                                                    | Description                                                                                                                                                                                                                                                                             |\n| ---------------- | ------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| productDetail    | [`ProductDetail`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/productdetail) | [상품 상세 정보 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-9) API를 통해 얻는 객체                                                                                                                                               |\n| quantity         | Int                                                                                                     | 수량 (default: 1) 복수 구매 시 max: 10                                                                                                                                                                                                                                                         |\n| developerPayload | String                                                                                                  | <p>개발사 입력 데이터로 필요한 데이터를 구매 요청 때같이 전송하면 구매 결과(<a href=\"https://onestore-dev.gitbook.io/dev/v/eng/tools/tools/v21/references/en-classes/en-purchasedata#id-en-purchasedata-getdeveloperpayload\"><code>PurchaseData.developerPayload</code></a> )에도 포함되어 전송됨</p><p>제약 사항 : max 200byte</p> |\n",
      "start_pos": 277715,
      "end_pos": 279760
    },
    {
      "content": "| Mode                                    | Value | Description                                                                                |\n| --------------------------------------- | ----- | ------------------------------------------------------------------------------------------ |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 1     | 정기 결제의 교체가 즉시 이루어지며, 남은 시간은 가격 차이를 기반으로 조정되어 입금되거나 청구됩니다. (이것은 기본 동작입니다.)                  |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | 2     | 정기 결제의 교체가 즉시 이루어지며, 청구 주기는 동일하게 유지됩니다. 나머지 기간에 대한 가격이 청구됩니다. (이 옵션은 업그레이드에서만 사용할 수 있습니다.) |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 3     | 정기 결제의 교체가 즉시 이루어지며, 다음 결제일에 새로운 가격이 청구됩니다. 청구 주기는 동일하게 적용됩니다.                             |\n| DEFERRED                                | 4     | 기존 요금제가 만료되면 교체가 적용되며 새 요금이 동시에 청구됩니다.                                                     |\n",
      "start_pos": 280846,
      "end_pos": 281716
    },
    {
      "content": "| Parameter       | Type                                                                                                                           | Description                                                                                                                               |\n| --------------- | ------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------- |\n| productDetail   | [`ProductDetail`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/productdetail)                        | [상품 상세 정보 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-9) API를 통해 얻는 객체 |\n| oldPurchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata)                          | [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13) API를 통해 얻는 객체   |\n| prorationMode   | [`ProrationMode`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseflowparams.prorationmode) | 비례 배분 모드                                                                                                                                  |\n",
      "start_pos": 282038,
      "end_pos": 283483
    },
    {
      "content": "| Parameter    | Type                                                                                                  | Description                                                                                                                                                                                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| purchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) | [구매 완료](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-12) 또는 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 얻는 PurchaseData |\n",
      "start_pos": 286463,
      "end_pos": 287618
    },
    {
      "content": "| Parameter    | Type                                                                                                  | Description                                                                                                                                                                                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| purchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) | [구매 완료](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-12) 또는 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 얻는 PurchaseData |\n",
      "start_pos": 288792,
      "end_pos": 289947
    },
    {
      "content": "| Parameter   | Type                                                                                                                   | Description |\n| ----------- | ---------------------------------------------------------------------------------------------------------------------- | ----------- |\n| productType | [`ProductType`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype) | 상품 타입       |\n",
      "start_pos": 291818,
      "end_pos": 292271
    },
    {
      "content": "| Parameter    | Type                                                                                                  | Description                                                                                                                                                                                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| purchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) | [구매 완료](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-12) 또는 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 얻는 PurchaseData |\n",
      "start_pos": 293580,
      "end_pos": 294735
    },
    {
      "content": "| <p>HTTP/1.1 400 Bad Request<br>Content-type: application/json;charset=UTF-8<br>{<br>    \"error\" : {<br>        \"code\" : \"NoSuchData\",<br>        \"message\" : \"The requested data could not be found.\"<br>    }<br>}</p> |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n",
      "start_pos": 306368,
      "end_pos": 306808
    },
    {
      "content": "| [https://accounts.onestore.net/oauth2.0/authorize?response\\_type=code\\&client\\_id=client\\_id\\_example\\&redirect\\_uri=http%3A%2F%2Fservice.redirect.url%2Fsubpath\\&state=hLiDdL2uhPtsftcU\\&scope=user\\_payment](https://accounts.onestore.net/oauth2.0/authorize?response_type=code\\&client_id=client_id_example\\&redirect_uri=http%3A%2F%2Fservice.redirect.url%2Fsubpath\\&state=hLiDdL2uhPtsftcU\\&scope=user_payment) |\n| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n",
      "start_pos": 311092,
      "end_pos": 311914
    },
    {
      "content": "| <p>인증 절차 완료 후</p><ul><li>API 요청 성공시 : http://콜백URL?code={code값}&#x26;state={state값}</li><li>API 요청 실패시 : http://콜백URL?state={state값}&#x26;error_code={에러코드값}&#x26;error_message={에러메시지}</li></ul> |\n| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n",
      "start_pos": 313288,
      "end_pos": 313684
    },
    {
      "content": "| <p>POST /oauth2.0/token HTTP/1.1 Host: <a href=\"http://accounts.onestore.net/\">accounts.onestore.net</a> Content-Type: application/x-www-form-urlencoded x-market-code:MKT_ONE</p><p>grant_type : authorization_code의 경우<br>grant_type=authorization_code&#x26;<br>code=EIc5bFrl4RibFls1&#x26;<br>client_id=client_id_example&#x26;<br>client_secret=hDBmMRhz7eJRsM9Z2q1oFBSe&#x26;<br>state=9kgsGTfH4j7IyAkg</p><p>grant_type : refresh_token의 경우<br>grant_type=refresh_token&#x26;<br>refresh_token=EIc5bFrl4RibFls1&#x26;<br>client_id=client_id_example&#x26;<br>client_secret=hDBmMRhz7eJRsM9Z2q1oFBSe&#x26;<br>state=9kgsGTfH4j7IyAkg</p> |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n",
      "start_pos": 319665,
      "end_pos": 320921
    },
    {
      "content": "| Code         | Name   | Description              |\n| ------------ | ------ | ------------------------ |\n| inapp        | 소비성 상품 | consume 가능한 소비성 상품       |\n| auto         | 월정액 상품 | 월 자동결제 상품                |\n| subscription | 구독형 상품 | 구독형 상품                   |\n| all          | 전체 상품  | 소멸성 상품 + 월정액 상품 + 구독형 상품 |\n",
      "start_pos": 331635,
      "end_pos": 331953
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 332087,
      "end_pos": 332303
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                                    |\n| -------------- | --------- | -------- | ---------------------------------------------------------------------------------------------- |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                            |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)         </li><li>MKT_GLB: 원스토어 (대한민국 외) </li></ul> |\n",
      "start_pos": 333566,
      "end_pos": 334122
    },
    {
      "content": "| Element Name     | Data Type | Data Size   | Required | Description                                                        |\n| ---------------- | --------- | ----------- | -------- | ------------------------------------------------------------------ |\n| prchsClientPocCd | String    | 50          | Y        | <p>구매 요청 Client 구분 코드<br>POC_PC : PC 결제<br>POC_MOBILE : 모바일 결제</p> |\n| returnUrl        | String    | 200         | Y        | 결제결과를 전달받기 위한 redirect URL                                         |\n| callbackUrl      | String    | 200         | N        | 결제결과를 전달받기 위한 REST API URL(최종 결제결과만 전달)                            |\n| productName      | String    | 50          | N        | 구매를 요청하고자 하는 인앱 상품명, 미 입력시 개발자센터에 등록된 상품명 사용                       |\n| developerPayload | String    | 200         | N        | 구매 건을 식별하기 위해 개발사에서 관리하는 식별자                                       |\n| quantity         | Integer   | <p><br></p> | N        | 구매하고자 하는 상품의 수량(Default: 1)                                        |\n",
      "start_pos": 334133,
      "end_pos": 335149
    },
    {
      "content": "| Element Name | Data Type | Data Size | Description              |\n| ------------ | --------- | --------- | ------------------------ |\n| purchaseId   | String    | 20        | 구매 ID                    |\n| paymentUrl   | String    | 200       | <p>결제 요청 URL 정보<br></p>  |\n| paymentParam | String    | -         | <p>결제 요청 파라미터 정보<br></p> |\n",
      "start_pos": 335630,
      "end_pos": 335970
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method**          | POST             |\n| ---------------- | ---------------- | ------------------- | ---------------- |\n| **Content-Type** | application/json | **Response Format** | application/json |\n",
      "start_pos": 336465,
      "end_pos": 336708
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                       |\n| -------------- | --------- | -------- | ----------------------------------------------------------------- |\n|  clientId      | String    | Y        | API를 호출하는 앱의 클라이언트 ID                                             |\n| type           | String    | Y        | <ul><li>상품 정보를 조회하고자 하는 인앱 상품 타입 코드</li><li>상품 타입 코드 참조</li></ul> |\n",
      "start_pos": 337371,
      "end_pos": 337811
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                                    |\n| -------------- | --------- | -------- | ---------------------------------------------------------------------------------------------- |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                            |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)         </li><li>MKT_GLB: 원스토어 (대한민국 외) </li></ul> |\n",
      "start_pos": 337824,
      "end_pos": 338380
    },
    {
      "content": "| Element Name     | Data Type   | Data Size   | Required    | Description               |\n| ---------------- | ----------- | ----------- | ----------- | ------------------------- |\n| productIdList \\[ | <p><br></p> | <p><br></p> | <p><br></p> | <p><br></p>               |\n| <p><br></p>      | String      | 150         | Y           | 개발자센터에 상품 등록시 지정한 인앱상품 ID |\n| ]                | <p><br></p> | <p><br></p> | <p><br></p> | <p><br></p>               |\n",
      "start_pos": 338391,
      "end_pos": 338846
    },
    {
      "content": "| Element Name         | Data Type   | Data Size   | Description                                 |\n| -------------------- | ----------- | ----------- | ------------------------------------------- |\n| productDetailList \\[ | <p><br></p> | -           | 상품 상세 정보 목록                                 |\n| {                    | <p><br></p> | <p><br></p> | <p><br></p>                                 |\n| productId            | String      | 150         | 구매가능한 상품의 인앱상품 ID                           |\n| type                 | String      | 20          | <ul><li>상품 타입</li><li>상품 타입 코드 참조</li></ul> |\n| price                | String      | 30          | 상품금액                                        |\n| priceCurrencyCode    | String      | 10          | KRW, USD 등의 통화 구분                           |\n| title                | String      | -           | 상품명                                         |\n| priceAmountMicros    | Long        | -           | 상품금액 \\* 100만                                |\n| }                    | <p><br></p> | <p><br></p> | <p><br></p>                                 |\n| ]                    | <p><br></p> | <p><br></p> | <p><br></p>                                 |\n",
      "start_pos": 339201,
      "end_pos": 340389
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 341203,
      "end_pos": 341419
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                                       |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID                                                                             |\n| type           | String    | Y        | <ul><li>상품 정보를 조회하고자 하는 인앱 상품 타입 코드</li><li>상품 타입 코드 참<mark style=\"color:red;\">조</mark></li></ul> |\n",
      "start_pos": 342108,
      "end_pos": 342676
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 342689,
      "end_pos": 343205
    },
    {
      "content": "| Parameter Name  | Data Type | Data Size | Required | Description              |\n| --------------- | --------- | --------- | -------- | ------------------------ |\n| continuationKey | String    | 41        | N        | 구매 내역 paging 처리를 위한 다음 키 |\n",
      "start_pos": 343216,
      "end_pos": 343462
    },
    {
      "content": "| Element Name             | Data Type         | Data Size   | Description                                                                                 |\n| ------------------------ | ----------------- | ----------- | ------------------------------------------------------------------------------------------- |\n| productIdList \\[         | <p><br></p>       | -           | XVjKVLbw7TIy                                                                                |\n| <p><br></p>              | String            | 150         | 개발자센터에 상품 등록 시 지정한 인앱상품 ID                                                                  |\n| ]                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| purchaseDetailList \\[    | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| {                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| orderId                  | String            | 40          | 결제ID                                                                                        |\n| packageName              | String            | 128         | 구매한 앱의 패키지명                                                                                 |\n| productId                | <p>String<br></p> | 150         | <p>개발자센터에 상품 등록 시 지정한 인앱상품 ID<br></p>                                                       |\n| purchaseTime             | Long              | -           | 구매 시간                                                                                       |\n| acknowledgeState         | Int               | -           | 구매확인 상태( 0: Not Acknowledged, 1: Acknowledged)                                              |\n| purchaseState            | Int               | -           | 구매 상태                                                                                       |\n| recurringState           | Int               | -           | <p>자동 결제 상태</p><ul><li>0 : 정상가입 상태</li><li>1 : 해지예약 상태</li><li>-1 : 월정액 상품이 아닌 경우</li></ul> |\n| purchaseId               | String            | 20          | 구매ID                                                                                        |\n| purchaseToken            | String            | 20          | 구매토큰                                                                                        |\n| developerPayload         | String            | 200         | 구매건을 식별하기 위해 개발사에서 관리하는 식별자                                                                 |\n| quantity                 | Int               | <p><br></p> | 구매 수량                                                                                       |\n| }                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| ]                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| purchaseSignatureList \\[ | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| <p><br></p>              | String            | -           | purchaseDetailList 각각의 구매정보 검증을 위한 signature                                                |\n| ]                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| continuationKey          | String            | 41          | 구매 내역 paging 처리를 위한 다음 키                                                                    |\n",
      "start_pos": 343748,
      "end_pos": 347516
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 349019,
      "end_pos": 349235
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n",
      "start_pos": 350009,
      "end_pos": 350273
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 350286,
      "end_pos": 350802
    },
    {
      "content": "| Parameter Name   | Data Type | Data Size | Required | Description                  |\n| ---------------- | --------- | --------- | -------- | ---------------------------- |\n| developerPayload | String    | 200       | N        | 구매 건을 식별하기 위해 개발사에서 관리하는 식별자 |\n",
      "start_pos": 350813,
      "end_pos": 351074
    },
    {
      "content": "| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n",
      "start_pos": 351392,
      "end_pos": 351805
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 352180,
      "end_pos": 352396
    },
    {
      "content": "| Parameter     | Data Type | Required | Description           |\n| ------------- | --------- | -------- | --------------------- |\n|  clientId     | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken | String    | Y        | 구매토큰                  |\n",
      "start_pos": 353186,
      "end_pos": 353446
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 353459,
      "end_pos": 353975
    },
    {
      "content": "| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n",
      "start_pos": 354578,
      "end_pos": 354991
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 355468,
      "end_pos": 355684
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n|  clientId      | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n",
      "start_pos": 356450,
      "end_pos": 356714
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 356727,
      "end_pos": 357243
    },
    {
      "content": "| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n",
      "start_pos": 357531,
      "end_pos": 357944
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 358389,
      "end_pos": 358605
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n",
      "start_pos": 359465,
      "end_pos": 359729
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 359742,
      "end_pos": 360258
    },
    {
      "content": "| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n",
      "start_pos": 360550,
      "end_pos": 360963
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 361381,
      "end_pos": 361597
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n",
      "start_pos": 362385,
      "end_pos": 362649
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 362662,
      "end_pos": 363178
    },
    {
      "content": "| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n",
      "start_pos": 363477,
      "end_pos": 363890
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 364321,
      "end_pos": 364537
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n",
      "start_pos": 365347,
      "end_pos": 365611
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 365624,
      "end_pos": 366140
    },
    {
      "content": "| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n",
      "start_pos": 366438,
      "end_pos": 366851
    },
    {
      "content": "| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n",
      "start_pos": 367279,
      "end_pos": 367495
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n",
      "start_pos": 368244,
      "end_pos": 368508
    },
    {
      "content": "| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n",
      "start_pos": 368521,
      "end_pos": 369037
    },
    {
      "content": "| Protocol     | HTTPS      | Method | POST       |\n| ------------ | ---------- | ------ | ---------- |\n| Content-Type | text/plain | Accept | text/plain |\n",
      "start_pos": 375683,
      "end_pos": 375839
    },
    {
      "content": "| Parameter Name | Data Size | Required | Description                         |\n| -------------- | --------- | -------- | ----------------------------------- |\n| paymentParam   | 500       | M        | 결제요청 데이터 (표준 결제화면 호출을 위한 parameter) |\n",
      "start_pos": 376064,
      "end_pos": 376304
    },
    {
      "content": "| Signature Algorithm | SHA512 with RSA |\n| ------------------- | --------------- |\n",
      "start_pos": 376869,
      "end_pos": 376953
    },
    {
      "content": "| Protocol     | HTTP/HTTPS                                                                                | Method | POST                           |\n| ------------ | ----------------------------------------------------------------------------------------- | ------ | ------------------------------ |\n| Content-Type | <p>returnUrl : Application/x-www-form-urlencode<br><br>callbackUrl : Application/json</p> | Accept | callbackUrl : Application/json |\n",
      "start_pos": 376954,
      "end_pos": 377407
    },
    {
      "content": "| Element Name          | Data Type | Data Size | Required | Description                                                                                                                                                                                                                                                       |\n| --------------------- | --------- | --------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| responseCode          | String    | 20        | Y        | 응답코드 (하단 표 참조)                                                                                                                                                                                                                                                    |\n| responseMessage       | String    | 200       | N        | 결제성공(Success)시 빈 값                                                                                                                                                                                                                                                |\n| orderId               | String    | 20        | N        | 결제ID                                                                                                                                                                                                                                                              |\n| purchaseId            | String    | 20        | N        | 구매ID                                                                                                                                                                                                                                                              |\n| purchaseToken         | String    | 20        | N        | 구매토큰                                                                                                                                                                                                                                                              |\n| purchaseTime          | Long      | 13        | N        | 구매시간(millisecond)                                                                                                                                                                                                                                                 |\n| developerPayload      | String    | 200       | N        | 구매 건을 식별하기 위해 개발자에서 관리하는 식별자                                                                                                                                                                                                                                      |\n| quantity              | Long      | 5         | N        | 복수구매 수량                                                                                                                                                                                                                                                           |\n| purchaseSignature     | String    | 2000      | N        | <p>구매정보 검증을 위한 signature</p><ul><li><p>단건 결제시 </p><ul><li>(orderId+purchaseId+purchaseToken+purchaseTime+developerPayload)</li></ul></li><li><p>복수구매 결제시</p><ul><li>(orderId+purchaseId+purchaseToken+purchaseTime+developerPayload+quantity)</li></ul></li></ul> |\n| <p>billingKey<br></p> | String    | 200       | N        | <p>S2S 자동결제 승인을 위한 billing 키<br></p>                                                                                                                                                                                                                              |\n",
      "start_pos": 377879,
      "end_pos": 381731
    },
    {
      "content": "| Response Code      | Response Message     | Description                      |\n| ------------------ | -------------------- | -------------------------------- |\n| Success            | 빈값                   | 결제성공                             |\n| Fail               | 설명참조                 | 각 PG사 및 내부 시스템 오류에 대한 원인을 전달합니다. |\n| UserCancel         | 결제가 취소 되었습니다.        | <p><br></p>                      |\n| PaymentTimeExpired | 결제시간이 초과 되었습니다.(10분) | <p><br></p>                      |\n",
      "start_pos": 383077,
      "end_pos": 383563
    }
  ],
  "table_count": 200,
  "code_blocks": [
    {
      "content": "\n  val signInClient = GaaSignInClient.getClient(activity)\n ",
      "start_pos": 2845,
      "end_pos": 2918
    },
    {
      "content": "\n  signInClient.launchSignInFlow(activity) { signInResult ->\n  \n  }\n ",
      "start_pos": 3083,
      "end_pos": 3166
    },
    {
      "content": "\n  signInClient.silentSignIn { signInResult ->\n  \n  }\n ",
      "start_pos": 3332,
      "end_pos": 3401
    },
    {
      "content": "\nallprojects {\n    repositories {\n        ...\n        maven { url 'https://repo.onestore.net/repository/onestore-sdk-public' }\n    }\n}\n",
      "start_pos": 7137,
      "end_pos": 7286
    },
    {
      "content": "\ndependencies {\n    implementation \"com.onestorecorp.sdk:sdk-iap:21.02.01\"\n}\n",
      "start_pos": 7343,
      "end_pos": 7434
    },
    {
      "content": "repositories {\n    ... \n    maven { url 'https://repo.onestore.net/repository/onestore-sdk-public' }\n}",
      "start_pos": 14131,
      "end_pos": 14247
    },
    {
      "content": "dependencies {\n    ...\n    def iap_lastest_version = \"21.xx.xx\"\n    implementation \"com.onestorecorp.sdk:sdk-iap:$iap_lastest_version\"\n}",
      "start_pos": 14300,
      "end_pos": 14450
    },
    {
      "content": "<manifest>\n    <!-- \n        if your binary use ONE store's In-app SDK,\n        Please make sure to declare the following query on Androidmanifest.xml. \n        Refer to the notice for more information.\n        https://dev.onestore.net/devpoc/support/news/noticeView.omp?noticeId=32968\n     -->\n    <queries>\n        <intent>\n            <action android:name=\"com.onestore.ipc.iap.IapService.ACTION\" />\n        </intent>\n        <intent>\n            <action android:name=\"android.intent.action.VIEW\" />\n            <data android:scheme=\"onestore\" />\n        </intent>\n    </queries>\n    ...\n    <application>\n        ...\n    </application>\n</manifest>",
      "start_pos": 14719,
      "end_pos": 15381
    },
    {
      "content": "<manifest>\n    <application>\n        <meta-data android:name=\"onestore:dev_option\" android:value=\"onestore_01\" />\n    </application>\n</manifest>",
      "start_pos": 15561,
      "end_pos": 15716
    },
    {
      "content": "/**\n * Set the log level.<br/>\n * {@link Log#VERBOSE}, {@link Log#DEBUG}, {@link Log#INFO},\n * {@link Log#WARN}, {@link Log#ERROR}\n * @param level int\n */\ncom.gaa.sdk.base.Logger.setLogLevel(2)",
      "start_pos": 16421,
      "end_pos": 16628
    },
    {
      "content": "val signInClient = GaaSignInClient.getClient(activity)",
      "start_pos": 17333,
      "end_pos": 17401
    },
    {
      "content": "GaaSignInClient signInClient = GaaSignInClient.getClient(activity);",
      "start_pos": 17439,
      "end_pos": 17518
    },
    {
      "content": "signInClient.silentSignIn { signInResult ->\n  \n}",
      "start_pos": 17746,
      "end_pos": 17808
    },
    {
      "content": "signInClient.silentSignIn(new OnAuthListener() {\n    @Override\n    public void onResponse(@NonNull SignInResult signInResult) {\n        \n    }\n});",
      "start_pos": 17846,
      "end_pos": 18004
    },
    {
      "content": "signInClient.launchSignInFlow(activity) { signInResult ->\n  \n}",
      "start_pos": 18236,
      "end_pos": 18312
    },
    {
      "content": "signInClient.launchSignInFlow(activity, new OnAuthListener() {\n    @Override\n    public void onResponse(@NonNull SignInResult signInResult) {\n        \n    }\n});",
      "start_pos": 18350,
      "end_pos": 18522
    },
    {
      "content": "private val listener = PurchasesUpdatedListener { iapResult, purchases ->\n       // To be implemented in a later section.\n}\n\nprivate var purchaseClient = PurchaseClient.newBuilder(activity)\n   .setListener(listener)\n   .setBase64PublicKey(/*your public key*/) // optional\n   .build()",
      "start_pos": 19244,
      "end_pos": 19541
    },
    {
      "content": "private PurchasesUpdatedListener listener = new PurchasesUpdatedListener {\n     @Override\n     public void onPurchasesUpdated(IapResult iapResult, List<PurchaseData>) {\n         // To be implemented in a later section.\n     }\n};\n\nprivate PurchaseClient purchaseClient = PurchaseClient.newBuilder(activity)\n   .setListener(listener)\n   .setBase64PublicKey(/*your public key*/) // optional\n   .build();",
      "start_pos": 19579,
      "end_pos": 19991
    },
    {
      "content": "purchaseClient.startConnection(object : PurchaseClientStateListener {\n    override fun onSetupFinished(iapResult: IapResult) {\n        if (iapResult.isSuccess) {\n            // The PurchaseClient is ready. You can query purchases here.\n        }\n    }\n\n    override fun onServiceDisconnected() {\n        // Try to restart the connection on the next request to\n        // PurchaseClient by calling the startConnection() method.\n    }\n})",
      "start_pos": 20314,
      "end_pos": 20763
    },
    {
      "content": "purchaseClient.startConnection(new PurchaseClientStateListener {\n    @Override\n    public void onSetupFinished(IapResult iapResult) {\n        if (iapResult.isSuccess()) {\n            // The PurchaseClient is ready. You can query purchases here.\n        }\n    }\n\n    @Override\n    public void onServiceDisconnected() {\n        // Try to restart the connection on the next request to\n        // PurchaseClient by calling the startConnection() method.\n    }\n});",
      "start_pos": 20801,
      "end_pos": 21271
    },
    {
      "content": "val params = ProductDetailsParams.newBuilder()\n        .setProductIdList(productIdList)\n        .setProductType(ProductType.INAPP)\n        .build()\npurchaseClient.queryProductDetailsAsync(params) { iapResult, productDetails -> \n    // Process the result.\n}",
      "start_pos": 22281,
      "end_pos": 22551
    },
    {
      "content": "ProductDetailsParams params = ProductDetailsParams.newBuilder()\n        .setProductIdList(productIdList)\n        .setProductType(ProductType.INAPP)\n        .build();\n\npurchaseClient.queryProductDetailsAsync(params, new ProductDetailsListener() {\n    @Override\n    public void onProductDetailsResponse(IapResult iapResult, List<ProductDetail>) {\n        // Process the result. \n    }\n});",
      "start_pos": 22618,
      "end_pos": 23016
    },
    {
      "content": "val activity: Activity = ...\n\nval purchaseFlowParams = PurchaseFlowParams.newBuilder()\n      .setProductId(productId)\n      .setProductType(productType)\n      .setDeveloperPayload(devPayload)    // optional\n      .setQuantity(1)                     // optional\n      .setProductName(\"\")                 // optional\n      .setGameUserId(\"\")                  // optional\n      .setPromotionApplicable(false)      // optional\n      .build()\n\npurchaseClient.launchPurchaseFlow(activity, purchaseFlowParams)",
      "start_pos": 24148,
      "end_pos": 24664
    },
    {
      "content": "Activity activity = ...\n\nPurchaseFlowParams purchaseFlowParams = PurchaseFlowParams.newBuilder()\n      .setProductId(productId)\n      .setProductType(productType)\n      .setDeveloperPayload(devPayload)    // optional\n      .setQuantity(1)                     // optional\n      .setProductName(\"\")                 // optional\n      .setGameUserId(\"\")                  // optional\n      .setPromotionApplicable(false)      // optional\n      .build();\n\npurchaseClient.launchPurchaseFlow(activity, purchaseFlowParams);",
      "start_pos": 24702,
      "end_pos": 25228
    },
    {
      "content": "override fun onPurchasesUpdated(iapResult: IapResult, purchases: List<PurchaseData>?) {\n    if (iapResult.isSuccess && purchases != null) {\n        for (purchase in purchases) {\n            handlePurchase(purchase)\n        }\n    } else if (iapResult.responseCode == ResponseCode.NEED_UPDATE) {\n        // PurchaseClient by calling the launchUpdateOrInstallFlow() method.\n    } else if (iapResult.responseCode == ResponseCode.NEED_LOGIN) {\n        // PurchaseClient by calling the launchLoginFlow() method.\n    } else {\n        // Handle any other error codes.\n    }\n}",
      "start_pos": 25833,
      "end_pos": 26414
    },
    {
      "content": "@Override\npublic void onPurchasesUpdated(IapResult iapResult, List<PurchaseData> purchases) {\n    if (iapResult.isSuccess() && purchases != null) {\n        for (purchase in purchases) {\n            handlePurchase(purchase);\n        }\n    } else if (iapResult.getResponseCode() == ResponseCode.NEED_UPDATE) {\n        // PurchaseClient by calling the launchUpdateOrInstallFlow() method.\n    } else if (iapResult.getResponseCode() == ResponseCode.NEED_LOGIN) {\n        // PurchaseClient by calling the launchLoginFlow() method.\n    } else {\n        // Handle any other error codes.\n    }\n}",
      "start_pos": 26452,
      "end_pos": 27050
    },
    {
      "content": "val subscriptionUpdateParams = SubscriptionUpdateParams.newBuilder()\n      .setProrationMode(desiredProrationMode)\n      .setOldPurchaseToken(oldPurchaseToken)\n      .build()\n\nval purchaseFlowParams = PurchaseFlowParams.newBuilder()\n      .setProductId(newProductId)\n      .setProductType(productType)\n      .setProductName(productName)        // optional\n      .setDeveloperPayload(devPayload)    // optional\n      .setSubscriptionUpdateParams(subscriptionUdpateParams)\n      .build()\n\npurchaseClient.launchPurchaseFlow(activity, purchaseFlowParams)",
      "start_pos": 29941,
      "end_pos": 30505
    },
    {
      "content": "SubscriptionUpdateParams subscriptionUpdateParams = SubscriptionUpdateParams.newBuilder()\n      .setProrationMode(desiredProrationMode)\n      .setOldPurchaseToken(oldPurchaseToken)\n      .build();\n\nPurchaseFlowParams purchaseFlowParams = PurchaseFlowParams.newBuilder()\n      .setProductId(newProductId)\n      .setProductType(productType)\n      .setProductName(productName)        // optional \n      .setDeveloperPayload(devPayload)    // optional\n      .setSubscriptionUpdateParams(subscriptionUdpateParams)\n      .build();\n\npurchaseClient.launchPurchaseFlow(activity, purchaseFlowParams);",
      "start_pos": 30543,
      "end_pos": 31145
    },
    {
      "content": "fun handlePurchase(purchase: PurchaseData) {\n    // Purchase retrieved from PurchaseClient#queryPurchasesAsync\n    // or your PurchasesUpdatedListener.\n    val purchase: PurchaseData = ...\n      \n    // Verify the purchase.\n    // Ensure entitlement was not already granted for this purchaseToken.\n    // Grant entitlement to the user.\n\n    val consumeParams = ConsumeParams.newBuilder()\n                            .setPurchaseData(purchase)\n                            .build()\n                            \n    purchaseClient.consumeAsync(consumeParams) { iapResult, purchaseData -> \n        // Process the result.\n    }\n}",
      "start_pos": 32364,
      "end_pos": 33002
    },
    {
      "content": "private void handlePurchase(PurchaseData purchase) {\n    // Purchase retrieved from PurchaseClient#queryPurchasesAsync or your PurchasesUpdatedListener.\n    PurchaseData purchase = ...\n      \n    // Verify the purchase.\n    // Ensure entitlement was not already granted for this purchaseToken.\n    // Grant entitlement to the user.\n\n    ConsumeParams consumeParams = ConsumeParams.newBuilder()\n                                        .setPurchaseData(purchase)\n                                        .build();\n                                        \n    purchaseClient.consumeAsync(consumeParams, new ConsumeListener() {\n        @Override\n        public void onConsumeResponse(IapResult iapResult, PurchaseData purchaseData) {\n             // Process the result.\n        }\n    });\n}",
      "start_pos": 33040,
      "end_pos": 33836
    },
    {
      "content": "// Purchase retrieved from PurchaseClient#queryPurchasesAsync or your PurchasesUpdatedListener.\nfun handlePurchase(PurchaseData purchase) {\n    if (purchase.purchaseState == PurchaseState.PURCHASED) {\n        if (!purchase.isAcknowledged) {\n            val acknowledgeParams = AcknowledgeParams.newBuilder()\n                                        .setPurchaseData(purchase)\n                                        .build()\n                                        \n            purchaseClient.acknowledgeAsync(acknowledgeParams) { iapResult, purchaseData ->\n                 // PurchaseClient by calling the queryPurchasesAsync() method.\n            }\n        }\n    }\n}",
      "start_pos": 34432,
      "end_pos": 35114
    },
    {
      "content": "// Purchase retrieved from PurchaseClient#queryPurchasesAsync or your PurchasesUpdatedListener.\nprivate void handlePurchase(purchase: PurchaseData) {\n    if (purchase.getPurchaseState() == PurchaseState.PURCHASED) {\n        if (!purchase.isAcknowledged()) {\n            AcknowledgeParams acknowledgeParams = AcknowledgeParams.newBuilder()\n                                                        .setPurchaseData(purchase)\n                                                        .build();\n                                                        \n            purchaseClient.acknowledgeAsync(acknowledgeParams, new AcknowledgeListener() {\n                @Override\n                public void onAcknowledgeResponse(IapResult iapResult, PurchaseData purchaseData) {\n                    // PurchaseClient by calling the queryPurchasesAsync() method.\n                }\n            });\n        }\n    }\n}",
      "start_pos": 35152,
      "end_pos": 36060
    },
    {
      "content": "val queryPurchasesListener = QueryPurchasesListener { iapResult, purchases -> \n    if (iapResult.isSuccess && purchases != null) {\n        for (purchase in purchases) {\n            handlePurchase(purchase)\n        }\n    } else if (iapResult.responseCode == ResponseCode.NEED_UPDATE) {\n        // PurchaseClient by calling the launchUpdateOrInstallFlow() method.\n    } else if (iapResult.responseCode == ReponseCode.NEED_LOGIN) {\n        // PurchaseClient by calling the launchLoginFlow() method.\n    } else {\n        // Handle any other error codes.\n    }\n}\npurchaseClient.queryPurchasesAsync(ProductType.INAPP, queryPurchasesListener)",
      "start_pos": 36944,
      "end_pos": 37593
    },
    {
      "content": "QueryPurchasesListener queryPurchasesListener = new QueryPurchasesListener() {\n    @Override\n    public void onPurchasesResponse(IapResult iapResult, list<PurchaseData> purchases) { \n        if (iapResult.isSuccess() && purchases != null) {\n            for (purchase in purchases) {\n                handlePurchase(purchase)\n            }\n        } else if (iapResult.getResponseCode() == ResponseCode.NEED_UPDATE) {\n            // PurchaseClient by calling the launchUpdateOrInstallFlow() method.\n        } else if (iapResult.getResponseCode() == ReponseCode.NEED_LOGIN) {\n            // PurchaseClient by calling the launchLoginFlow() method.\n        } else {\n             // Handle any other error codes.\n        }\n    }\n};\npurchaseClient.queryPurchasesAsync(ProductType.INAPP, queryPurchasesListener);",
      "start_pos": 37631,
      "end_pos": 38447
    },
    {
      "content": "// Purchase retrieved from PurchaseClient#queryPurchasesAsync or your PurchasesUpdatedListener.\nfun manageRecurring(purchase: PurchaseData) {\n    val recurringParams = RecurringProductParams.newBuilder()\n            .setPurchaseData(purchase)\n            .setRecurringAction(RecurringAction.CANCEL | RecurringAction.REACTIVATE)\n            .build()\n\n    purchaseClient.manageRecurringProductAsync(recurringParams) { iapResult, purchaseData, action ->\n        // PurchaseClient by calling the queryPurchasesAsync() method.\n    }\n}",
      "start_pos": 38960,
      "end_pos": 39503
    },
    {
      "content": "// Purchase retrieved from PurchaseClient#queryPurchasesAsync or your PurchasesUpdatedListener.\nprivate void manageRecurring(PurchaseData purchase) {\n    RecurringProductParams recurringParams = RecurringProductParams.newBuilder()\n            .setPurchaseData(purchase)\n            .setRecurringAction(RecurringAction.CANCEL | RecurringAction.REACTIVATE)\n            .build();\n\n    purchaseClient.manageRecurringProductAsync(recurringParams, new RecurringProductListener() {\n        @Override\n        public void onRecurringResponse(IapResult iapResult, PurchaseData purchaseData, String action) {\n            // PurchaseClient by calling the queryPurchasesAsync() method.\n        }\n    });\n}",
      "start_pos": 39541,
      "end_pos": 40245
    },
    {
      "content": "fun launchManageSubscription(@Nullable purchaseData: PurchaseData) {\n    val subscriptionParams = when (purchaseData != null) {\n        true -> SubscriptionParams.newBuilder()\n                    .setPurchaseData(purchaseData)\n                    .build()\n        else -> null\n    }\n    purchaseClient.launchManageSubscription(mActivity, subscriptionParams)\n}",
      "start_pos": 40824,
      "end_pos": 41197
    },
    {
      "content": "public void launchManageSubscription(@Nullable PurchaseData purchaseData) {\n    SubscriptionParams subscriptionParams = null;\n    if (purchaseData != null) {\n        subscriptionParams = SubscriptionParams.newBuilder()\n            .setPurchaseData(purchaseData)\n            .build();\n    }\n    purchaseClient.launchManageSubscription(mActivity, subscriptionParams);\n}",
      "start_pos": 41235,
      "end_pos": 41614
    },
    {
      "content": "purchaseClient.getStoreInfoAsync { iapResult, storeCode ->\n    // Save storecode and use it in Server to Server API.\n}",
      "start_pos": 41842,
      "end_pos": 41974
    },
    {
      "content": "purchaseClient.getStoreInfoAsync(new StoreInfoListener() {\n    @Override\n    public void onStoreInfoResponse(IapResult iapResult, String storeCode) {\n        // Save storecode and use it in Server to Server API.\n    }\n});",
      "start_pos": 42012,
      "end_pos": 42245
    },
    {
      "content": "import com.gaa.sdk.base.StoreEnvironment\n\nval storeType = StoreEnvironment.getStoreType()\n\nwhen (storeType) {\n    StoreType.ONESTORE -> println(\"ONE Store에서 설치된 앱입니다.\")\n    StoreType.VENDING -> println(\"Google Play Store에서 설치된 앱입니다.\")\n    StoreType.ETC -> println(\"기타 스토어에서 설치된 앱입니다.\")\n    StoreType.UNKNOWN -> println(\"스토어 정보를 알 수 없습니다.\")\n}",
      "start_pos": 43104,
      "end_pos": 43459
    },
    {
      "content": "import com.gaa.sdk.base.StoreEnvironment;\n\nint storeType = StoreEnvironment.getStoreType();\n\nswitch (storeType) {\n    case StoreType.ONESTORE:\n        System.out.println(\"ONE Store에서 설치된 앱입니다.\");\n        break;\n    case StoreType.VENDING:\n        System.out.println(\"Google Play Store에서 설치된 앱입니다.\");\n        break;\n    case StoreType.ETC:\n        System.out.println(\"기타 스토어에서 설치된 앱입니다.\");\n        break;\n    case StoreType.UNKNOWN:\n    default:\n        System.out.println(\"스토어 정보를 알 수 없습니다.\");\n        break;\n}",
      "start_pos": 43497,
      "end_pos": 44019
    },
    {
      "content": "if (StoreEnvironment.getStoreType() == StoreType.ONESTORE) {\n    showOneStorePaymentUI()\n} else {\n    showDefaultPaymentUI()\n}",
      "start_pos": 44531,
      "end_pos": 44671
    },
    {
      "content": "if (StoreEnvironment.getStoreType() != StoreType.ONESTORE) {\n    println(\"이 기능은 ONE Store에서만 사용할 수 있습니다.\")\n    return\n}\nenableOneStoreExclusiveFeature()",
      "start_pos": 44719,
      "end_pos": 44885
    },
    {
      "content": "val activity: Activity = ...\n\npurchaseClient.launchUpdateOrInstallFlow(activity) { iapResult ->\n    if (iapResult.isSuccess) {\n        // If the installation is completed successfully,\n        // you should try to reconnect with the ONE store service. \n        // PurchaseClient by calling the startConnection() method.\n    }\n}",
      "start_pos": 45190,
      "end_pos": 45531
    },
    {
      "content": "public static @interface PurchaseClient.ConnectionState",
      "start_pos": 50951,
      "end_pos": 51014
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseClient.ConnectionState",
      "start_pos": 51016,
      "end_pos": 51070
    },
    {
      "content": "int CLOSED",
      "start_pos": 51350,
      "end_pos": 51368
    },
    {
      "content": "int CONNECTED",
      "start_pos": 51550,
      "end_pos": 51571
    },
    {
      "content": "int CONNECTING",
      "start_pos": 51743,
      "end_pos": 51765
    },
    {
      "content": "int DISCONNECTED",
      "start_pos": 51948,
      "end_pos": 51972
    },
    {
      "content": "public static @interface PurchaseClient.FeatureType",
      "start_pos": 52157,
      "end_pos": 52216
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseClient.FeatureType",
      "start_pos": 52218,
      "end_pos": 52268
    },
    {
      "content": "String SUBSCRIPTIONS",
      "start_pos": 52538,
      "end_pos": 52566
    },
    {
      "content": "public static @interface PurchaseClient.ProductType",
      "start_pos": 52767,
      "end_pos": 52826
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseClient.ProductType",
      "start_pos": 52828,
      "end_pos": 52878
    },
    {
      "content": "String ALL",
      "start_pos": 53117,
      "end_pos": 53135
    },
    {
      "content": "String INAPP",
      "start_pos": 53291,
      "end_pos": 53311
    },
    {
      "content": "String AUTO",
      "start_pos": 53454,
      "end_pos": 53473
    },
    {
      "content": "String SUBS",
      "start_pos": 53615,
      "end_pos": 53634
    },
    {
      "content": "public static @interface PurchaseClient.RecurringAction",
      "start_pos": 53829,
      "end_pos": 53892
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseClient.RecurringAction",
      "start_pos": 53894,
      "end_pos": 53948
    },
    {
      "content": "String CANCEL",
      "start_pos": 54225,
      "end_pos": 54246
    },
    {
      "content": "String REACTIVATE",
      "start_pos": 54421,
      "end_pos": 54446
    },
    {
      "content": "public static @interface PurchaseClient.ResponseCode",
      "start_pos": 54641,
      "end_pos": 54701
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseClient.ResponseCode",
      "start_pos": 54703,
      "end_pos": 54754
    },
    {
      "content": "int RESULT_OK",
      "start_pos": 55021,
      "end_pos": 55042
    },
    {
      "content": "int USER_CANCELED",
      "start_pos": 55202,
      "end_pos": 55227
    },
    {
      "content": "int RESULT_SERVICE_UNAVAILABLE",
      "start_pos": 55437,
      "end_pos": 55475
    },
    {
      "content": "int RESULT_BILLING_UNAVAILABLE",
      "start_pos": 55699,
      "end_pos": 55737
    },
    {
      "content": "int RESULT_ITEM_UNAVAILABLE",
      "start_pos": 55948,
      "end_pos": 55983
    },
    {
      "content": "int RESULT_DEVELOPER_ERROR",
      "start_pos": 56198,
      "end_pos": 56232
    },
    {
      "content": "int RESULT_ERROR",
      "start_pos": 56401,
      "end_pos": 56425
    },
    {
      "content": "int RESULT_ITEM_ALREADY_OWNED",
      "start_pos": 56644,
      "end_pos": 56681
    },
    {
      "content": "int RESULT_ITEM_NOT_OWNED",
      "start_pos": 56883,
      "end_pos": 56916
    },
    {
      "content": "int RESULT_FAIL",
      "start_pos": 57095,
      "end_pos": 57118
    },
    {
      "content": "int RESULT_NEED_LOGIN",
      "start_pos": 57332,
      "end_pos": 57361
    },
    {
      "content": "int RESULT_NEED_UPDATE",
      "start_pos": 57553,
      "end_pos": 57583
    },
    {
      "content": "int RESULT_SECURITY_ERROR",
      "start_pos": 57786,
      "end_pos": 57819
    },
    {
      "content": "int RESULT_BLOCKED_APP",
      "start_pos": 58014,
      "end_pos": 58044
    },
    {
      "content": "int RESULT_NOT_SUPPORT_SANDBOX",
      "start_pos": 58256,
      "end_pos": 58294
    },
    {
      "content": "int ERROR_DATA_PARSING",
      "start_pos": 58493,
      "end_pos": 58523
    },
    {
      "content": "int ERROR_SIGNATURE_VERIFICATION",
      "start_pos": 58751,
      "end_pos": 58791
    },
    {
      "content": "int ERROR_ILLEGAL_ARGUMENT",
      "start_pos": 59002,
      "end_pos": 59036
    },
    {
      "content": "int ERROR_UNDEFINED_CODE",
      "start_pos": 59243,
      "end_pos": 59275
    },
    {
      "content": "int ERROR_SIGNATURE_NOT_VALIDATION",
      "start_pos": 59508,
      "end_pos": 59550
    },
    {
      "content": "int ERROR_UPDATE_OR_INSTALL",
      "start_pos": 59764,
      "end_pos": 59799
    },
    {
      "content": "int ERROR_SERVICE_DISCONNECTED",
      "start_pos": 60018,
      "end_pos": 60056
    },
    {
      "content": "int ERROR_FEATURE_NOT_SUPPORTED",
      "start_pos": 60280,
      "end_pos": 60319
    },
    {
      "content": "int ERROR_SERVICE_TIMEOUT",
      "start_pos": 60519,
      "end_pos": 60552
    },
    {
      "content": "int ERROR_CLIENT_NOT_ENABLED",
      "start_pos": 60770,
      "end_pos": 60806
    },
    {
      "content": "int RESULT_EMERGENY_ERROR",
      "start_pos": 61017,
      "end_pos": 61050
    },
    {
      "content": "public static @interface PurchaseData.AcknowledgeState",
      "start_pos": 61235,
      "end_pos": 61297
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseData.AcknowledgeState",
      "start_pos": 61299,
      "end_pos": 61352
    },
    {
      "content": "int NOT_ACKNOWLEDGED",
      "start_pos": 61646,
      "end_pos": 61674
    },
    {
      "content": "int ACKNOWLEDGED",
      "start_pos": 61842,
      "end_pos": 61866
    },
    {
      "content": "public static @interface PurchaseData.PurchaseState",
      "start_pos": 62037,
      "end_pos": 62096
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseData.PurchaseState",
      "start_pos": 62098,
      "end_pos": 62148
    },
    {
      "content": "int PURCHASED",
      "start_pos": 62408,
      "end_pos": 62429
    },
    {
      "content": "int CANCEL",
      "start_pos": 62566,
      "end_pos": 62584
    },
    {
      "content": "int REFUND",
      "start_pos": 62720,
      "end_pos": 62738
    },
    {
      "content": "public static @interface PurchaseData.RecurringState",
      "start_pos": 62907,
      "end_pos": 62967
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseData.RecurringState",
      "start_pos": 62969,
      "end_pos": 63020
    },
    {
      "content": "int RECURRING",
      "start_pos": 63283,
      "end_pos": 63304
    },
    {
      "content": "int CANCEL",
      "start_pos": 63447,
      "end_pos": 63465
    },
    {
      "content": "int NON_AUTO_PRODUCT",
      "start_pos": 63645,
      "end_pos": 63673
    },
    {
      "content": "public static @interface PurchaseFlowParams.ProrationMode",
      "start_pos": 63862,
      "end_pos": 63927
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseFlowParams.ProrationMode",
      "start_pos": 63929,
      "end_pos": 63985
    },
    {
      "content": "int UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY",
      "start_pos": 64409,
      "end_pos": 64466
    },
    {
      "content": "int IMMEDIATE_WITH_TIME_PRORATION",
      "start_pos": 64695,
      "end_pos": 64736
    },
    {
      "content": "int IMMEDIATE_AND_CHARGE_PRORATED_PRICE",
      "start_pos": 65033,
      "end_pos": 65080
    },
    {
      "content": "int IMMEDIATE_WITHOUT_PRORATION",
      "start_pos": 65343,
      "end_pos": 65382
    },
    {
      "content": "int DEFERRED",
      "start_pos": 65587,
      "end_pos": 65607
    },
    {
      "content": "public class AcknowledgeParams extends Object",
      "start_pos": 67735,
      "end_pos": 67788
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.AcknowledgeParams",
      "start_pos": 67790,
      "end_pos": 67854
    },
    {
      "content": "[C]PurchaseData getPurchaseData()",
      "start_pos": 68753,
      "end_pos": 68794
    },
    {
      "content": "String getDeveloperPayload()",
      "start_pos": 69108,
      "end_pos": 69144
    },
    {
      "content": "[C]AcknowledgeParams.Builder newBuilder()",
      "start_pos": 69369,
      "end_pos": 69418
    },
    {
      "content": "public final class AcknowledgeParams.Builder extends Object",
      "start_pos": 69835,
      "end_pos": 69902
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.AcknowledgeParams.Builder",
      "start_pos": 69904,
      "end_pos": 69976
    },
    {
      "content": "AcknowledgeParams.Builder setPurchaseData([C]PurchaseData purchaseData)",
      "start_pos": 70318,
      "end_pos": 70397
    },
    {
      "content": "AcknowledgeParams.Builder setDeveloperPayload(String developerPayload)",
      "start_pos": 70768,
      "end_pos": 70846
    },
    {
      "content": "public class ConsumeParams extends Object",
      "start_pos": 71578,
      "end_pos": 71627
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.ConsumeParams",
      "start_pos": 71629,
      "end_pos": 71689
    },
    {
      "content": "[C]PurchaseData getPurchaseData()",
      "start_pos": 72462,
      "end_pos": 72503
    },
    {
      "content": "String getDeveloperPayload()",
      "start_pos": 72809,
      "end_pos": 72845
    },
    {
      "content": "[C]ConsumeParams.Builder newBuilder()",
      "start_pos": 73062,
      "end_pos": 73107
    },
    {
      "content": "public final class ConsumeParams.Builder extends Object",
      "start_pos": 73488,
      "end_pos": 73551
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.ConsumeParams.Builder",
      "start_pos": 73553,
      "end_pos": 73621
    },
    {
      "content": "ConsumeParams.Builder setPurchaseData([C]PurchaseData purchaseData)",
      "start_pos": 73939,
      "end_pos": 74014
    },
    {
      "content": "ConsumeParams.Builder setDeveloperPayload(String developerPayload)",
      "start_pos": 74357,
      "end_pos": 74431
    },
    {
      "content": "[C]ConsumeParams build()",
      "start_pos": 74747,
      "end_pos": 74779
    },
    {
      "content": "public final class IapResult extends Object",
      "start_pos": 75077,
      "end_pos": 75128
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.IapResult",
      "start_pos": 75130,
      "end_pos": 75186
    },
    {
      "content": "int getResponseCode()",
      "start_pos": 75902,
      "end_pos": 75931
    },
    {
      "content": "String getMessage()",
      "start_pos": 76385,
      "end_pos": 76412
    },
    {
      "content": "boolean isSuccess()",
      "start_pos": 76630,
      "end_pos": 76657
    },
    {
      "content": "boolean isFailure()",
      "start_pos": 76921,
      "end_pos": 76948
    },
    {
      "content": "[C]IapResult.Builder newBuilder()",
      "start_pos": 77175,
      "end_pos": 77216
    },
    {
      "content": "public final class IapResult.Builder extends Object",
      "start_pos": 77564,
      "end_pos": 77623
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.IapResult.Builder",
      "start_pos": 77625,
      "end_pos": 77689
    },
    {
      "content": "IapResult.Builder setResponseCode(int responseCode)",
      "start_pos": 77980,
      "end_pos": 78039
    },
    {
      "content": "IapResult.Builder setMessage(String message)",
      "start_pos": 78417,
      "end_pos": 78469
    },
    {
      "content": "[C]IapResult build()",
      "start_pos": 78898,
      "end_pos": 78926
    },
    {
      "content": "public class ProductDetail extends Object",
      "start_pos": 79207,
      "end_pos": 79256
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.ProductDetail",
      "start_pos": 79258,
      "end_pos": 79318
    },
    {
      "content": "String getOriginalJson()",
      "start_pos": 79826,
      "end_pos": 79858
    },
    {
      "content": "String getProductId()",
      "start_pos": 80098,
      "end_pos": 80127
    },
    {
      "content": "String getType()",
      "start_pos": 80334,
      "end_pos": 80358
    },
    {
      "content": "String getPrice()",
      "start_pos": 80759,
      "end_pos": 80784
    },
    {
      "content": "String getPriceCurrencyCode()",
      "start_pos": 81026,
      "end_pos": 81063
    },
    {
      "content": "String getPriceAmountMicros()",
      "start_pos": 81317,
      "end_pos": 81354
    },
    {
      "content": "String getTitle()",
      "start_pos": 81597,
      "end_pos": 81622
    },
    {
      "content": "public class ProductDetailsParams extends Object",
      "start_pos": 81863,
      "end_pos": 81919
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.ProductDetailsParams",
      "start_pos": 81921,
      "end_pos": 81988
    },
    {
      "content": "List<String> getProductIdList()",
      "start_pos": 83135,
      "end_pos": 83174
    },
    {
      "content": "String getProductType()",
      "start_pos": 83422,
      "end_pos": 83453
    },
    {
      "content": "ProductDetailsParams.Builder newBuilder()",
      "start_pos": 83884,
      "end_pos": 83933
    },
    {
      "content": "public final class ProductDetailsParams.Builder extends Object",
      "start_pos": 84497,
      "end_pos": 84567
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.ProductDetailsParams.Builder",
      "start_pos": 84569,
      "end_pos": 84644
    },
    {
      "content": "ProductDetailsParams.Builder setProductIdList(List<String> productIdList)",
      "start_pos": 85002,
      "end_pos": 85083
    },
    {
      "content": "ProductDetailsParams.Builder setProductType(String productType)",
      "start_pos": 85561,
      "end_pos": 85632
    },
    {
      "content": " build()",
      "start_pos": 86180,
      "end_pos": 86196
    },
    {
      "content": "public abstract class BillingClient extends Object",
      "start_pos": 86538,
      "end_pos": 86596
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseClient",
      "start_pos": 86598,
      "end_pos": 86659
    },
    {
      "content": "@AnyThread\npublic static  newBuilder(Context context)",
      "start_pos": 89620,
      "end_pos": 89681
    },
    {
      "content": "@AnyThread\npublic abstract boolean isReady()",
      "start_pos": 90315,
      "end_pos": 90367
    },
    {
      "content": "@AnyThread\npublic abstract int getConnectionState()",
      "start_pos": 90589,
      "end_pos": 90648
    },
    {
      "content": "@UiThread\npublic abstract [C]IapResult isFeatureSupported(String feature)",
      "start_pos": 91134,
      "end_pos": 91215
    },
    {
      "content": "@AnyThread\npublic abstract void startConnection([I]PurchaseClientStateListener listener)",
      "start_pos": 92102,
      "end_pos": 92198
    },
    {
      "content": "@AnyThread\npublic abstract void endConnection()",
      "start_pos": 92652,
      "end_pos": 92707
    },
    {
      "content": "@UiThread\npublic abstract void launchUpdateOrInstallFlow(Activity activity, [I]IapResultListener listener)",
      "start_pos": 92900,
      "end_pos": 93014
    },
    {
      "content": "@UiThread\npublic abstract [C]IapResult launchPurchaseFlow(Activity activity, [C]PurchaseFlowParams params)",
      "start_pos": 93583,
      "end_pos": 93697
    },
    {
      "content": "@AnyThread\npublic abstract void consumeAsync(params, listener)",
      "start_pos": 94361,
      "end_pos": 94431
    },
    {
      "content": "@AnyThread\npublic abstract void acknowledgeAsync(acknowledgeParams, listener)",
      "start_pos": 95059,
      "end_pos": 95144
    },
    {
      "content": "@AnyThread\npublic abstract void queryPurchasesAsync(String productType,  listener)",
      "start_pos": 95951,
      "end_pos": 96041
    },
    {
      "content": "@AnyThread\npublic abstract void queryProductDetailsAsync(params, listener)",
      "start_pos": 96653,
      "end_pos": 96735
    },
    {
      "content": "@AnyThread\npublic abstract void manageRecurringProductAsync(recurringProductParams, listener)",
      "start_pos": 97360,
      "end_pos": 97461
    },
    {
      "content": "@UiThread\npublic abstract void launchLoginFlowAsync(Activity activity, [I]IapResultListener listener)",
      "start_pos": 98164,
      "end_pos": 98273
    },
    {
      "content": "@UiThread\npublic abstract void launchManageSubscription(Activity activity, [C]SubscriptionParams subscriptionParams)",
      "start_pos": 98934,
      "end_pos": 99058
    },
    {
      "content": "@AnyThread\npublic abstract void getStoreInfoAsync(StoreInfoListener listener)",
      "start_pos": 99778,
      "end_pos": 99863
    },
    {
      "content": "public static final class PurchaseClient.Builder",
      "start_pos": 100337,
      "end_pos": 100393
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseClient.Builder",
      "start_pos": 100395,
      "end_pos": 100464
    },
    {
      "content": "@UiThread\npublic PurchaseClient.Builder setBase64PublicKey(String base64PublicKey)",
      "start_pos": 100788,
      "end_pos": 100878
    },
    {
      "content": "@UiThread\npublic PurchaseClient.Builder setListener([I]PurchasesUpdatedListener listener)",
      "start_pos": 101364,
      "end_pos": 101461
    },
    {
      "content": "@UiThread\npublic [C]PurchaseClient build()",
      "start_pos": 102139,
      "end_pos": 102189
    },
    {
      "content": "public class PurchaseData extends Object",
      "start_pos": 102756,
      "end_pos": 102804
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseData",
      "start_pos": 102806,
      "end_pos": 102865
    },
    {
      "content": "String getOrderId()",
      "start_pos": 103969,
      "end_pos": 103996
    },
    {
      "content": "String getPackageName()",
      "start_pos": 104222,
      "end_pos": 104253
    },
    {
      "content": "String getProductId()",
      "start_pos": 104487,
      "end_pos": 104516
    },
    {
      "content": "long getPurchaseTime()",
      "start_pos": 104745,
      "end_pos": 104775
    },
    {
      "content": "boolean isAcknowledged()",
      "start_pos": 105008,
      "end_pos": 105040
    },
    {
      "content": "String getDeveloperPayload()",
      "start_pos": 105295,
      "end_pos": 105331
    },
    {
      "content": "@Deprecated\nString getPurchaseId()",
      "start_pos": 105594,
      "end_pos": 105636
    },
    {
      "content": "String getPurchaseToken()",
      "start_pos": 106111,
      "end_pos": 106144
    },
    {
      "content": "int getPurchaseState()",
      "start_pos": 106384,
      "end_pos": 106414
    },
    {
      "content": "int getRecurringState()",
      "start_pos": 106687,
      "end_pos": 106718
    },
    {
      "content": "int getQuantity()",
      "start_pos": 107026,
      "end_pos": 107051
    },
    {
      "content": "String getSignature()",
      "start_pos": 107264,
      "end_pos": 107293
    },
    {
      "content": "String getOriginalJson()",
      "start_pos": 107543,
      "end_pos": 107575
    },
    {
      "content": "public class PurchaseFlowParams extends Object",
      "start_pos": 107837,
      "end_pos": 107891
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseFlowParams",
      "start_pos": 107893,
      "end_pos": 107958
    },
    {
      "content": "PurchaseClient.launchPurchaseFlow(Activity, [C]PurchaseFlowParams)",
      "start_pos": 108002,
      "end_pos": 108076
    },
    {
      "content": "String getProductId()",
      "start_pos": 108859,
      "end_pos": 108888
    },
    {
      "content": "String getProductType()",
      "start_pos": 109126,
      "end_pos": 109157
    },
    {
      "content": "String getProductName()",
      "start_pos": 109589,
      "end_pos": 109620
    },
    {
      "content": "String getGameUserId()",
      "start_pos": 109913,
      "end_pos": 109943
    },
    {
      "content": "boolean isPromotionApplicable()",
      "start_pos": 110209,
      "end_pos": 110248
    },
    {
      "content": "String getDeveloperPayload()",
      "start_pos": 110500,
      "end_pos": 110536
    },
    {
      "content": "String getOldPurchaseToken()",
      "start_pos": 110790,
      "end_pos": 110826
    },
    {
      "content": "int getProrationMode()",
      "start_pos": 111074,
      "end_pos": 111104
    },
    {
      "content": "int getQuantity()",
      "start_pos": 111409,
      "end_pos": 111434
    },
    {
      "content": " [C]PurchaseFlowParams.Builder newBuilder()",
      "start_pos": 111653,
      "end_pos": 111704
    },
    {
      "content": "public final class PurchaseFlowParams.Builder extends Object",
      "start_pos": 112130,
      "end_pos": 112198
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseFlowParams.Builder",
      "start_pos": 112200,
      "end_pos": 112273
    },
    {
      "content": "PurchaseFlowParams.Builder setProductId(String productId)",
      "start_pos": 112607,
      "end_pos": 112672
    },
    {
      "content": "PurchaseFlowParams.Builder setProductType(String productType)",
      "start_pos": 113035,
      "end_pos": 113104
    },
    {
      "content": "PurchaseFlowParams.Builder setProductType(String productName)",
      "start_pos": 113952,
      "end_pos": 114021
    },
    {
      "content": "PurchaseFlowParams.Builder setDeveloperPayload(String developerPayload)",
      "start_pos": 114499,
      "end_pos": 114578
    },
    {
      "content": "PurchaseFlowParams.Builder setGameUserId(String gameUserId)",
      "start_pos": 114938,
      "end_pos": 115005
    },
    {
      "content": "PurchaseFlowParams.Builder setPromotionApplicable(boolean promotion)",
      "start_pos": 115497,
      "end_pos": 115573
    },
    {
      "content": "PurchaseFlowParams.Builder setQuantity(int quantity)",
      "start_pos": 115977,
      "end_pos": 116037
    },
    {
      "content": "PurchaseFlowParams.Builder setSubscriptionUpdateParams(SubscriptionUpdateParams params)",
      "start_pos": 116439,
      "end_pos": 116534
    },
    {
      "content": " [C]PurchaseFlowParams build()",
      "start_pos": 117280,
      "end_pos": 117318
    },
    {
      "content": "public class RecurringProductParams extends Object",
      "start_pos": 117662,
      "end_pos": 117720
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.RecurringProductParams",
      "start_pos": 117722,
      "end_pos": 117791
    },
    {
      "content": "PurchaseData getPurchaseData()",
      "start_pos": 118845,
      "end_pos": 118883
    },
    {
      "content": "String getRecurringAction()",
      "start_pos": 119190,
      "end_pos": 119225
    },
    {
      "content": "RecurringProductParams.Builder newBuilder()",
      "start_pos": 119669,
      "end_pos": 119720
    },
    {
      "content": "public final class RecurringProductParams.Builder extends Object",
      "start_pos": 120167,
      "end_pos": 120239
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.RecurringProductParams.Builder",
      "start_pos": 120241,
      "end_pos": 120318
    },
    {
      "content": "RecurringProductParams.Builder setPurchaseData([C]PurchaseData purchaseData)",
      "start_pos": 120685,
      "end_pos": 120769
    },
    {
      "content": "RecurringProductParams.Builder setRecurringAction(String action)",
      "start_pos": 121172,
      "end_pos": 121244
    },
    {
      "content": "RecurringProductParams build()",
      "start_pos": 121813,
      "end_pos": 121851
    },
    {
      "content": "public class SubscriptionParams extends Object",
      "start_pos": 122215,
      "end_pos": 122269
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.SubscriptionParams",
      "start_pos": 122271,
      "end_pos": 122336
    },
    {
      "content": "PurchaseData getPurchaseData()",
      "start_pos": 123315,
      "end_pos": 123353
    },
    {
      "content": "SubscriptionParams.Builder newBuilder()",
      "start_pos": 123627,
      "end_pos": 123674
    },
    {
      "content": "public final class SubscriptionParams.Builder extends Object",
      "start_pos": 124085,
      "end_pos": 124153
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.SubscriptionParams.Builder",
      "start_pos": 124155,
      "end_pos": 124228
    },
    {
      "content": "SubscriptionParams.Builder setPurchaseData([C]PurchaseData purchaseData)",
      "start_pos": 124574,
      "end_pos": 124654
    },
    {
      "content": "SubscriptionParams build()",
      "start_pos": 124990,
      "end_pos": 125024
    },
    {
      "content": "public class SubscriptionUdpateParams extends Object",
      "start_pos": 125372,
      "end_pos": 125432
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseFlowParams.SubscriptionUpdateParams",
      "start_pos": 125434,
      "end_pos": 125524
    },
    {
      "content": "PurchaseClient.launchPurchaseFlow(Activity, PurchaseFlowParams)",
      "start_pos": 125568,
      "end_pos": 125639
    },
    {
      "content": "int getProrationMode()",
      "start_pos": 126517,
      "end_pos": 126547
    },
    {
      "content": "String getOldPurchaseToken()",
      "start_pos": 127054,
      "end_pos": 127090
    },
    {
      "content": "SubscriptionUpdateParams.Builder newBuilder()",
      "start_pos": 127331,
      "end_pos": 127384
    },
    {
      "content": "public class SubscriptionUdpateParams extends Object",
      "start_pos": 127849,
      "end_pos": 127909
    },
    {
      "content": "java.lang.Object\n    ↳ com.gaa.sdk.iap.PurchaseFlowParams.SubscriptionUpdateParams.Builder",
      "start_pos": 127911,
      "end_pos": 128009
    },
    {
      "content": "SubscriptionUpdateParams.Builder setProrationMode(ProrationMode prorationMode)",
      "start_pos": 128393,
      "end_pos": 128479
    },
    {
      "content": "SubscriptionUpdateParams.Builder setOldPurchaseToken()",
      "start_pos": 129506,
      "end_pos": 129568
    },
    {
      "content": "SubscriptionUpdateParams newBuilder()",
      "start_pos": 130026,
      "end_pos": 130071
    },
    {
      "content": "public interface AcknowledgeListener",
      "start_pos": 131535,
      "end_pos": 131579
    },
    {
      "content": "com.gaa.sdk.iap.AcknowledgeListener",
      "start_pos": 131581,
      "end_pos": 131624
    },
    {
      "content": "void onAcknowledgeResponse(IapResult iapResult, PurchaseData purchaseData)",
      "start_pos": 131917,
      "end_pos": 131999
    },
    {
      "content": "public interface ConsumeListener",
      "start_pos": 132289,
      "end_pos": 132329
    },
    {
      "content": "com.gaa.sdk.iap.ConsumeListener",
      "start_pos": 132331,
      "end_pos": 132370
    },
    {
      "content": "void onConsumeResponse(IapResult iapResult, PurchaseData purchaseData)",
      "start_pos": 132633,
      "end_pos": 132711
    },
    {
      "content": "public interface IapResultListener",
      "start_pos": 132992,
      "end_pos": 133034
    },
    {
      "content": "com.gaa.sdk.iap.IapResultListener",
      "start_pos": 133036,
      "end_pos": 133077
    },
    {
      "content": "void onResponse( iapResult)",
      "start_pos": 133343,
      "end_pos": 133378
    },
    {
      "content": "public interface ProductDetailsListener",
      "start_pos": 133647,
      "end_pos": 133694
    },
    {
      "content": "com.gaa.sdk.iap.ProductDetailsListener",
      "start_pos": 133696,
      "end_pos": 133742
    },
    {
      "content": "void onProductDetailsResponse( iapResult, List<> productDetailList)",
      "start_pos": 134062,
      "end_pos": 134137
    },
    {
      "content": "public interface PurchaseClientStateListener",
      "start_pos": 134475,
      "end_pos": 134527
    },
    {
      "content": "com.gaa.sdk.iap.PurchaseClientStateListener",
      "start_pos": 134529,
      "end_pos": 134580
    },
    {
      "content": "void onSetupFinished(iapResult)",
      "start_pos": 134886,
      "end_pos": 134925
    },
    {
      "content": "void onServiceDisconnected()",
      "start_pos": 135220,
      "end_pos": 135256
    },
    {
      "content": "public interface PurchasesListener",
      "start_pos": 135430,
      "end_pos": 135472
    },
    {
      "content": "com.gaa.sdk.iap.PurchasesListener",
      "start_pos": 135474,
      "end_pos": 135515
    },
    {
      "content": "void onPurchasesResponse(IapResult iapResult, List<PurchaseData> purchases)",
      "start_pos": 135841,
      "end_pos": 135924
    },
    {
      "content": "public interface PurchasesUpdatedListener",
      "start_pos": 136307,
      "end_pos": 136356
    },
    {
      "content": "com.gaa.sdk.iap.PurchasesUpdatedListener",
      "start_pos": 136358,
      "end_pos": 136406
    },
    {
      "content": "void onPurchasesUpdated(IapResult iapResult, @Nullable List<PurchaseData> purchases)",
      "start_pos": 136716,
      "end_pos": 136808
    },
    {
      "content": "public interface QueryPurchasesListener",
      "start_pos": 137107,
      "end_pos": 137154
    },
    {
      "content": "com.gaa.sdk.iap.QueryPurchasesListener",
      "start_pos": 137156,
      "end_pos": 137202
    },
    {
      "content": "void onPurchasesResponse(IapResult iapResult, List<PurchaseData> purchases)",
      "start_pos": 137504,
      "end_pos": 137587
    },
    {
      "content": "public interface RecurringProductListener",
      "start_pos": 137970,
      "end_pos": 138019
    },
    {
      "content": "com.gaa.sdk.iap.RecurringProductListener",
      "start_pos": 138021,
      "end_pos": 138069
    },
    {
      "content": "void onRecurringResponse(IapResult iapResult, PurchaseData purchaseData, String action)",
      "start_pos": 138384,
      "end_pos": 138479
    },
    {
      "content": "public interface StoreInfoListener",
      "start_pos": 139250,
      "end_pos": 139292
    },
    {
      "content": "com.gaa.sdk.iap.StoreInfoListener",
      "start_pos": 139294,
      "end_pos": 139335
    },
    {
      "content": "void onStoreInfoResponse(IapResult iapResult, String storeCode)",
      "start_pos": 139622,
      "end_pos": 139693
    },
    {
      "content": "GET /v7/apps/com.onestore.game.goindol/purchases/inapp/products/product01/SANDBOXT000120004476 HTTP/1.1\nHost: sbpp.onestore.net\nAuthorization: Bearer 680b3621-1234-1234-1234-8adfaef561b4",
      "start_pos": 142408,
      "end_pos": 142602
    },
    {
      "content": "Authorization: 680b3621-1234-1234-1234-8adfaef561b4\nAuthorization: bearer 680b3621-1234-1234-1234-8adfaef561b4\nAuthorization: Bearer <680b3621-1234-1234-1234-8adfaef561b4>\nAuthorization:Bearer680b3621-1234-1234-1234-8adfaef561b4",
      "start_pos": 142756,
      "end_pos": 142992
    },
    {
      "content": "    POST /v7/oauth/token HTTP/1.1\n    Host: apis.onestore.com\n    Content-Type: application/x-www-form-urlencoded;charset=UTF-8\n    x-market-code: MKT_GLB\n\n    grant_type=client_credentials&client_id=com.onestore.game.goindol&client_secret=vxIMAGcVz3DAx20uDBr/IDWNJAPNHFl7YruF4uxB6BI=\n    ```\n*   **Response Body** : JSON 형식\n\n    | Element Name  | Data Type | Data Size | Description                |\n    | ------------- | --------- | --------- | -------------------------- |\n    | client\\_id    | String    | 255       | OAuth 인증 client\\_id        |\n    | access\\_token | String    | 36        | AccessToken                |\n    | token\\_type   | String    | 6         | bearer 방식만 제공              |\n    | expires\\_in   | Integer   | 10        | token 만료기한, 단위 : 초(second) |\n    | scope         | String    | 1024      | token 사용 범위                |\n*   **Example :**&#x20;\n\n    ```json\n    {\n        \"client_id\":\"0000000001\",\n        \"access_token\":\"680b3621-1234-1234-1234-8adfaef561b4\",\n        \"token_type\":\"bearer\",\n        \"expires_in\":3010,\n        \"scope\":\"DEFAULT\"\n    }\n    ```\n\n\n*   **발급 예시** :&#x20;\n\n    {% code overflow=\"wrap\" %}\n    ```bash\n    curl -v -X POST https://sbpp.onestore.net/v7/oauth/token \\\n    -H \"Content-Type: application/x-www-form-urlencoded\" \\\n    -H \"x-market-code: MKT_GLB\" \\\n    -d \"grant_type=client_credentials\" \\\n    -d \"client_id=0000000001\" \\\n    -d \"client_secret=vxIMAGcVz3DAx20uDBr/IDWNJAPNHFl7YruF4uxB6BI=\"\n    > POST /v7/oauth/token HTTP/1.1\n    > Host: sbpp.onestore.net\n    > User-Agent: curl/7.43.0\n    > Accept: */*\n    > Content-Type: application/x-www-form-urlencoded;charset=UTF-8\n    > Content-Length: 35\n    >\n    * upload completely sent off: 35 out of 35 bytes\n    < HTTP/1.1 200 200\n    < Date: Wed, 02 May 2018 02:52:42 GMT\n    < Server: Apache\n    < Connection: close\n    < Transfer-Encoding: chunked\n    < Content-Type: application/json;charset=UTF-8\n    <\n    * Closing connection 0\n    {\"client_id\":\"0000000001\",\"access_token\":\"680b3621-1234-1234-1234-8adfaef561b4\",\"token_type\":\"bearer\",\"expires_in\":3600,\"scope\":\"DEFAULT\"}\n    ```\n    {% endcode %}\n\n\n\n검증(개발) 환경과 상용환경의 AccessToken은 독립적으로 관리되므로, 환경 별로 AccessToken을 분리하여 관리하셔야 합니다.\n\n## **서버 API 상세**  <a href=\"#id-06.-api-apiv7-api\" id=\"id-06.-api-apiv7-api\"></a>\n\n{% hint style=\"info\" %}\n2025년 3월 20일 개발자센터 개편의 영향으로 서버 API 요청 시 이용되던 packageName은 clientId로 변경되었습니다.&#x20;\n\n* 3월 20일 이전 등록된 앱의 경우 클라이언트 ID 와 패키지명이 동일하므로, 변경에 대한 영향도가 없습니다.&#x20;\n* 3월 20일 이후 등록된 앱의 경우 클라이언트 ID 가 PID와 동일하므로 참고 부탁 드립니다.&#x20;\n{% endhint %}\n\n### getPurchaseDetails (구매상품 상세조회) <a href=\"#id-06.-api-apiv7-getpurchasedetails\" id=\"id-06.-api-apiv7-getpurchasedetails\"></a>\n\n* **Desc :** 구매한 원스토어 관리형 상품의 상세정보를 조회합니다. 구매완료 시 전달받은 원스토어 purchaseToken(구매 토큰)을 이용하여 조회하여야 합니다. 월정액 상품의 purchaseToken으로 조회 시, 조회 실패(NoSuchData) 응답이 전달됩니다.\n* **URI :** /v7/apps/{clientId}/purchases/inapp/products/{productId}/{purchaseToken}\n* **Method :** GET\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body** : JSON 형식\n\n    | Element Name     | Data Type | Data Size | Description                                    |\n    | ---------------- | --------- | --------- | ---------------------------------------------- |\n    | consumptionState | Integer   | 1         | 구매한 상품의 소비상태 (0: 미소비, 1: 소비)                   |\n    | developerPayload | String    | 200       | 개발사가 제공한 결제 고유 식별자                             |\n    | purchaseState    | Integer   | 1         | 구매상태 ( 0: 구매완료, 1: 취소완료)                       |\n    | purchaseTime     | Long      | 13        | 구매시간 (ms)                                      |\n    | purchaseId       | String    | 20        | 구매 ID                                          |\n    | acknowledgeState | Integer   | 1         | 구매확인 상태( 0: Not Acknowledged, 1: Acknowledged) |\n    | quantity         | Integer   | 2         | 구매 수량                                          |\n*   **Example:**\n\n    ```\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"consumptionState\": 0,\n        \"developerPayload\": \"developerPayload\",\n        \"purchaseState\": 0,\n        \"purchaseTime\": 1345678900000,\n        \"purchaseId\": \"17070421461015116878\",\n        \"acknowledgeState\": 0,\n    \t\"quantity\": 2\n    }\n    ```\n\n### getRecurringPurchaseDetails (월정액 상품 구매 상세조회)  <a href=\"#id-06.-api-apiv7-getrecurringpurchasedetails\" id=\"id-06.-api-apiv7-getrecurringpurchasedetails\"></a>\n\n* **Desc :** 구매한 원스토어 월정액 상품의 자동결제 상태와 마지막 구매상태의 상세정보를 조회합니다. 구매완료 시 전달받은 원스토어 purchaseToken(구매 토큰)을 이용하여 조회하여야 합니다. 관리형 상품의 purchaseToken으로 조회 시, 조회 실패(NoSuchData) 응답이 전달됩니다.\n* **URI :** /v7/apps/{clientId}/purchases/auto/products/{productId}/{purchaseToken}\n* **Method :** GET\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body** : JSON 형식\n\n    | Element Name      | Data Type | Data Size | Description                                            |\n    | ----------------- | --------- | --------- | ------------------------------------------------------ |\n    | startTime         | Long      | 13        | 구매한 상품의 이용시작시간(ms)                                     |\n    | expiryTime        | Long      | 13        | 구매한 상품의 이용종료시간(ms)                                     |\n    | nextPaymentTime   | Long      | 13        | 다음 자동결제시간                                              |\n    | autoRenewing      | boolean   | -         | 이용종료시간(expiryTime)가 지난 후 자동결제 여부                       |\n    | cancelReason      | Integer   | 1         | 해지사유 (0 : 고객요청에 의한 해지, 1 : 기타 시스템 처리로 인한 해지 )          |\n    | cancelledTime     | Long      | 13        | 해지시간(ms)                                               |\n    | acknowledgeState  | Integer   | 1         | 월정액 상품의 구매확인 상태( 0: Not Acknowledged, 1: Acknowledged) |\n    | lastPurchaseId    | String    | 20        | 마지막에 자동결제된 구매ID                                        |\n    | lastPurchaseState | Integer   | 1         | 마지막에 자동결제된 구매상태 (0 : 구매완료, 1 : 취소완료)                   |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"startTime\": 1345678900000,\n        \"expiryTime\": 1345678999999,\n        \"nextPaymentTime\": 1345688000000,\n        \"autoRenewing\": true,\n        \"cancelReason\": 1,\n        \"cancelledTime\": 1345679000000,\n        \"acknowledgeState\": 0,\n        \"lastPurchaseId\":\"15081718460701027851\",\n        \"lastPurchaseState\": 0\n    }\n    ```\n\n    고객이 월정액 상품에 대하여 컨텐츠 사용 권한이 있는지 아래의 조건으로 판단이 가능합니다.\n\n    * 현재시간이 expiryTime(구매한 상품의 이용종료시간)보다 작거나 같고, lastPurchaseState(마지막에 자동결제된 구매상태)가 0(구매완료) 상태인경우\\\n      Ex) expiryTime >= 현재시간 AND lastPurchaseState == 0\n\n### acknowledgePurchase (구매상품 확인)  <a href=\"#id-06.-api-apiv7-acknowledgepurchase\" id=\"id-06.-api-apiv7-acknowledgepurchase\"></a>\n\n* **Desc :** 구매한 관리형 또는 월정액 상품을 구매확인 상태로 변경한다.\n* **URI :** /v7/apps/{clientId}/purchases/all/products/{productId}/{purchaseToken}/acknowledge\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n*   **Request Body** : JSON 형식\n\n    | Element Name     | Data Type | Required | Description |\n    | ---------------- | --------- | -------- | ----------- |\n    | developerPayload | String    | false    | <p><br></p> |\n*   **Example :**\n\n    ```json\n    {\n        \"developerPayload\": \"your payload\"\n    }\n    ```\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n\n\n원스토어는 3일 이내에 acknowledgePurchase API가 호출되지 않은 구매 건을 자동으로 취소합니다.\n\n이에 따라 개발사는 반드시 해당 API를 호출해야 하며, SDK API 또는 서버 API를 통해 처리할 수 있습니다.\n\n단, consumePurchase API가 호출된 구매 건은 acknowledge가 되었다고 판단하고 구매 취소를 하지 않습니다.\n\n### consumePurchase (구매상품 소비) <a href=\"#id-06.-api-apiv7-consumepurchase\" id=\"id-06.-api-apiv7-consumepurchase\"></a>\n\n* **Desc :** 구매한 관리형 인앱 상품을 소비 상태로 변경한다.\n* **URI :** /v7/apps/{clientId}/purchases/inapp/products/{productId}/{purchaseToken}/consume\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n*   **Request Body** : JSON 형식\n\n    | Element Name     | Data Type | Required | Description |\n    | ---------------- | --------- | -------- | ----------- |\n    | developerPayload | String    | false    | <p><br></p> |\n*   **Example :**\n\n    ```json\n    {\n        \"developerPayload\": \"your payload\"\n    }\n    ```\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n\n\n### cancelRecurringPurchase (자동결제 해지요청)  <a href=\"#id-06.-api-apiv7-cancelrecurringpurchase\" id=\"id-06.-api-apiv7-cancelrecurringpurchase\"></a>\n\n* **Desc :** 월정액 상품의 자동결제 해지를 요청한다. 구독형 상품의 purchaseToken이용 시, 조회 실패(NoSuchData) 응답이 전달됩니다.\n* **URI :** /v7/apps/{clientId}/purchases/auto/products/{productId}/{purchaseToken}/cancel\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n### reactiveRecurringPurchase (자동결제 해지 취소요청)  <a href=\"#id-06.-api-apiv7-reactiverecurringpurchase\" id=\"id-06.-api-apiv7-reactiverecurringpurchase\"></a>\n\n* **Desc :** 월정액 상품의 자동결제 해지요청을 취소한다. 구독형 상품의 purchaseToken이용 시, 조회 실패(NoSuchData) 응답이 전달됩니다.\n* **URI :** /v7/apps/{clientId}/purchases/auto/products/{productId}/{purchaseToken}/reactivate\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n### getVoidedPurchases (구매취소내역 조회)  <a href=\"#id-06.-api-apiv7-getvoidedpurchases\" id=\"id-06.-api-apiv7-getvoidedpurchases\"></a>\n\n* **Desc :** 구매취소내역을 조회한다.\n* **URI :** /v7/apps/{clientId}/voided-purchases\n* **Method :** GET\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n* **Request Parameter (Optional) :** Query String 형식\\\n\n  * String continuationKey : 구매취소 건이 많을 경우 원스토어 서버에서 이 값을 반환합니다. \\\n    응답에 continuationKey가 있을 경우, getVoidedPurchases를 다시 호출하면서 continuationKey를 전달하면 추가 구매취소 내역을 전달받을 수 있습니다. (Data Size : 41)\n  * String startTime : 구매취소일시 검색 시작시간 (milliseconds). \\\n    현재시간기준 과거 1개월까지만 설정가능하며 startTime 단독으로 사용할 경우 endTime은 startTime기준 미래 1개월로 설정됩니다. (Data Size : 13)\n  * String endTime :  구매취소일시 검색 종료시간 (milliseconds). \\\n    현재시간보다 클 수 없으며 endTime 단독으로 사용할 경우 startTime은 endTime기준 과거 1개월로 설정됩니다. (Data Size : 13)\n  * unsigned integer maxResults : 최대조회건수 default 100 (Data Size : 3)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body :**\n\n    | Element Name        | Data Type   | Data Size | Description                                                                         |\n    | ------------------- | ----------- | --------- | ----------------------------------------------------------------------------------- |\n    | continuationKey     | String      | 41        | 구매취소 건이 최대조회건수보다 많을 경우 반환. 이후 요청시 전달받은 continuationKey 를 셋팅하여 호출하면 이후 내역을 조회 할 수 있음 |\n    | voidedPurchaseList  | <p><br></p> | -         | <p><br></p>                                                                         |\n    | purchaseId          | String      | 20        | 구매 ID                                                                               |\n    | purchaseTime        | Long        | 13        | 구매시간(ms)                                                                            |\n    | voidedTime          | Long        | 13        | 구매취소시간(ms)                                                                          |\n    | purchaseToken       | String      | 20        | 구매 토큰                                                                               |\n    | marketCode          | String      | -         | 마켓 구분 코드                                                                            |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"continuationKey\": \"continuationKey\",\n        \"voidedPurchaseList \": [\n            {\n                \"purchaseId\": \"19062709124410111299\",\n                \"purchaseTime\": 1345678900000,\n                \"voidedTime\": 1345688900000,\n                \"purchaseToken\": \"19062709124410111299\",\n                \"marketCode\": \"MKT_ONE\"\n            },\n            {\n                \"purchaseId\": \"19062709124410111300\",\n                \"purchaseTime\": 1345679900000,\n                \"voidedTime\": 1345878900000,\n                \"purchaseToken\": \"19062709124410111299\",\n                \"marketCode\": \"MKT_ONE\"\n            }\n        ]\n    }\n    ```\n\n### getSubscriptionDetail (구독 상세 조회)  <a href=\"#id-06.-api-apiv7-getsubscriptiondetail\" id=\"id-06.-api-apiv7-getsubscriptiondetail\"></a>\n\n* **Desc :** 구독 상세 내역을 조회한다.\n* **URI :** /v7/apps/{clientId}/purchases/subscription/products/{productId}/{purchaseToken}\n* **Method :** GET\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body :**\n\n    <table data-header-hidden><thead><tr><th width=\"205\"></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>Element Name</td><td>Data Type</td><td>Data Size</td><td>Description</td></tr><tr><td>acknowledgementState</td><td>Integer</td><td>1</td><td>구매확인 상태( 0: Not Acknowledged, 1: Acknowledged)</td></tr><tr><td>developerPayload</td><td>String</td><td>200</td><td>개발사가 제공한 결제 고유 식별자</td></tr><tr><td>autoRenewing</td><td>boolean</td><td>-</td><td><p>다음결제 갱신여부<br></p><ul><li>구독해지예약,해지,만료 : false</li><li>나머지 : true</li></ul></td></tr><tr><td>paymentState</td><td>Integer</td><td>1</td><td><p>구독결제 수신여부</p><ul><li>null: 만료 상태</li><li>0: 결제가 완료 되지 않은 상태</li><li>1: 결제요청 후 결제완료가 된 상태</li><li>2: 무료기간으로 처리된 상태</li><li>3: 상품 업/다운그레이드 시 DEFERRED옵션으로 처리된 상태</li></ul></td></tr><tr><td>priceAmount</td><td>String</td><td>-</td><td>구매금액</td></tr><tr><td>priceAmountMicros</td><td>Long</td><td>-</td><td>구매금액 * 100만</td></tr><tr><td>nextPriceAmount</td><td>String</td><td>-</td><td>다음구매금액</td></tr><tr><td>nextPriceAmountMicros</td><td>Long</td><td>-</td><td>다음구매금액 * 100만</td></tr><tr><td>nextPaymentTimeMillis</td><td>Long</td><td>13</td><td>다음구매시간(ms)</td></tr><tr><td>priceCurrencyCode</td><td>String</td><td>-</td><td>통화코드(KRW 고정)</td></tr><tr><td>countryCode</td><td>String</td><td>-</td><td>국가코드(KR 고정)</td></tr><tr><td>startTimeMillis</td><td>Long</td><td>13</td><td>구독 시작(첫 결제)시간(ms)</td></tr><tr><td>expiryTimeMillis</td><td>Long</td><td>13</td><td>구독 만료시간(ms)</td></tr><tr><td>pauseStartTimeMillis</td><td>Long</td><td>13</td><td>일시정지 시작일시(ms)-일시정지예약/일시정지 시에만 존재</td></tr><tr><td>pauseEndTimeMillis</td><td>Long</td><td>13</td><td>일시정지 시작일시(ms)-일시정지예약/일시정지 시에만 존재</td></tr><tr><td>autoResumeTimeMillis</td><td>Long</td><td>13</td><td><p>일시정지 후 재구독 시간</p><ul><li>정상 구독 중: null</li><li>일시정지 예약/확정/일시정지중: 다음결제일 + 일시정지일자 </li></ul></td></tr><tr><td>linkedPurchaseToken</td><td>String</td><td>20</td><td>구독상품 변경 시 이전 purchaseToken, 변경한 적이 없으면 null</td></tr><tr><td>lastPurchaseId</td><td>String</td><td>20</td><td>마지막 구매ID</td></tr><tr><td>cancelledTimeMillis<br></td><td>Long</td><td>13</td><td>구독 해지시간(ms)</td></tr><tr><td>cancelReason</td><td>Integer</td><td>1</td><td><p>구독 해지사유 </p><ul><li>0 : 고객요청</li><li>1 : 기타</li></ul></td></tr><tr><td>promotionPrice</td><td>Object</td><td>-</td><td>프로모션 금액 정보</td></tr><tr><td>promotionPrice.promotionPrice</td><td>String</td><td>-</td><td>프로모션 금액</td></tr><tr><td>promotionPrice.promotionPriceMicros</td><td>Long</td><td>-</td><td>프로모션 금액 정보 * 100만</td></tr><tr><td>promotionPrice.promotionPeriod</td><td>Int</td><td>-</td><td>프로모션 적용 회차</td></tr><tr><td>priceChange</td><td>Object</td><td>-</td><td>가격변동정보</td></tr><tr><td>priceChange.seq</td><td>Integer</td><td>-</td><td>가격변동 시퀀스 </td></tr><tr><td>priceChange.previousPrice</td><td>String</td><td>-</td><td>이전 가격 </td></tr><tr><td>priceChange.previousPriceMicros</td><td>Long</td><td>-</td><td>이전 가격 * 100만</td></tr><tr><td>priceChange.newPrice</td><td>String</td><td>-</td><td>신규 가격</td></tr><tr><td>priceChange.newPriceMicros</td><td>Long</td><td>-</td><td>신규 가격 * 100만</td></tr><tr><td>priceChange.applyTimeMillis</td><td>Long</td><td>13</td><td>적용일자(ms)</td></tr><tr><td>priceChange.agreement</td><td>Boolean</td><td>-</td><td>가격 변동 동의 여부</td></tr><tr><td>priceChange.agreementDueDateTimeMillis</td><td>Long</td><td>13</td><td><p>가격 변동 동의 만료 시간(ms)</p><p>(정책 부연 설명)</p><p>Value = 가격변경일 +7+30일<br>사용자는 동의만료일 이후 첫 자동결제 시점까지 동의가능함.</p></td></tr></tbody></table>\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"acknowledgementState\":1,\n        \"autoRenewing\":true,\n        \"paymentState\":1,\n        \"lastPurchaseId\": \"20202394820938409234\"\n        \"linkedPurchaseToken\":null,\n        \"priceAmount\":\"100\",\n        \"priceAmountMicros\":100000000,\n        \"nextPriceAmount\":\"150\",\n        \"nextPriceAmountMicros\":150000000,\n        \"nextPaymentTimeMillis\": 1623337199000,\n        \"priceCurrencyCode\":\"KRW\",\n        \"countryCode\":\"KR\",\n        \"startTimeMillis\":1623337199000,\n        \"expiryTimeMillis\":1625929199000,\n        \"pauseStartTimeMillis\":1625929199000,\n        \"pauseEndTimeMillis\":1625929199000,\n        \"autoResumeTimeMillis\":1625878800000,\n        \"cancelledTimeMillis\":1625929199000,\n        \"cancelReason\":0,\n        \"promotionPrice\":{\n            \"promotionPrice\":\"100\",\n            \"promotionPriceMicros\":100000000,\n            \"promotionPeriod\":30\n        },\n        \"priceChange\":{\n            \"seq\": 1,\n            \"previousPrice\":\"100\",\n            \"previousPriceMicros\":100000000,\n            \"newPrice\":\"500\",\n            \"newPriceMicros\":500000000,\n            \"applyTimeMillis\":1625670000000,\n            \"agreement\":false,\n            \"agreementDueDateTimeMillis\": 1345678920000\n        }\n    }\n    ```\n\n### cancelSubscription (구독결제 해지요청)  <a href=\"#id-06.-api-apiv7-cancelsubscription\" id=\"id-06.-api-apiv7-cancelsubscription\"></a>\n\n* **Desc :** 구독형 상품의 자동결제 해지를 요청한다. 단, 요청 시점에 구독상태가 일시중지, 결제유예, 계정보류일 경우 즉시 해지를 요청한다.\n* **URI :** /v7/apps/{clientId}/purchases/subscription/products/{productId}/{purchaseToken}/cancel\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n### reactivateSubscription (구독결제 해지 취소요청)  <a href=\"#id-06.-api-apiv7-reactivatesubscription\" id=\"id-06.-api-apiv7-reactivatesubscription\"></a>\n\n* **Desc :** 구독형 상품의 자동결제 해지요청을 취소한다. 단, 즉시해지된 경우 해지요청을 취소할 수 없다.\n* **URI :** /v7/apps/{clientId}/purchases/subscription/products/{productId}/{purchaseToken}/reactivate\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n* **Request Body :** 없음\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n### deferSubscription (구독결제 연기요청)  <a href=\"#id-06.-api-apiv7-defersubscription\" id=\"id-06.-api-apiv7-defersubscription\"></a>\n\n* **Desc :** 구독형 상품의 다음 결제일을 연기한다.\n* **URI :** /v7/apps/{clientId}/purchases/subscription/products/{productId}/{purchaseToken}/defer\n* **Method :** POST\n* **Request Parameter :** Path Variable 형식\n  * String clientId : API를 호출하는 앱의 클라이언트 ID (Data Size : 128)\n  * String productId : 상품 ID (Data Size : 150)\n  * String purchaseToken : 구매 토큰 (Data Size : 20)\n*   **Request Header:**&#x20;\n\n    | Parameter Name | Data Type | Required | Description                             |\n    | -------------- | --------- | -------- | --------------------------------------- |\n    | Authorization  | String    | true     | Access Token API를 통해 발급받은 access\\_token |\n    | Content-Type   | String    | true     | application/json                        |\n    | x-market-code  | String    | false    | 마켓 구분 코드                                |\n*   **Example**&#x20;\n\n    ```java\n    Request.setHeader(\"Authorization\", \"Bearer 680b3621-1234-1234-1234-8adfaef561b4\");\n    Request.setHeader(\"Content-Type\", \"application/json\");\n    Request.setHeader(\"x-market-code\", \"MKT_GLB\");\n    ```\n*   **Request Body :** JSON 형식\n\n    | Parameter Name | Data Type | Required | Description                                                       |\n    | -------------- | --------- | -------- | ----------------------------------------------------------------- |\n    | deferPeriod    | Integer   | true     | <p>연기 기간</p><ul><li>상용: 일 단위(1~365일)</li><li>샌드박스: 분 단위</li></ul> |\n*   **Example :**&#x20;\n\n    ```json\n    Content-type: application/json;charset=UTF-8\n    {\n    \t\"deferPeriod\" : 3\n    }\n    ```\n*   **Response Body :** JSON 형식\n\n    API 처리 성공 시 처리완료를 보다 직관적으로 판단할 수 있도록 아래 형식의 응답를 리턴합니다. 단, API 처리 실패 시에는 표준오류응답을 리턴합니다.\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | result       | Object    | -         | <p><br></p> |\n*   **Example :**&#x20;\n\n    ```json\n    HTTP/1.1 200 OK\n    Content-type: application/json;charset=UTF-8\n    {\n        \"result\" : {\n            \"code\" : \"Success\",\n            \"message\" : \"Request has been completed successfully.\"\n        }\n    }\n    ```\n\n## 표준응답규격 <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>\n\n### 표준응답코드 <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>\n\n| Code                       | Message                                                                               | Description                              | HTTP Status Code                      | 대상 API                                                                                                  |\n| -------------------------- | ------------------------------------------------------------------------------------- | ---------------------------------------- | ------------------------------------- | ------------------------------------------------------------------------------------------------------- |\n| AccessBlocked              | The request was blocked.                                                              | 요청이 차단되었습니다.                             | 403 - Fobidden                        | 공통                                                                                                      |\n| AccessTokenExpired         | Access token has expired.                                                             | Access 토큰이 만료되었습니다.                      | 401 - Unauthorized                    | 공통                                                                                                      |\n| BadRequest                 | The request are invalid.                                                              | 잘못된 요청입니다.                               | 400 - Bad Request                     | 공통                                                                                                      |\n| DeveloperPayloadNotMatch   | The request developerPayload does not match the value passed in the purchase request. | 구매요청 시 전달된 developerPayload값과 일치하지 않습니다. | 400 - Bad Request                     | <p>acknowledgePurchase<br>consumePurchase</p>                                                           |\n| InternalError              | An undefined error has occurred.                                                      | 정의되지 않은 오류가 발생하였습니다.                     | 500 - Internal Server Error           | 공통                                                                                                      |\n| InvalidAccessToken         | Access token is invalid.                                                              | Access 토큰이 유효하지 않습니다.                    | 401 - Unauthorized                    | 공통                                                                                                      |\n| InvalidAuthorizationHeader | Authorization header is invalid.                                                      | Authorization 헤더의 값이 유효하지 않습니다.          | 400 - Bad Request                     | 공통                                                                                                      |\n| InvalidConsumeState        | The purchase consumption status cannot be changed or has already been changed.        | 소비상태 변경이 불가하거나, 이미 변경완료 되었습니다.           | 409 - Conflict                        | consumePurchase                                                                                         |\n| InvalidContentType         | The request content-type is invalid.                                                  | 잘못된 Content Type 입니다.                    | 415 - Unsupported Media Type          | 공통                                                                                                      |\n| InvalidPurchaseState       | Purchase history does not exist or is not completed.                                  | 구매내역이 존재하지 않거나, 구매완료 상태가 아닙니다.           | 409 - Conflict                        | <p>acknowledgePurchase<br>consumePurchase</p>                                                           |\n| InvalidRequest             | Request parameters are invalid. \\[ field1, field2, ... ]                              | 입력값이 유효하지 않습니다. \\[ field1, field2, ... ] | 400 - Bad Request                     | 공통                                                                                                      |\n| MethodNotAllowed           | HTTP method not supported.                                                            | 지원하지 않는 HTTP Method 입니다.                 | 405 - Method Not Allowed              | 공통                                                                                                      |\n| NoSuchData                 | The requested data could not be found.                                                | 조회된 결과값이 존재하지 않습니다.                      | 404 - Not Found                       | <p>getPurchaseDetails<br>getRecurringPurchaseDetails</p>                                                |\n| RequiredValueNotExist      | Request parameters are required. \\[ field1, field2, ... ]                             | 필수값이 존재하지 않습니다. \\[ field1, field2, ... ] | 400 - Bad Request                     | 공통                                                                                                      |\n| ResourceNotFound           | The requested resource could not be found.                                            | 요청한 자원이 존재하지 않습니다.                       | 404 - Not Found                       | 공통                                                                                                      |\n| ServiceMaintenance         | System maintenance is in progress.                                                    | 서비스 점검중입니다.                              | 503 - Service Temporarily Unavailable | 공통                                                                                                      |\n| Success                    | The request has been completed successfully.                                          | 정상처리 되었습니다.                              | 200 - Success                         | <p>acknowledgePurchase<br>consumePurchase<br>cancelRecurringPurchase<br>reactivateRecurringPurchase</p> |\n| UnauthorizedAccess         | Not authorized to this API.                                                           | 해당 API에 접근권한이 없습니다.                      | 403 - Fobidden                        | 공통                                                                                                      |\n\n### 표준오류 응답규격 <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>\n\n서버 API에서는 정상적인 응답 외에 오류발생 시, 아래의 Example과 같은 형식의 표준오류응답을 리턴합니다. 아래 내용을 참고하시기 바랍니다.\n\n*   **Response Body :** JSON 형식\n\n    | Element Name | Data Type | Data Size | Description |\n    | ------------ | --------- | --------- | ----------- |\n    | code         | String    | -         | 응답 코드       |\n    | message      | String    | -         | 응답 메시지      |\n    | error        | Object    | -         | <p><br></p> |\n*   **Example**\n\n    ```json\n    HTTP/1.1 400 Bad Request\n    Content-type: application/json;charset=UTF-8\n    {\n        \"error\" : {\n            \"code\" : \"NoSuchData\",\n            \"message\" : \"The requested data could not be found.\"\n        }\n    }\n    ```\n\n## **공통 코드**  <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>\n\n### **상품타입 코드**  <a href=\"#id-06.-api-apiv7\" id=\"id-06.-api-apiv7\"></a>\n\n| Code         | Name   | Description     |\n| ------------ | ------ | --------------- |\n| inapp        | 관리형 상품 | 소비성/영구성/기간제 상품  |\n| auto         | 월정액 상품 | 월 자동결제 상품       |\n| subscription | 구독형 상품 | 구독형(자동결제) 상품    |\n| all          | 전체 상품  | 관리형 상품 + 월정액 상품 |\n\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/pns.md\n# 07. PNS(Payment Notification Service) 이용하기\n\n## **개요**  \n\nPNS는 Payment Notification Service의 약자입니다. PNS는 모바일의 네트워크 연결 불안정성을 보완하기 위해 개발사가 지정한 서버로 원스토어의 서버가 개별 사용자의 결제 상태(결제 완료, 결제 취소)를 메시지로 전송하여 결제 트랜젝션의 상태를 손실없이 알려주기 위한 용도의 기능입니다. 즉, 개발사가 지정한 서버에서 원스토어가 정의한 규칙에 맞추어 API를 구현하면 해당 API를 원스토어의 결제 담당 서버에서 호출하는 형태입니다.\n\nServer to Server, 즉 서버간에 데이터를 전송한다고 할지라도 네트워크 문제로 메세지 전송 실패가 발생하기 때문에 200 OK로 응답을 인지하지 못할 경우 반복하여 메시지가 전송될 수 있습니다. 개발사의 서버는 메시지를 수신후 정의된 응답을 하여야 원스토어는 개발사 서버가 정상적으로 메시지를 전달 받았음을 인지합니다.\n\n결제 트렌젝션의 유형에 따라 아래와 같은 유형의 메세지가 전송됩니다.\n\n* 인앱상품 결제 또는 결제취소가 발생하면 원스토어가 개발사 서버로 알림을 전송하는 PNS(Payment Notification Service)&#x20;\n* 구독 상태가 변경되면 개발사 서버로 알림을 전송하는 SNS (Subscription Notifacation Service)&#x20;\n\n{% hint style=\"warning\" %}\nNotification은 발송/수신 서버의 상태에 따라 지연 또는 유실될 수 있으므로, notification 수신을 기준으로 상품(서비스)을 제공하는 것은 권장하지 않습니다.&#x20;\n\n정상적인 결제 건인지 Server to Server로 확인하기를 원하신다면 PNS notification을 이용하는 대신, 관련 서버 API로 조회하는 것을 권장합니다.\n\n원스토어는 검증 및 모니터링 목적으로 결제 테스트를 진행할 수 있으며, 해당 테스트 건들도 결제/결제취소 시 동일하게 notification이 발송됩니다. 원스토어가 진행한 결제 테스트 내역은 주기적으로 원스토어에서 자체 취소 처리합니다.\n{% endhint %}\n\n## **PNS 수신 서버 URL 설정** \n\nPNS를 수신 받을 개발사 서버의 URL은 '개발자센터 > Apps > 상품 선택 > In-App정보' 메뉴에서 'PNS 관리' 버튼을 클릭하면 설정할 수 있습니다.\\\nURL은 Sandbox(개발용) 결제환경 및 상용(상용테스트 포함) 결제환경을 각각 설정할 수 있으며, 개발용/상용 서버가 동일할 경우 동일한 URL을 입력하시면 됩니다.\n\n\n\n## **PNS 상세** \n\n{% hint style=\"info\" %}\n2025년 3월 20일 개발자센터 개편의 영향으로 PNS 3.1.0 버전이 추가 되었습니다.&#x20;\n\n* &#x20;packageName 파라미터가 clientId로 변경 되었으며, 3.0.0 이하 버전에서는 변경 사항이 없습니다.\n{% endhint %}\n\n### PNS Payment Notification 메시지 발송 규격 (원스토어 → 개발사 서버) \n* **메세지 이름** : Payment Transaction Notification \n* **설명** : 사용자의 개별 결제건의 상태(결제완료, 취소)포함된 message를 개발사의 서버로 전송(원스토어의 서버가 개발사가 사전에 정의한 url을 post(with json body) 형식으로 호출함)\n* **URI** : 개발자 센터에서 설정한 Payment Notification URL\n* **Method** : POST\n* **Request Parameters** : N/A\n*   **Request Header** :&#x20;\n\n    | Parameter Name | Data Type | Description      |\n    | -------------- | --------- | ---------------- |\n    | Content-Type   | String    | application/json |\n* Request Body : JSON 형식\n\n| Element Name       | Data Type     | Description                                                                   |                                       |\n| ------------------ | ------------- | ----------------------------------------------------------------------------- | ------------------------------------- |\n| msgVersion         | String        | <p>메시지 버전</p><ul><li>개발(Sandbox) : 3.1.0D</li><li>상용(상용테스트) : 3.1.0</li></ul> |                                       |\n| clientId           | String        | 앱의 클라이언트 ID                                                                   |                                       |\n| productId          | String        | 인앱상품의 상품 ID                                                                   |                                       |\n| messageType        | String        | SINGLE\\_PAYMENT\\_TRANSACTION 고정                                               |                                       |\n| purchaseId         | String        | 구매 ID                                                                         |                                       |\n| developerPayload   | String        | 구매건을 식별하기 위해 개발사에서 관리하는 식별자                                                   |                                       |\n| purchaseTimeMillis | Long          | 원스토어 결제 시스템에서 결제가 완료된 시간(ms)                                                  |                                       |\n| purcahseState      | String        | COMPLETED : 결제완료 / CANCELED : 취소                                              |                                       |\n| price              | String        | 결제 금액                                                                         |                                       |\n| priceCurrencyCode  | String        | 결제 금액 통화코드(KRW, USD, ...)                                                     |                                       |\n| productName        | String        | 구매요청 시 개발사가 customized 인앱상품 제목을 설정한 경우 전달                                     |                                       |\n| paymentTypeList    | List          | 결제 정보 목록                                                                      |                                       |\n| <p><br></p>        | paymentMethod | String                                                                        | 결제 수단 (상세 내용은 아래 paymentMethod 정의 참고) |\n| <p><br></p>        | amount        | String                                                                        | 결제 수단 별 금액                            |\n| billingKey         | String        | 확장 기능용 결제 키                                                                   |                                       |\n| isTestMdn          | Boolean       | 시험폰 여부(true : 시험폰, false : 시험폰 아님)                                            |                                       |\n| purchaseToken      | String        | 구매토큰                                                                          |                                       |\n| environment        | String        | <p>결제환경</p><ul><li>개발(샌드박스) : SANDBOX</li><li>상용 :COMMERCIAL</li></ul>        |                                       |\n| marketCode         | String        | 마켓 구분코드 ( MKT\\_ONE : 원스토어, MKT\\_STM : 스톰 )                                    |                                       |\n| signature          | String        | 본 메시지에 대한 signature                                                           |                                       |\n\n\\\n**Example**\n",
      "start_pos": 144478,
      "end_pos": 190494
    },
    {
      "content": "\n\\\n\n\n#### **paymentMethod(원스토어 결제수단) 정의** \n\n| paymentMethod    | 결제수단 명칭    | 설명                         |\n| ---------------- | ---------- | -------------------------- |\n| DCB              | 휴대폰결제      | 통신사 요금청구서에 '정보이용료' 항목으로 청구 |\n| PHONEBILL        | 휴대폰 소액결제   | 통신사 요금청구서에 '소액결제' 항목으로 청구  |\n| ONEPAY           | ONE pay    | 원스토어가 제공하는 간편결제            |\n| CREDITCARD       | 신용카드       | 일반 신용카드 결제                 |\n| 11PAY            | 11Pay      | 11번가에서 제공하는 신용카드 간편결제      |\n| NAVERPAY         | N pay      | 네이버에서 제공하는 네이버페이 결제        |\n| CULTURELAND      | 컬쳐캐쉬       | 한국문화진흥에서 제공한는 컬쳐캐쉬 결제      |\n| OCB              | OK cashbag | SK플래닛이 제공하는 OK캐쉬백 결제       |\n| ONESTORECASH     | 원스토어 캐쉬    | 원스토어 캐쉬 결제                 |\n| COUPON           | 원스토어 쿠폰    | 원스토어 쿠폰 결제                 |\n| POINT            | 원스토어 포인트   | 원스토어 포인트 결제                |\n| \bTELCOMEMBERSHIP | 통신사멤버십     | 통신사에서 제공하는 멤버십 결제          |\n| EWALLET          | e-Wallet   | e-Wallet 결제                |\n| BANKACCT         | 계좌결제       | 일반 계좌결제                    |\n| PAYPAL           | 페이팔        | 페이팔이 제공하는 결제               |\n| MYCARD           | 마이카드       | 소프트월드에서 제공하는 마이카드 결제       |\n\n#### **Signature 검증 방법** \n\n아래 코드를 사용하면 signature에 대한 위변조 여부를 확인할 수 있습니다.\n\n* 코드 내 PublicKey는 '라이선스 관리'에서 제공되는 라이선스 키를 의미합니다.\n\n{% tabs %}\n{% tab title=\"Java\" %}",
      "start_pos": 191258,
      "end_pos": 192603
    },
    {
      "content": "{% endtab %}\n\n{% tab title=\"PHP\" %}",
      "start_pos": 193529,
      "end_pos": 193572
    },
    {
      "content": "{% endtab %}\n\n{% tab title=\"Python\" %}\n{% code overflow=\"wrap\" %}",
      "start_pos": 195488,
      "end_pos": 195561
    },
    {
      "content": "{% endcode %}\n{% endtab %}\n{% endtabs %}\n\n### PNS Subscription Notification 메시지 발송 규격 (원스토어 → 개발사 서버)  \n* **메세지 이름** : Subscription Transaction Notification \n* **설명** : 사용자의 개별 정기 결제건의 정기결제 상태정보(subscriptionNotification)가 포함된 message를 개발사의 서버로 전송(원스토어의 서버가 개발사가 사전에 정의한 url을 post(with json body) 형식으로 호출함)\n* **URI** : 개발자 센터에서 설정한 Subscription Notification URL\n* **Method** : POST\n* **Request Parameters** : N/A\n*   **Request Header** :&#x20;\n\n    | Parameter Name | Data Type | Description      |\n    | -------------- | --------- | ---------------- |\n    | Content-Type   | String    | application/json |\n* Request Body : JSON 형식\n\n| Element Name             | Data Type        | Description                                                                   |              |\n| ------------------------ | ---------------- | ----------------------------------------------------------------------------- | ------------ |\n| msgVersion               | String           | <p>메시지 버전</p><ul><li>개발(Sandbox) : 3.1.0D</li><li>상용(상용테스트) : 3.1.0</li></ul> |              |\n| clientId                 | String           | 앱의 클라이언트 ID                                                                   |              |\n| eventTimeMillis          | Long             | 이벤트 발생 시간                                                                     |              |\n| subscriptionNotification | Object           | 결제 정보 목록                                                                      |              |\n| <p><br></p>              | version          | String                                                                        | 구독 알람 메시지 버전 |\n| <p><br></p>              | notificationType | Integer                                                                       | 구독상태         |\n| <p><br></p>              | purchaseToken    | String                                                                        | 구매 토큰        |\n| <p><br></p>              | productId        | String                                                                        | 인앱상품의 상품 ID  |\n| environment              | String           | <p>결제환경</p><ul><li>개발(샌드박스) : SANDBOX</li><li>상용 :COMMERCIAL</li></ul>        |              |\n| marketCode               | String           | 마켓 구분코드 ( MKT\\_ONE : 원스토어, MKT\\_GLB : 글로벌 원스토어                                |              |\n\n\\\n**Example**\n",
      "start_pos": 196408,
      "end_pos": 198779
    },
    {
      "content": "\n\\\n\n\n#### **구독상태 정의** \n\n| 구독 상태 | 구독 코드                                  | 설명                          |\n| ----- | -------------------------------------- | --------------------------- |\n| 1     | SUBSCRIPTION\\_RECOVERED                | 정기 결제가 보류 상태에서 복구 되었습니다.    |\n| 2     | SUBSCRIPTION\\_RENEWED                  | 정기 결제가 갱신 되었습니다.            |\n| 3     | SUBSCRIPTION\\_CANCELED                 | 고객이 정기 결제 해지를 요청 하였습니다.     |\n| 4     | SUBSCRIPTION\\_PURCHASED                | 새로운 정기 결제 상품이 구매 되었습니다.     |\n| 5     | SUBSCRIPTION\\_ON\\_HOLD                 | 결제 실패로 정기 결제가 보류 상태가 되었습니다. |\n| 6     | SUBSCRIPTION\\_IN\\_GRACE\\_PERIOD        | 결제 실패로 정기 결제가 유예 상태가 되었습니다. |\n| 7     | SUBSCRIPTION\\_RESTARTED                | 고객이 정기 결제 해지 요청을 취소 하였습니다.  |\n| 8     | SUBSCRIPTION\\_PRICE\\_CHANGE\\_CONFIRMED | 사용자가 정기 결제 가격 변경에 동의 하였습니다. |\n| 9     | SUBSCRIPTION\\_DEFERRED                 | 정기 결제 이용 기간이 연장 되었습니다.      |\n| 10    | SUBSCRIPTION\\_PAUSED                   | 정기 결제가 일시 중지 되었습니다.         |\n| 11    | SUBSCRIPTION\\_PAUSE\\_SCHEDULE\\_CHANGED | 정기 결제 일시 중지 일정이 변경 되었습니다.   |\n| 12    | SUBSCRIPTION\\_REVOKED                  | 정기 결제가 즉시 해지 되었습니다.         |\n| 13    | SUBSCRIPTION\\_EXPIRED                  | 정기 결제가 만료 되었습니다.            |\n\n\\\n\n\n## Notification 전송 정책 \n\n원스토어의 PNS 서버는 HTTP(S) 요청을 통하여 개발사 서버로 notification을 전송합니다.\n\n이때 개발사 서버는 notification를 정상적으로 수신했다는 의미로 HTTP Status Code를 200으로 응답하여야 합니다.\n\n만약 네트워크 지연으로 인한 유실 또는 개발사 서버의 비정상적인 상황으로 HTTP Status Code를 200으로 응답받지 못한 경우, PNS서버는 notification 전송이 실패했다고 판단하고 3일간 최대 30회의 재전송을 수행하게 됩니다.\n\nnotification의 재전송은 아래의 예시와 같이 일정한 delay를 가진 후 실행되며, 재시도 회수가 많아지면 delay가 점차 늘어나는 구조로 되어 있습니다.\n\n**Example**\n\n| 회차     | delay (초) | 재전송 시간              |\n| ------ | --------- | ------------------- |\n| 0 (최초) | 0         | 2020-05-17 13:10:00 |\n| 1      | 30        | 2020-05-17 13:10:30 |\n| 2      | 120       | 2020-05-17 13:12:30 |\n| 3      | 270       | 2020-05-17 13:17:00 |\n| 4      | 480       | 2020-05-17 13:25:00 |\n| ...    | ...       | ...                 |\n\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/subs.md\n# 08. 정기 결제 적용하기\n\n## **개요** <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n정기 결제는 정해진 기간동안 사용자가 서비스를 이용할 수 있으며, 결제 주기에 따라 정기적으로 결제가 갱신됩니다.&#x20;\n\n일반적으로 음악이나 영화, 혹은 게임들을 이용할 때 이와 같이 정기 결제 서비스를 사용하고 있습니다.  &#x20;\n\n개발자는 다양한 서비스를 제공하기 위해 하나의 앱 안에서 여러가지 정기 결제 상품을 구성할 수 있고, 사용자는 여러가지 정기 결제를 이용할 수 있습니다. &#x20;\n\n또한, 신규 사용자를 확보하기 위해 할인 가격으로 정기 결제를 제공하거나 체험을 위한 무료 기간도 제공할 수 있습니다. &#x20;\n\n마찬가지로 기존 사용자가 이용중인 정기 결제 상품을 변경 할 수 있도록 상품을 전환 시킬 수도 있습니다.&#x20;\n\n## **정기 결제 처리 하기**  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 정기 결제 상품을 구매하면, 상품을 이용하는 동안 다양한 상태 변경을 거칠 수 있습니다.&#x20;\n\n앱은 정기 결제의 상태를 확인하여, 각 상태 변경에 대응해야 합니다.&#x20;\n\n정기 결제의 상태는 원스토어 인앱 결제 라이브러리의 PurchaseClient.queryPurchasesAsync() 또는 서버 API getSubscriptionDetail을 사용하여 확인 할 수 있습니다.&#x20;\n\n|      | PurchaseClient.queryPurchasesAsync() |                | getSubscriptionDetail |                                     |              |\n| ---- | ------------------------------------ | -------------- | --------------------- | ----------------------------------- | ------------ |\n| 상태   | 반환 여부                                | recurringState | 반환 여부                 | expiryTimeMillis                    | autoRenewing |\n| 구독중  | 예                                    | 0              | 예                     | 향후 일정                               | true         |\n| 해지   | 예                                    | 1              | 예                     | 향후 일정                               | false        |\n| 유예   | 예                                    | 0              | 예                     | 향후 일정(유예 기간 종료)                     | true         |\n| 보류   | 아니오                                  | 0              | 예                     | 종료됨(예상 만료 시간 종료 또는 유예 기간 종료(있는 경우)) | true         |\n| 일시중지 | 아니오                                  | 0              | 예                     | 종료됨                                 | true         |\n| 만료   | 아니오                                  | 1              | 예                     | 종료됨                                 | false        |\n\n정기 결제 상태가 변경되면, SubscriptionNotification이 전송됩니다. 관련 내용은 PNS(Payment Notification Service) 이용하기를 참고하세요.\n\n### 정기 결제 구매  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 정기 결제를 구매하면 PurchaseClient.queryPurchasesAsync()에서 정기 결제 결과를 반환하고, SUBSCRIPTION\\_PURCHASED인 SubscriptionNotification이 전송됩니다.&#x20;\n\n이 알림을 받으면 원스토어 인앱결제 API를 쿼리하여 정기 결제 상태를 업데이트 해야 합니다. 정기 결제 리소스는 다음 예시를 참고하세요.&#x20;\n",
      "start_pos": 199107,
      "end_pos": 203574
    },
    {
      "content": "\n### 정기 결제 갱신 <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n정기 결제가 갱신되면 SUBSCRIPTION\\_RENEWED 알림이 전송됩니다.&#x20;\n\n이 알림을 받으면 원스토어 인앱결제 API를 쿼리하여 새로운 만료 일시로 정기 결제 상태를 업데이트 해야 합니다.  정기 결제 리소스는 다음 예시를 참고하세요.&#x20;\n",
      "start_pos": 204308,
      "end_pos": 204514
    },
    {
      "content": "\n월간 상품의 경우 익월 동일일에 결제가 됩니다. (3개월, 6개월 상품도 동일하게 동작합니다.)&#x20;\n\n예를들어, 1월 15일에 정기 결제가 시작되었다면, 2월 15일에 다음 결제가 발생합니다.&#x20;\n\n하지만 동일일이 없는 경우에는 그 달의 마지막 날이 결제 갱신일이 됩니다. &#x20;\n\n예를들어, 1월 31일에 정기 결제가 시작되었다면, 2월 28일(혹은 29일)에 다음 결제가 발생하고, 3월 28일(혹은 29)에 그 다음 결제가 발생합니다.&#x20;\n\n### 정기 결제 만료 <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n정기 결제가 만료되면 PurchaseClient.queryPurchasesAsync()에서 더 이상 반환되지 않으며 사용자는 정기 결제를 이용할 수 없게 됩니다.&#x20;\n\nSUBSCRIPTION\\_EXPIRED 인 SubscriptionNotification도 정기 결제가 만료될 때 전송됩니다.&#x20;\n\n이 알림을 받으면 원스토어 인앱결제 API를 쿼리하여 정기 결제 상태를 업데이트 해야 합니다. 정기 결제 리소스는 다음 예시를 참고하세요.&#x20;\n",
      "start_pos": 205200,
      "end_pos": 205782
    },
    {
      "content": "\n### 정기 결제 해지  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n정기 결제는 사용자가 원스토어 앱에서 정기 결제를 직접 해지할 수 있고, 결제 수단에 문제가 생겼을 때 이를 해결하지 않는 경우 자동으로 해지 될 수 있습니다.   &#x20;\n\n원스토어 인앱결제 API cancelRecurringPruchase 를 사용하여 정기 결제를 해지할 수도 있습니다.&#x20;\n\n사용자가 정기 결제를 직접 해지 하더라도 현재 정기 결제 기간이 끝날 때까지는 서비스를 이용할 수 있어야 합니다. &#x20;\n\n정기 결제가 해지 되었지만 아직 만료되지 않은 경우 PurchaseClient.queryPurchasesAsync() 에서 반환됩니다. 정기 결제가 해지되면 SUBSCRIPTION\\_CANCELED 알림이 전송됩니다.&#x20;\n\n이 알림을 받으면 원스토어 인앱결제 API를 쿼리하여 상태를 업데이트 해야 합니다. 쿼리 시 autoRenewing=false와 사용자가 서비스를 이용 할 수 있는 기한 expiryTimeMillis 이 반환 됩니다.&#x20;\n\nexpiryTimeMillis가 기한이 지난 과거라면 즉시 서비스가 중단되고, 기한이 미래라면 해당일시까지 서비스를 이용 할 수 있습니다. 정기 결제 리소스는 다음 예시를 참고하세요.    &#x20;\n",
      "start_pos": 206474,
      "end_pos": 207148
    },
    {
      "content": "\n사용자에게 정기 결제가 해지 되었으며, 해당 정기 결제의 만료일시를 앱을 통해 알려야합니다. (예시 : 정기결제가 해지되었습니다. 2023년 6월 13일에 정기 결제가 만료됩니다. \\[확인]) &#x20;\n\n### 정기 결제 취소 <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n다양한 이유로 사용자가 정기 결제를 취소 할 수 있습니다. 정기 결제가 취소되면 즉시 서비스 이용이 차단되어야 합니다.&#x20;\n\n이 경우 `PurchaseClient.queryPurchasesAsync()`에서 더이상 반환되지 않으며, SUBSCRIPTION\\_REVOKED 알림도 전송 됩니다.&#x20;\n\n이 알림을 받으면 원스토어 인앱결제 API 를 쿼리하여 정기 결제 상태를 업데이트 해야 합니다.&#x20;\n\n정기 결제 리소스에는 autoRenewing와 정기 결제 이용 기한인 expiryTimeMillis가 포함됩니다. 정기 결제 리소스는 다음 예시를 참고하세요.&#x20;\n",
      "start_pos": 207851,
      "end_pos": 208356
    },
    {
      "content": "\n### 정기 결제 유예  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 정기 결제 이용 중 결제 수단에 문제가 발생하고 문제가 해결되지 않는 경우 정기 결제가 바로 해지 되지는 않습니다.&#x20;\n\n위와 같은 경우 (1) 결제 유예 - 유예 기간이 설정된 경우  (2) 계정 보류 순서대로 정기 결제 상태가 변경됩니다. &#x20;\n\n결제 유예 기간 제공여부는 원스토어 개발자센터에서 설정 할 수 있습니다. &#x20;\n\n유예 기간을 설정 했다면 사용자는 해당 기간 동안 정기 결제 콘텐츠를 이용할 수 있어야 합니다.&#x20;\n\n앱에서 PurchaseClient.queryPurchasesAsync() 를 사용하여 정기 결제 상태를 확인한다면, PurchaseClient.queryPurchasesAsync()가 만료일 전에 정기 결제 상태를 계속 반환하므로 앱은 유예 기간을 자동으로 처리해야 합니다. &#x20;\n\n사용자의 정기 결제 상태가 결제 유예가 되는 경우 SUBSCRIPTION\\_IN\\_GRACE\\_PERIOD 인 알림이 전송됩니다.\n\n이 알림을 받으면 원스토어 인앱결제 API를 쿼리하여 상태를 업데이트 해야합니다. 정기 결제 리소스에는 autoRenewing=true 와 유예가 적용되도록 미래 시점의 expiryTimeMillis 이 포함됩니다. \\\n\n\n유예 기간 내에 결제 문제를 해결하지 않으면 계정 보류 상태가 되어 사용자가 정기 결제 콘텐츠를 이용 할 수 없습니다.&#x20;\n\n앱에서는 메시지를 표시하여 사용자가 결제 문제를 해결 할 수 있도록 해야 합니다. &#x20;\n\n사용자가 결제 문제를 해결하는데 도움이 되도록 딥링크를 제공할 수 있습니다. &#x20;\n\n사용자가 결제 문제를 해결하면 즉시 정기 결제가 갱신 됩니다.&#x20;\n",
      "start_pos": 209059,
      "end_pos": 209962
    },
    {
      "content": "\n### 정기 결제 계정 보류 <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 정기 결제 이용 중 결제 수단에 문제가 발생하고 문제가 해결 되지 않는 경우 유예 기간이 종료되면 계정 보류 상태가 됩니다.&#x20;\n\n계정 보류 기간은 최대 30일이며, 유예 기간과는 다르게 계정 보류 상태에서는 정기 결제 콘텐츠를 이용 할 수 없습니다.\n\n또한 계정 보류 중에는 정기 결제가 PurchaseClient.queryPurchasesAsync()에 의해 반환되지 않습니다.&#x20;\n\n사용자의 정기 결제가 계정 보류 상태가 되면  SUBSCRIPTION\\_ON\\_HOLD 알림이 전송됩니다.&#x20;\n\n이 알림을 받으면 원스토어 인앱결제 API를 호출하여 정기 결제 정보를 업데이트 해야합니다. 계정 보류 상태에서는 정기 결제 리소스의 expiryTimeMillis가 과거로 설정 됩니다. \\\n\n\n보류 상태에서는 사용자가 정기 결제 콘텐츠를 이용 할 수 없고, 지정된 보류 기간이 지나면 정기 결제가 해지됩니다.&#x20;\n\n따라서 앱에서는 메시지를 표시하여 사용자가 문제를 해결 할 수 있도록 해야합니다.&#x20;\n\n사용자가 문제를 해결하는데 도움이 되도록 딥링크를 제공할 수 있습니다. &#x20;\n\n사용자가 문제를 해결하여 정기 결제가 복구되면 정기 결제일은 복구된 날짜로 변경됩니다.   &#x20;\n\n계정 보류 기간이 종료되기 전에 사용자가 문제를 해결하지 않으면 SUBSCRIPTION\\_CANCELED 알림이 전송 되며, 원스토어 인앱결제 API를 쿼리하여 정기 결제 상태를 업데이트 해야합니다.&#x20;\n",
      "start_pos": 210653,
      "end_pos": 211470
    },
    {
      "content": "\n### 정기 결제 일시 중지 <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n개발자는 원스토어 개발자센터에서 일시 중지 기능을 사용하도록 설정할 수 있습니다.&#x20;\n\n일시 중지 기능을 사용하도록 설정하면, 사용자는 앱의 구독을 취소하는 대신 일정 기간동안 정기 결제를 일시 중지 할 수 있습니다.&#x20;\n\n일시 중지는 현재 정기 결제 중인 상품의 기한이 만료된 후 시작됩니다. 일시중지 된 동안에는 사용자가 정기 결제 콘텐츠를 이용할 수 없어야 합니다.&#x20;\n\n일시중지 기간이 끝나면 정기 결제가 다시 시작됩니다.&#x20;\n\n사용자는 일시중지 기간이 끝나기 전에 직접 일시중지를 해제하여 정기 결제를 다시 시작할 수도 있습니다. 이 경우 일시중지를 해제하여 정기 결제를 다시 시작한 날짜가 정기 결제일이 됩니다.&#x20;\n\n일시중지 중에는 PurchaseClient.queryPurchasesAsync()에 의해 반환되지 않습니다.  정기 결제가 재개되면 PurchaseClient.queryPurchasesAsync()에 의해 반환됩니다.&#x20;\n\n사용자가 일시중지를 선택하면 SUBSCRIPTION\\_PAUSE\\_SCHEDULE\\_CHANGED인 SubscriptionNotification이 전송됩니다. &#x20;\n\n이 시점에 사용자는 정기 결제 이용기간이 남아있으며, 따라서 정기 결제 콘텐츠를 계속 이용할 수 있어야 합니다. &#x20;\n\n정기 결제 리소스에는 autoRenewing=true, paymentState=1과 미래의 expiryTimeMillis, autoResumeTimeMillis 값이 포함됩니다.&#x20;\n",
      "start_pos": 212161,
      "end_pos": 212997
    },
    {
      "content": "\n\n\n일시중지가 시작되면 SUBSCRIPTION\\_PAUSED 인 Subscription Notification이 전송됩니다.&#x20;\n\n일시중지가 시작되면 정기 결제 이용기간이 만료 된 것이며, 따라서 정기 결제 콘텐츠는 이용할 수 없어야 합니다.&#x20;\n\n정기 결제 리소스에는 autoRenewing=true, paymentState=0과 과거의 expiryTimeMillis, autoResumeTimeMillis 값이 포함됩니다.&#x20;\n\n일시중지 기간이 끝나서 정기 결제가 자동으로 재개되거나 사용자가 일시중지를 해제하여 정기 결제를 재개하면 SUBSCRIPTION\\_RENEWED 인 SubscriptionNotification이 전송됩니다.&#x20;\n\n이 경우 [정기 결제 갱신](#id-08.-3)과 동일한 처리가 필요합니다.&#x20;\n\n정기 결제가 재개될 때 결제에 문제가 생기면 [정기 결제 계정 보류](#id-08.-8) 상태가 발생하며, [정기 결제 계정 보류](#id-08.-8) 상태와 동일하게 처리되어야 합니다.&#x20;\n",
      "start_pos": 213719,
      "end_pos": 214266
    },
    {
      "content": "\n### 상품 변경(업그레이드, 다운그레이드) <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 정기 결제 중인 상품을 다른 정기 결제 상품으로 변경하면 기존에 사용 중인 정기 결제는 무효화되고, 새로운 정기 결제가 새 구매 토큰과 함께 생성됩니다.&#x20;\n\n또한 정기 결제 리소스에는 기존 정기 결제를 나타내는 linkedPurchaseToken 이 포함됩니다.\n\nlinkedPurchaseToken 을 사용하면 이전 정기 결제를 조회하여 새로운 정기 결제를 동일한 계정과 연결할 수 있습니다.&#x20;\n\n새로운 정기 결제가 생성 되었으므로 해당 결제 건에 대한 [구매 확인](sdk)이 필요합니다. 정기 결제 리소스는 다음 예시를 참고하세요. &#x20;\n",
      "start_pos": 214988,
      "end_pos": 215381
    },
    {
      "content": "\n### **정기 결제 관리 화면 열기**    <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n원스토어는 사용자가 정기 결제 상품을 쉽게 관리하도록 정기 결제 관리 메뉴를 제공합니다. &#x20;\n\n매개변수로 _SubscriptionsParam&#x73;_&#xC5D0; _PurchaseDat&#x61;_&#xB97C; 포함해서 넣으면 구매 데이터를 확인하여 해당 정기 결제 상품의 관리 화면을 실행합니다.\\\n&#xNAN;_&#x53;ubscriptionParam&#x73;_&#xC744; null 넣을 경우 사용자의 정기 결제 리스트 화면을 실행합니다.\n\n다음은 정기 결제 관리 화면을 띄우는 방법을 나타내는 예제입니다.\n\n{% tabs %}\n{% tab title=\"kotlin\" %}",
      "start_pos": 216048,
      "end_pos": 216453
    },
    {
      "content": "{% endtab %}\n\n{% tab title=\"java\" %}",
      "start_pos": 216820,
      "end_pos": 216864
    },
    {
      "content": "{% endtab %}\n{% endtabs %}\n\n| 규격 Uri       | onestore://common/subscription/payment/{caller\\_package}?purchase\\_token={purchase\\_token}                                      |                            |\n| ------------ | ------------------------------------------------------------------------------------------------------------------------------- | -------------------------- |\n| 규격 parameter | <p>caller_package</p><p>(mandatory)</p>                                                                                         | 연동 규격을 호출 할 앱의 packageName |\n|              | <p>purchase_token</p><p>(optional)</p>                                                                                          | 특정 구매 상세로 가기위한 구매 Token    |\n| 상세 정보        | <ul><li>마이페이지 > 정기결제 목록 화면으로 이동한다.</li><li>purchase_token 이 존재하는 경우 해당 구매 Token의 정기결제 상세로 이동한다. </li></ul>                      |                            |\n| 지원버전         | <p>ONE store Client v7.9.0 이상 ( android:versionName=”7.9.0” android:versionCode=”70900” )</p><p>ONE store Service v7.140 이상</p> |                            |\n\n### **정기 결제 상품 변경 하기**  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자는 정기 결제 이용 중에 좀 더 좋은 혹은 저렴한 정기 결제 상품으로 플랜을 변경하고 싶을 수 있습니다.&#x20;\n\n사용자는 다른 정기 결제 상품을 결제하여 정기 결제 상품을 변경 할 수 있고, 개발자는 비례 배분 모드를 설정하여 정기 결제 상품 변경을 처리 할 수 있습니다.&#x20;\n\n설정 할 수 있는 비례 배분 모드(_PurchaseFlowParams.ProrationMode)_&#xB294; 다음과 같습니다.&#x20;\n\n| 비례 배분 모드                                | 설명                                                                                                                        |\n| --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 정기 결제 상품이 즉시 변경 되며, 가격 차이를 기반으로 정기 결제 갱신일이 조정됩니다.                                                                         |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | <p>정기 결제 상품이 즉시 변경 되며, 정기 결제 갱신일은 동일하게 유지됩니다. 나머지 기간에 대한 가격 차이를 기반으로 요금이 청구됩니다.</p><p>(이 모드는 상품 업그레이드 시에만 적용 가능합니다.) </p> |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 정기 결제 상품이 즉시 변경 되며, 다음 결제일에 새로운 가격이 청구됩니다. 정기 결제 갱신일은 동일하게 유지됩니다.                                                         |\n| DEFERRED                                | 기존 정기 결제 상품이 만료되면 교체가 적용되며 새로운 정기 결제 상품 요금이 청구됩니다.                                                                        |\n\n비례 배분 예\n\n사용자는 현재 정기 결제 상품 A를 매월 정기 결제하고 있습니다. 이 정기 결제는 2,000원 의 요금이 청구되며 매월 1일에 갱신 됩니다.\n\n4월 15일에 사용자는 요금이 **연간 36,000원** 인 연간 정기 결제 상품 B로 상품을 변경 하기로 했습니다.\\\n\n\n#### **IMMEDIATE\\_WITH\\_TIME\\_PRORATION**\n\n정기 결제 상품 A가 즉시 종료됩니다. 사용자는 한 달(4월 1일\\~30일) 요금을 결제 했는데 정기 결제 기간 중간에 상품을 변경 했으므로 월간 정기 결제 요금의 절반(1,000원)은 새 정기 결제에 적용됩니다. 그러나 새 정기 결제 요금은 연간 36,000원이므로 1,000원의 잔액은 10일(4월 16일\\~25일)에 해당합니다. 따라서 4월 26일에 새 정기 결제의 요금으로 36,000원이 청구되며, 다음 해부터 매년 4월 26일에 36,000원이 청구됩니다.&#x20;\n\n#### **IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE**\n\n시간 단위 당 정기 결제 상품 B의 가격(36,000원/연 = 3,000원/월)이 정기 결제 상품 A의 가격(2,000원/월)보다 높으므로 이 모드를 사용할 수 있습니다.  정기 결제 상품A는 즉시 종료됩니다. 사용자는 한 달 전체 요금을 결제 했는데 기간의 절반만 사용했으므로 월간 정기 결제 요금의 절반(1,000원)은 새 정기 결제에 적용됩니다. 그러나 새 정기 결제 요금은 1년에 36,000원 이므로 나머지 15일의 요금은 1,500원입니다. 따라서 새 정기 결제 요금으로 500원의 차액이 청구됩니다. 5월 1일에는 새 정기 결제 상품 B의 요금으로 36,000원이 청구되며, 다음 해부터 매년 5월 1일에 36,000원이 청구됩니다.&#x20;\n\n#### **IMMEDIATE\\_WITHOUT\\_PRORATION**\n\n정기 결제 상품A가 추가 비용 없이 정기 결제 상품B로 즉시 변경 됩니다. 그리고 5월 1일에 새 정기 결제 상품 B의 요금으로 36,000원이 청구되며, 다음 해부터 매년 5월 1일에 36,000원이 청구됩니다.\n\n#### **DEFERRED**\n\n정기 결제 상품A는 4월 30일에 만료될 때까지 계속됩니다. 5월 1일에 정기 결제 상품 B가 적용되며, 새 정기 결제 등급 요금으로 사용자에게 36,000원이 청구됩니다.\n\n\n\n정기 결제는 \"_구매 요청하기_\"와 동일한 API를 사용하여 사용자에게 상품 변경 기능을 제공할 수 있습니다. 다만, 정기 결제의 상품 변경을 위해선 기존 정기 결제 구매 토큰과 비례 배분 모드 값이 필수로 필요합니다.\n\n다음 예와 같이 현재 정기 결제와 변경하여 적용 될 정기 결제 및 비례 배분 모드에 관한 정보를 제공해야 합니다.\n\n{% tabs %}\n{% tab title=\"Kotlin\" %}",
      "start_pos": 217237,
      "end_pos": 221038
    },
    {
      "content": "{% endtab %}\n\n{% tab title=\"Java\" %}",
      "start_pos": 221596,
      "end_pos": 221640
    },
    {
      "content": "{% endtab %}\n{% endtabs %}\n\n즉시 변경이 이루어지는 비례 배분 모드의 경우 [구매 요청하기](sdk) 로직을 수행하기 때문에 응답은 _PurchasesUpdatedListene&#x72;_&#xC5D0;서 수신합니다. 또한 [구매내역 조회하기](sdk)에서도 요청 시 응답을 받을 수 있습니다.\n\n&#x20;_PurchaseClient.acknowledgeAsync()또는, acknowledgePurchase를_ 사용하여 [구매 확인](sdk)처리를 해야 합니다.\n\n원스토어 인앱결제 API는 정기 결제 리소스에서 linkedPurchaseToken 을 반환합니다. linkedPurchaseToken 을 무효화하여 콘텐츠 이용 권한을 얻는 데 이전 토큰이 사용되지 않도록 해야 합니다.&#x20;\n\n지연 변경이 이루어지는 비례 배분 모드의 경우 정기 결제 구매 및 변경 여부와 함께 _PurchasesUpdatedListener_  호출을 수신합니다.&#x20;\n\n변경이 적용될 때까지 PurchaseClient.queryPurchasesAsync() 는 기존 정기 결제 상품 정보의 구매 정보를 계속 반환합니다.\n\n변경이 적용되면 PurchaseClient.queryPurchasesAsync() 는 새로운 정기 결제 상품의 구매 정보를 반환하고, SUBSCRIPTION\\_RENEWED 인 Subscription Notification 이 전송됩니다.\n\n지연 변경이 이루어지는 경우 이 알림을 수신하여 _acknowledgePurchase_ 을 사용하여 구매확인 처리를 하는 것이 좋습니다.&#x20;\n\n\n\n**프로모션이 있는 상품으로 변경하기**&#x20;\n\n원스토어에서는 프로모션이 적용되어 있는 정기 결제 상품을 이용 중인 경우 다른 상품으로 변경 할 수 없습니다.&#x20;\n\n다만, 변경 대상이 되는 상품은 프로모션이 적용되어 있어도 변경이 가능합니다.&#x20;\n\n변경 대상이 되는 상품의 프로모션을 고객이 계속 이용하려면 IMMEDIATE\\_WITH\\_TIME\\_PRORATION 모드를 적용해야 합니다.&#x20;\n\n그 외 다른 비례 배분 모드의 경우 변경 대상이 되는 상품에 프로모션이 적용 되어 있더라도, 프로모션을 적용 받을 수 없습니다.&#x20;\n\n### **정기 결제 기한 연기하기**   <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n원스토어 인앱결제 API의 deferSubscription 을 사용하여 정기 결제 사용자의 다음 결제일을 연기할 수 있습니다.&#x20;\n\n연기 기간 동안 사용자는 콘텐츠에 엑세스 할 수 있습니다.&#x20;\n\n정기 결제 기한 연기는 다음과 같은 경우 사용 할 수 있습니다.&#x20;\n\n* 특별 이벤트를 통해 기존 사용자에게 일주일 동안 추가로 정기 결제를 사용할 수 있게 해줍니다.\n* 시스템 장애 등의 사유로 고객에게 추가 이용 기간을 부여할 수 있습니다.&#x20;\n\nAPI 호출 당 최소 하루에서 최대 1년까지 결제 기한을 연기 할 수 있습니다. 결제를 더 연기하려면 기한 내에 다시 API를 호출하면 됩니다. \\\n\n\n결제 연기 시 이메일 혹은 앱 내에서 알림을 보내 결제일이 변경 되었음을 알릴 수 있습니다.&#x20;\n\n### **정기 결제 가격 변경하기** <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n원스토어 개발자센터에서 정기 결제 상품의 가격을 변경 할 수 있습니다.  &#x20;\n\n정기 결제 상품의 기본 가격을 변경하면, 새로운 구매는 즉시 변경된 가격으로 반영됩니다.&#x20;\n\n다만, 현재 정기 결제를 사용중인 고객의 경우 7일 후에 변경된 가격에 대한 알림이 전달 되며, 이후 30일 간 가격 변경에 대한 동의 기간이 제공됩니다.&#x20;\n\n{% hint style=\"info\" %}\n단, Deferred 모드로 변경 예정인 구독 상품의 가격이 변경 된 경우에는\n\n상품이 변경 된 후 가격 변경 동의 흐름이 시작 됩니다.\n{% endhint %}\n\n기간 내에 가격 변경에 대한 동의가 이루어지지 않으면, 해당 정기 결제는 다음 정기 결제일에 취소 됩니다.&#x20;\n\n(가격이 내려가거나 유지되는 경우 별도의 알림이나 동의 절차 없이 7일 이후 다음 갱신일에 변경된 가격으로 결제 됩니다.)\n\n#### 가격 변경에 대한 동의하는 경우   <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 구독료 인상에 동의하는 경우 또는 가격을 인하한 경우에는 동의 기간 이후 변경된 가격으로 결제됩니다.&#x20;\n\n또한 SUBSCRIPTION\\_PRICE\\_CHANGE\\_CONFIRMED 인 Subscription Notification이 전송됩니다.&#x20;\n\n#### 가격 변경에 대해 동의하지 않는 경우  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n사용자가 구독료 인상에 동의하지 않는 경우 자동으로 정기 결제가 취소되고, SUBSCRIPTION\\_EXPIRED 인 Subscription Notification이 전송됩니다.&#x20;\n\n#### 실수로 가격 변경을 변경한 경우  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n실수로 정기 결제 가격을 변경 했다면 가격을 다시 되돌리는 것이 좋습니다.&#x20;\n\n7일 이내에 가격을 되돌린다면, 기존 정기 결제 사용자에게 영향을 미치지 않습니다.\n\n다만, 이 경우에도 신규 구매 고객은 변경 된 가격으로 결제하게 되므로 가격 변경은 신중해야 합니다.&#x20;\n\n#### 두 번의 가격 변경이 발생한 경우  <a href=\"#id-08.\" id=\"id-08.\"></a>\n\n첫 번째 가격 변경 이후 두 번째 가격 변경이 7일 이내라면, 첫 번째 가격 변경은 무효화되고 두 번째 가격 변경만 적용이 됩니다.&#x20;\n\n다만, 7일 이후라면 사용자는 두 번의 가격 변경에 대한 동의를 해야합니다.&#x20;\n\n가격 변경에 대한 동의 절차는 사용자의 불편을 초래하며, 해당 정기 결제 상품을 유지하는 고객이 줄어들 가능성이 높아집니다.&#x20;\n\n다시 한 번 강조하지만 가격 변경은 신중해야 합니다.&#x20;\n\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/releasenote.md\n# 09. 원스토어 인앱결제 릴리즈 노트\n\n### 원스토어 인앱결제 라이브러리 21.02.00 업데이트\n\nIAP SDK 21.02.00 부터 아래와 같이 `onestore:dev_option`의 `android:value` 값을 설정하면, SDK와 연동되는 스토어 앱을 지정 할 수 있습니다.\n",
      "start_pos": 222236,
      "end_pos": 225496
    },
    {
      "content": "\n<table><thead><tr><th width=\"226\">값 (android:value)</th><th>대상 국가 및 지역</th></tr></thead><tbody><tr><td><code>onestore_00</code></td><td>대한민국 (South Korea) <em>(기본값)</em></td></tr><tr><td><code>onestore_01</code></td><td>싱가포르, 타이완 (Singapore, Taiwan)</td></tr><tr><td><code>onestore_02</code></td><td>미국 – Digital Turbine (United States)</td></tr></tbody></table>\n\nStoreEnvironment API 기능 추가\n\n`StoreEnvironment.getStoreType()` API는 SDK가 탑재된 애플리케이션이 원스토어를 통해 설치되었는지를 판단하는 기능을 제공합니다.\n\nStore Type 정의\n\n해당 API는 `StoreType`을 반환하며, 아래 네 가지 값 중 하나를 가집니다.\n\n<table><thead><tr><th width=\"240\">StoreType</th><th width=\"71\">value</th><th>description</th></tr></thead><tbody><tr><td><code>StoreType.UNKNOWN</code></td><td>0</td><td>앱 설치 스토어 정보를 알 수 없음 <em>(APK 직접 설치, 출처 불명 등)</em></td></tr><tr><td><code>StoreType.ONESTORE</code></td><td>1</td><td>ONE Store에서 설치됨 <em>(또는 개발자 옵션이 활성화된 경우)</em></td></tr><tr><td><code>StoreType.VENDING</code></td><td>2</td><td>Google Play Store에서 설치됨</td></tr><tr><td><code>StoreType.ETC</code></td><td>3</td><td>기타 스토어에서 설치됨</td></tr></tbody></table>\n\n### **원스토어 인앱결제 라이브러리 SDK V21.01 배포** <a href=\"#id-09.-apiv7-sdkv21\" id=\"id-09.-apiv7-sdkv21\"></a>\n\n원스토어 인앱결제 SDK V21.01이 배포 되었습니다.&#x20;\n\n주요 변경 사항은 다음과 같습니다.&#x20;\n\n* 앱 무결성을 체크하는 보안 솔루션과 충돌이 있는 문제가 해결 되었습니다.&#x20;\n* 국내 원스토어 앱이 설치되어 있을 때, 글로벌 원스토어 앱 다운로드 설치 동선에서 발생하던 로딩 문제가 해결 되었습니다.&#x20;\n* 개발 단계에서 개발 환경을 변경 할 수 있는 설정을 제공합니다.\n\n\n\n### **원스토어 인앱결제 라이브러리 API V7(SDK V21) 출시** <a href=\"#id-09.-apiv7-sdkv21\" id=\"id-09.-apiv7-sdkv21\"></a>\n\n원스토어 인앱결제 라이브러리 API V7(SDK V21.00)가 출시 되었습니다.  주요한 변경 사항은 다음과 같습니다.&#x20;\n\n새로운 상품은 원스토어 인앱결제 라이브러리 API V7(SDK V21)를 적용해야 합니다.\n\n원스토어 인앱결제 API V5(SDK V17)이상을 적용한 앱은 API V7(SDK V21)로 마이그레이션이 가능합니다.\n\n원스토어 인앱결제 API V4(SDK V16)은 이후 버전과 전혀 다른 구조로 설계 되었기 때문에, 원스토어 인앱결제 API V6(SDK V19)로 마이그레이션 할 수 없습니다.\n\n#### &#x20;구독형 상품  <a href=\"#id-09.\" id=\"id-09.\"></a>\n\nSDK V19 이하 버전에서 사용하던 월정액 상품을 대신하여 구독형 상품을 제공합니다.&#x20;\n\n구독형 상품은 사용자가 원스토어 앱 내에서 정기 결제 상품을 직접 관리 할 수 있는 다양한 기능을 제공하고&#x20;\n\n신규 유저 유입을 위한 프로모션, 정기 결제 상태 변경에 대한 알림 기능 등 개발자를 위한 다양한 기능도 제공됩니다. &#x20;\n\n\\\n\n\n#### 로그인 프로세스 변경  <a href=\"#id-09.\" id=\"id-09.\"></a>\n\n기존에 사용되든 PurchaseClient.launchLoginFlowAsync()는 지원되지 않을 예정입니다.\n\n신규로 만들어진 GaaSignInClient를 이용하여 로그인이 지원됩니다. 클래스명이 바뀌었지만 사용방식은 동일합니다.\n\n\\\n\n\n#### &#x20;배포 방식 변경 <a href=\"#id-09.\" id=\"id-09.\"></a>\n\n기존에는 guthub을 통한 배포였으나, V21부터는 maven을 통해 SDK가 배포 됩니다.&#x20;\n\n이제부터는 SDK의 업데이트가 훨씬 간편 해졌습니다.&#x20;\n\n### **원스토어 인앱결제 라이브러리 API V6(SDK V19) 출시** <a href=\"#id-09.-apiv6-sdkv19\" id=\"id-09.-apiv6-sdkv19\"></a>\n\n원스토어 인앱결제 라이브러리 API V6(SDK V19.00)가 출시 되었습니다.  주요한 변경 사항은 다음과 같습니다.&#x20;\n\n새로운 상품은 원스토어 인앱결제 라이브러리 API V6(SDK V19)를 적용해야 합니다.\n\n원스토어 인앱결제 API V5(SDK V17)을 적용한 앱은 API V6(SDK V19)로 마이그레이션이 가능합니다.\n\n원스토어 인앱결제 API V4(SDK V16)은 이후 버전과 전혀 다른 구조로 설계 되었기 때문에, 원스토어 인앱결제 API V6(SDK V19)로 마이그레이션 할 수 없습니다.\n\n#### &#x20;원스토어 인앱결제 API 버전 삭제  <a href=\"#id-09.-api\" id=\"id-09.-api\"></a>\n\n이제 앱의 매니페스트에서 인앱 API 버전을 추가할 필요가 없습니다.\n\n인앱결제 SDK V19에 API Version meta-data가 추가됩니다.\n\n#### 구매 확인  <a href=\"#id-09.\" id=\"id-09.\"></a>\n\n원스토어 인앱결제 라이브러리 API V6(SDK V19) 이상을 사용하는 앱에서는 3일 이내에, 구매 확인을 해야합니다.&#x20;\n\n3일 이내에 구매 확인이 되지 않으면, 아이템이 정상적으로 지급이 되지 않은 것으로 판단하고 구매를 취소 합니다.&#x20;\n\n다음 메서드 중 하나를 사용하여 구매를 확인할 수 있습니다.\n\n* 소모성 제품인 경우 PurchaseClient.consumeAsync()를 사용합니다.\n* 소모성 제품이 아니라면 PurchaseClient.acknowledgeAsync()를 사용합니다.&#x20;\n\n월정액 상품의 경우에는 최초의 결제에 대해서만 구매를 확인하면 됩니다. &#x20;\n\n원스토어 인앱결제 API V6(SDK V19)를 적용한 경우, 반드시 3일 이내에 구매 확인을 해야합니다.\n\n3일 이내에 구매 확인이 되지 않은 경우 구매가 취소되니 주의해야 합니다.\n\n\\\n\n\n#### 마켓 구분 코드 얻기 <a href=\"#id-09.\" id=\"id-09.\"></a>\n\nIAP 라이브러리 V6부터 Server to Server API를 사용하기 위해서는 마켓 구분 코드가 필요합니다.\n\ngetStoreInfoAsync()를 통해서 마켓 구분 코드를 획득 할 수 있습니다.&#x20;\n\n#### PurchaseClient API 변경  <a href=\"#id-09.-purchaseclientapi\" id=\"id-09.-purchaseclientapi\"></a>\n\n| <p><br></p>                 | V5 (SDK V17)                | V6(SDK V19)                 |\n| --------------------------- | --------------------------- | --------------------------- |\n| 결제모듈과의 연결                   | connect                     | startConnection             |\n| 결제모듈과의 연결해제                 | terminate                   | endConnection               |\n| 지원여부 확인                     | isBillingSupportedAsync     | X                           |\n| 인앱 상품 구매                    | launchPurchaseFlowAsync     | launchPurchaseFlow          |\n| 인앱 상품 소비                    | consumeAsync                | consumeAsync                |\n| 인앱 상품 구매 확인                 | X                           | acknowledgeAsync            |\n| 소비되지 않은 상품의 구매내역(월 자동결제 포함) | queryPurchasesAsync         | queryPurchasesAsync         |\n| 인앱 상품 상세정보                  | queryProductsAsync          | queryProductDetailsAsync    |\n| 월 자동결제 상태 변경                | manageRecurringProductAsync | manageRecurringProductAsync |\n| 결제 모듈 업데이트 또는 설치            | launchUpdateOrInstallFlow   | launchUpdateOrInstallFlow   |\n| 원스토어 로그인 호출                 | launchLoginFlowAsync        | launchLoginFlowAsync        |\n| 마켓 구분 코드 확인                 | X                           | getStoreInfoAsync           |\n\n#### &#x20;Server API 변경  <a href=\"#id-09.-serverapi\" id=\"id-09.-serverapi\"></a>\n\n\n\n| 구분           | API 목록              | API URI - V5(SDK V17)                                                               | API URI - V6(SDK V19)                                                                            | 변경사항                                                                                                                      |\n| ------------ | ------------------- | ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------- |\n| V5 (SDK V17) | V6 (SDK V19)        |                                                                                     |                                                                                                  |                                                                                                                           |\n| 변경           | OAuth 토큰발급          | /v2/oauth/token                                                                     | /v6/oauth/token                                                                                  | <p>응답규격 중 status 필드 삭제</p><p>Http response code로 정상(200) 여부 확인</p>                                                        |\n| 삭제           | 구매상품 상세조회           | /v2/purchase/details/{purchaseId}/{packageName}                                     | N/A                                                                                              | <p>보안 강화를 위하여 구매상품 상세조회 API는 삭제</p><p>구매상품 상세조회 By 인앱상품ID로 통합</p>                                                         |\n| 변경           | 구매상품 상세조회 By 인앱상품ID | <p>/v2/purchase/details-by-productid<br>/{purchaseId}/{packageName}/{productId}</p> | <p>/v6/apps/{packageName}/purchases/inapp/products<br>/{productId}/{purchaseToken}</p>           | 응답 규격에 purchaseId, acknowledgeState 필드 추가                                                                                 |\n| 변경           | 월정액 상품 구매 상세조회      | /v2/purchase/recurring-details/{purchaseId}/{packageName}                           | <p>/v6/apps/{packageName}/purchases/auto/products<br>/{productId}/{purchaseToken}</p>            | <p>응답규격에 acknowledgeState, lastPurchaseId, lastPurchaseState 추가</p><p>응답규격에 price, developerPayload, purchaseState 삭제</p> |\n| 삭제           | 월정액 상품 마지막 구매 상세조회  | /v2/purchase/last-recurring-details/{purchaseId}/{packageName}                      | N/A                                                                                              | 월정액 상품 구매 상세조회 API 로 통합                                                                                                   |\n| 변경           | 자동결제 해지             | /v2/purchase/manage-payment-status/{purchaseId}/{packageName}/cancel                | <p>/v6/apps/{packageName}/purchases/auto/products<br>/{productId}/{purchaseToken}/cancel</p>     | 성공처리 응답규격변경                                                                                                               |\n| 변경           | 자동결제 해지취소           | /v2/purchase/manage-payment-status/{purchaseId}/{packageName}/reactivate            | <p>/v6/apps/{packageName}/purchases/auto/products<br>/{productId}/{purchaseToken}/reactivate</p> | 성공처리 응답규격변경                                                                                                               |\n| 변경           | 구매취소 내역조회           | /v2/purchase/voided-purchases/{packageName}                                         | /v6/apps/{packageName}/voided-purchases                                                          | <p>API 사용성 향상을 위하여 구매취소내역 조회기준(startTime, endTime)을 구매일시에서 구매취소일시로 변경</p><p>응답규격에 purchaseToken, marketCode 추가</p>        |\n| 변경           | 구매상품 소비             | /v2/purchase/consume/{purchaseId}/{packageName}                                     | <p>/v6/apps/{packageName}/purchases/all/products/<br>{productId}/{purchaseToken}/consume</p>     | 성공처리 응답규격변경                                                                                                               |\n| 추가           | 구매 확인               | N/A                                                                                 | <p>/v6/apps/{packageName}/purchases/all/products/<br>{productId}/{purchaseToken}/acknowledge</p> | 구매 확인 API 신규 추가                                                                                                           |\n\n\\\n\n\n#### PNS 메시지 규격 변경  <a href=\"#id-09.-pns\" id=\"id-09.-pns\"></a>\n\n* 원화 외의 통화를 지원하기 위하여 결제금액(price)의 데이터 타입이 Number에서 String으로 변경하였습니다.\n* 원화 외의 통화를 지원하기 위하여 결제금액의 통화코드(priceCurrencyCode)를 추가하였습니다.\n* 원화 외의 통화를 지원하기 위하여 결제수단별금액(amount)의 데이터 타입이 Number에서 String으로 변경하였습니다.\n* 응답 규격에 purchaseToken, environment, marketCode 필드가 추가되었습니다.&#x20;\n\n상세한 규격은 PNS 메시지 상세 변경 내역에서 확인 할 수 있습니다. &#x20;\n\n### **원스토어 인앱결제 라이브러리 API V5(SDK V17)**  <a href=\"#id-09.-apiv5-sdkv17\" id=\"id-09.-apiv5-sdkv17\"></a>\n\n* API 버전은 개발사 애플리케이션의 'AndroidManifest.xml' 파일에 아래와 같이 명시되어야 합니다.\n* 자세한 내용은 인앱결제 적용을 위한 사전준비 페이지의 'Android Manifest 파일 설정' 부분을 참고하시기 바랍니다.\n*   API V5 (SDK V17)에서 개선된 사항은 다음과 같습니다.\n\n    <table><thead><tr><th>항목</th><th width=\"160\">세부 개선 항목</th><th width=\"565\">설 명</th><th></th></tr></thead><tbody><tr><td><strong>API</strong></td><td>Consume 개념 도입</td><td>아이템 미지급 상황 발생 시 앱에서 복구할 수 있는 로직을 제공합니다.</td><td></td></tr><tr><td></td><td>Custom PID 지원</td><td>인앱상품 ID(PID)를 개발자가 직접 입력할 수 있어, 직관적인 PID로 생성하여 운영할 수 있습니다.</td><td></td></tr><tr><td></td><td>보편적인 인앱결제 인터페이스 제공</td><td>타 마켓향으로 개발한 앱을 코딩상의 큰 개발공수 없이 원스토어향으로 런칭할 수 있습니다.</td><td></td></tr><tr><td><strong>결제 테스트 환경</strong></td><td>개발/상용 테스트 환경 분리 제공</td><td><p>개발사의 검증 환경과 동일 수준의 원스토어 결제환경을 제공합니다.</p><p>개발사의 개발환경에서는 원스토어 Sandbox와 연동하여 개발/테스트 할 수 있고, 개발사의 상용환경에서는 원스토어 상용환경에서 실결제를 해볼 수 있습니다.</p><p>원스토어 개발자센터에서 테스트 ID로 등록한 ID로 원스토어 로그인 후, 실결제한 경우, 개발자가 자유롭게 구매취소 가능합니다.</p><p></p><table><thead><tr><th>구분</th><th></th><th>개발자</th><th>개발자</th><th data-hidden></th></tr></thead><tbody><tr><td></td><td></td><td>개발환경</td><td>상용환경</td><td></td></tr><tr><td>원스토어 결제환경</td><td>Sandbox</td><td>O</td><td>-</td><td></td></tr><tr><td></td><td>상용환경(실 결제)</td><td>-</td><td>O</td><td>O</td></tr></tbody></table></td><td></td></tr><tr><td><strong>결제창 UI</strong></td><td>전면/팝업 결제화면 선택 가능</td><td>전체 결제화면 또는 팝업 결제화면을 선택할 수 있습니다.<br>결제화면 설정은 원스토어 인앱결제 적용을 위한 사전준비 페이지의 'Android Manifest 파일 설정' 부분을 참고하시기 바랍니다.</td><td></td></tr><tr><td><strong>연동 방식</strong></td><td>IAP SDK, AIDL 선택 가능</td><td>기존의 SDK 방식 뿐만 아니라, AIDL를 이용하여 직접 OSS와 연동할 수 있습니다.<br>단, 원스토어 서비스(ONE store service, OSS) 앱이 설치되어 있지 않은 단말에서는 인앱결제가 정상적으로 동작하지 않습니다.<br>원스토어 서비스 앱 설치에 대한 내용은 원스토어 인앱결제 적용을 위한 사전준비 페이지의 '원스토어 앱 설치' 부분을 참고하시기 바랍니다.</td><td></td></tr><tr><td><strong>개발자센터</strong></td><td>타 마켓 앱 상품 정보 크롤링 기능 개선</td><td>기 등록된 타 마켓 앱 상품을 원스토어에 간편하게 등록할 수 있습니다.</td><td></td></tr><tr><td></td><td>타 마켓 인앱상품 정보 import 기능 제공</td><td></td><td></td></tr><tr><td><strong>인증센터</strong></td><td>OAuth 발급/인증/관리</td><td>개발자의 서버와 원스토어 인앱결제 서버 연동 시 데이터 보안을 강화하였습니다.</td><td></td></tr></tbody></table>\n\n\\\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/sample.md\n# 10. Sample App Download\n\n### **원스토어 인앱결제 Sample App 다운로드** <a href=\"#id-10.sampleappdownload-sampleapp\" id=\"id-10.sampleappdownload-sampleapp\"></a>\n\n원스토어 인앱결제 API V7(SDK V21)를 사용하기 위해 필요한 샘플 앱을 [깃허브(github](https://github.com/ONE-store/onestore_iap_release))에서 다운로드 받을 수 있습니다.&#x20;\n\n\\\n\n\n| branch 명 | Description                                                                                                                                                                                                                                                                                                                  |\n| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| master   | <p><a href=\"https://github.com/ONE-store/onestore_iap_release/tree/master/onestore_iap_sample/sample_luckyone\">sample_luckyone </a>: 인앱을 적용한 샘플앱<br><a href=\"https://github.com/ONE-store/onestore_iap_release/tree/master/onestore_iap_sample/sample_subscription\">sample_subscription</a> : 구독상품 적용과 관리화면 연동을 보여주는 샘플앱</p> |\n\n\\\n\n\n\\\n\n\n\\\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/upgrade.md\n# 11. V21로 원스토어 인앱결제 업그레이드 하기\n\n### v19에서 v21로 업그레이드 하기 <a href=\"#id-11.v21-v19-v21\" id=\"id-11.v21-v19-v21\"></a>\n\n#### 결제 라이브러리 변경하기 <a href=\"#id-11.v21\" id=\"id-11.v21\"></a>\n\n원스토어 InApp Purchase(IAP) SDK는 v21버전부터 maven을 통한 배포를 제공하고 있습니다.\n\nmaven을 통해 IAP library를 사용하고 싶은 경우 다음의 내용에 따라 변경을 해야합니다.\n\n* v19 AAR 파일 삭제\n  * Project의 libs 폴더의 iap\\_sdk-v19.XX.XX.aar 파일을 삭제합니다.&#x20;\n* &#x20;maven 종속성 추가\n  *   프로젝트 최상위 _build.gradle_ 파일에 원스토어 maven 주소를 등록합니다.\n\n      ```gradle\n\n      allprojects {\n      \trepositories {\n      \t\t...\n      \t\tmaven { url 'https://repo.onestore.net/repository/onestore-sdk-public' }\n      \t}\n      }\n      ```\n  *   다음은 앱의 _build.gradle_ 파일에 원스토어 결제 라이브러리 종속 항목을 추가합니다.\n\n      ```gradle\n\n      dependencies {\n          def onestore_iap_version = \"21.00.00\"\n          implementation \"com.onestorecorp.sdk:sdk-iap:$onestore_iap_version\"\n      }\n\n      ```\n\n#### Json file 변경하기 <a href=\"#id-11.v21-jsonfile\" id=\"id-11.v21-jsonfile\"></a>\n\n원스토어는 IAP SDK v19부터 SDK에서 사용하기 위한 필수 param들을 global-appstores.json을 통해 제공하였습니다.\n\nv21부터는 좀더 편리하게 해당 값을 적용하기 위해 maven으로 해당 값을 배포하고 있습니다.\n\n해당 내용을 변경하기 위해서는 다음을 따라 주세요.\n\n* global-appstores.json 삭제\n  * Project의 assets 폴더의 global-appstores.json파일을 삭제합니다.&#x20;\n* &#x20;maven 종속성 추가\n  *   프로젝트 최상위 _build.gradle_ 파일에 원스토어 maven 주소를 등록합니다.\n\n      ```gradle\n\n      allprojects {\n          repositories {\n              ...\n              maven { url 'https://repo.onestore.net/repository/onestore-sdk-public' }\n          }\n      }\n\n      ```\n  *   다음은 앱의 _build.gradle_ 파일에 원스토어 결제 라이브러리 종속 항목을 추가합니다.\n\n      ```gradle\n\n      dependencies {\n          def onestore_configuration_version = \"1.0.0\"\n          implementation \"com.onestorecorp.sdk:sdk-configuration-kr:$onestore_configuration_version\"\n      }\n\n      ```\n\n#### Deprecated 항목 수정하기 <a href=\"#id-11.v21-deprecated\" id=\"id-11.v21-deprecated\"></a>\n\nv21 SDK에서 다음의 항목들이 Deprecated 되었습니다.\n\n사용하는데는 문제는 없으나, 추후 원활한 사용을 위해 변경이 필요합니다.\n\n*   Interface\n\n    | name              | description                                                   |\n    | ----------------- | ------------------------------------------------------------- |\n    | PurchasesListener | v21부턴 ~~PurchasesListener~~ 대신 QueryPurchasesListener를 사용하세요. |\n*   Method\n\n    <table><thead><tr><th>class</th><th>method name</th><th>description</th></tr></thead><tbody><tr><td><pre><code>PurchaseClient\n    </code></pre><p><br><br></p></td><td>manageRecurringProductAsync</td><td><p>v21부터 Auto(월정액) 상품 대신 Subscription(구독) 상품을 지원하며 정기 결제 메뉴를 통해 해당 기능들을 지원합니다.</p><p>정기 결제 메뉴의 경우 월정액 상품을 지원하지 않기 때문에 해당 API를 이용하여 이용해지 예약/취소를 기존처럼 제공해야 합니다.</p><p>구독 상품의 경우 정기 결제 메뉴로 사용자에게 안내하도록 구현이 필요합니다.</p></td></tr><tr><td>launchLoginFlowAsync</td><td><p>인증 관련 flow는 별도의 class로 분리하였습니다.</p><p>자세한 사항은 <a href=\"../sdk#id-04.-sdk-5\">원스토어 로그인하기</a>를 참고하시기 바랍니다.</p></td><td></td></tr></tbody></table>\n\n### v17에서 v21로 업그레이드 하기 <a href=\"#id-11.v21-v17-v21\" id=\"id-11.v21-v17-v21\"></a>\n\n#### 결제 라이브러리 변경하기 <a href=\"#id-11.v21-.1\" id=\"id-11.v21-.1\"></a>\n\nv17에서 v21로 변경 시 라이브러리가 jar 에서 aar로 변경됩니다.\n\nv17 라이브러리를 사용하는 개발사의 경우 v19에서 v21로 업그레이드를 가이드를 통해 maven으로 변경 후, jar 형태에서 aar배포로 바뀐 부분에 대한 추가적인 작업(meta-data 삭제)이 필요합니다.\n\n* v17 jar 라이브러리 삭제\n  * Project의 libs폴더의 jar파일을 삭제합니다.&#x20;\n*   AndroidManifest의 다음의 meta-data 삭제\n\n    hljs.highlightAll();\n\n    ```xml\n              \n    <meta-data android:name=\"iap:api_version\" android:value=\"5\"/>\n\n    ```\n* maven 종속성 추가 : [v19에서 v21로 업그레이드 하기](upgrade)를 참고하세요. &#x20;\n\n#### Json file 종속성 추가 <a href=\"#id-11.v21-jsonfile\" id=\"id-11.v21-jsonfile\"></a>\n\nv19 이상 부터는 SDK의 동작을 위해 json 파일이 필요합니다. [v19에서 v21로 업그레이드 >  json file 변경하기 > maven종속성 추가](upgrade) 를 참고하여 Project에 종속성을 추가 해주세요.\n\n#### 변경 사항 수정하기 <a href=\"#id-11.v21\" id=\"id-11.v21\"></a>\n\n[원스토어 인앱결제 SDK 업그레이드 안내](../old-version/v19/undefined-6)를 참고하여 변경 사항을 수정해주세요.\n\n\\\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/unity.md\n# 12. Unity에서 원스토어 인앱결제 (SDK V21) 사용하기\n\n## 개요\n\n원스토어 결제 플러그인은 Unity 환경에서 에셋을 확장하여 게임에서 원스토어 결제 라이브러리의 최신 기능을 제공합니다. 이 가이드에서는 프로젝트를 설정하여 플러그인을 사용하는 방법과 원스토어 결제 라이브러리 기능을 구현하는 방법을 설명합니다.\n\n### 개발 버전\n\n<table data-view=\"cards\"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Unity</strong></td><td>2022.3.11f1</td></tr><tr><td><strong>Java SDK (Java 11)</strong></td><td><p>Purchase: v21.02.01</p><p>App License Checker: v2.2.1</p></td></tr></tbody></table>\n\n## 원스토어 결제 플러그인 설정\n\n### 플러그인 다운로드 및 가져오기\n\n1. [GitHub의 Release 페이지](https://github.com/ONE-store/unity_plugins/releases)에서 Unity 용 원스토어 인앱결제 플러그인 최신 버전을 다운로드합니다.\n2.  Unity 메뉴 바에서 **Assets > Import Package > Custom Package**를 클릭합니다.\\\n\n\n    <figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2FaDPUiCuuNT9GzJMLxE4f%2Fimage.png?alt=media&#x26;token=ec33961f-2730-433f-b3e3-02c785b0047a\" alt=\"\"><figcaption></figcaption></figure>\n3. 다운로드한 위치를 찾아 .unitypackage 파일을 선택합니다.\n4. **Import Unity Package** 대화상자에서 모든 에셋을 선택한 상태로 두고 **Import**를 클릭합니다.\n\n패키지를 가져오면 폴더가 추가됩니다. 이 폴더에 원스토어 결제 라이브러리가 포함되어 있습니다.\n\n* Assets/OneStoreCorpPlugins\n  * /Common\n  * /Authentication\n  * /Purchase\n  * /AppLicenseChecker\n\n> [EDM4U(External Dependency Manager for Unity)](https://github.com/googlesamples/unity-jar-resolver)가 필수로 같이 배포됩니다.\\\n> 만약, 이미 사용하고 있다면 `Import Package` 단계에서 `ExternalDependencyManager`를 체크해지하고 적용하면 됩니다.\n\n### 외부 종속성 포함\n\n프로젝트에 레파지토리 및 종속성이 포함되도록 하려면 다음 단계를 따릅니다.\n\n**`Project Settings > Player > Publishing Settings > Build`**\n\n아래의 두 가지를 체크합니다.\n\n* Custom Main Manifest\n*   Custom Main Gradle Template\\\n\n\n    <figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2FwxTyCfDtU8RCaZVxrlUW%2Fimage.png?alt=media&#x26;token=155e429b-5b42-4e44-bf5f-b24fa4e5a789\" alt=\"\"><figcaption></figcaption></figure>\n\n**`Assets > External Dependency Manager > Android Resolver > Force Resolve`** 를 선택합니다.\n\n`mainTemplete.gradle` 파일에 아래와 같이 적용되는 것을 확인할 수 있습니다.\\\n\n\n<figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2F9Nl9wpIgGFtlWanaWbuM%2Fimage.png?alt=media&#x26;token=4f08e2d8-06bf-4dd8-b933-c8bb9ef15320\" alt=\"\"><figcaption></figcaption></figure>\n\n{% hint style=\"info\" %}\n* **In-app Purchase 종속성**은 다음에 나열되어 있습니다.\\\n  Assets/OneStoreCorpPlugins/Purchase/Editor/PurchaseDependencies.xml\n* **App License Checker 종속성**은 다음에 나열되어 있습니다.\\\n  Assets/OneStoreCorpPlugins/AppLicenseChecker/Editor/AppLicenseCheckerDependencies.xml\n{% endhint %}\n\n### \\<queries> 설정\n\n`AndroidManifest.xml` 파일에 `<queries>`를 설정 해야합니다.\\\n자세한 내용은 [공지사항](https://dev.onestore.co.kr/devpoc/support/news/noticeView.omp?noticeId=32968)을 참조하세요.\n\n{% hint style=\"danger\" %}\n**\\<queries>** 태그를 설정하지 않으면 SDK에서 원스토어 서비스를 찾을 수 없습니다.\n{% endhint %}\n",
      "start_pos": 225645,
      "end_pos": 246081
    },
    {
      "content": "\n### 스토어 지정을 위한 개발자 옵션 설정\n\n&#x20;IAP SDK 21.02.00 부터 아래와 같이 `onestore:dev_option`의 `android:value` 값을 설정하면, SDK와 연동되는 스토어 앱을 지정 할 수 있습니다.\n",
      "start_pos": 246737,
      "end_pos": 246883
    },
    {
      "content": "\n<table><thead><tr><th width=\"226\">값 (android:value)</th><th>적용 대상 국가</th></tr></thead><tbody><tr><td><code>onestore_00</code></td><td>대한민국 (South Korea) <em>(기본값)</em></td></tr><tr><td><code>onestore_01</code></td><td>싱가포르, 타이완 (Singapore, Taiwan)</td></tr><tr><td><code>onestore_02</code></td><td>미국 – Digital Turbine (United States)</td></tr></tbody></table>\n\n{% hint style=\"warning\" %}\n21.01.00 버전에서는 android:value 값이 global만 설정 가능하며, 싱가포르/타이완 스토어 앱만 지정이 가능했습니다.&#x20;\n{% endhint %}\n\n{% hint style=\"danger\" %}\n**주의**: 배포 버전의 바이너리에서는 이 옵션을 반드시 제거해주세요.&#x20;\n{% endhint %}\n\n## 게임에서 원스토어 인앱 결제 라이브러리 적용하기\n\n### 로그레벨 설정\n\n개발 단계에서 로그 레벨을 설정하여 SDK의 데이터의 흐름을 좀 더 자세히 노출할 수 있습니다.\\\n[`android.util.Log`](https://developer.android.com/reference/android/util/Log#summary)에 정의된 값을 기반으로 동작합니다.\n",
      "start_pos": 247032,
      "end_pos": 247822
    },
    {
      "content": "\n| 상수             | 값 |\n| -------------- | - |\n| VERBOSE        | 2 |\n| DEBUG          | 3 |\n| INFO (default) | 4 |\n| WARN           | 5 |\n| ERROR          | 6 |\n\n{% hint style=\"danger\" %}\n배포 빌드 버전에서는 보안에 취약할 수 있으니 이 옵션을 **삭제**해야 합니다.\n{% endhint %}\n\n### 원스토어 인앱 결제 초기화\n\n<figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2FUAnVFk26E1bMVQTJDMtk%2Fimage.png?alt=media&#x26;token=155562a8-146c-4e99-89ee-1ec5966676e8\" alt=\"\"><figcaption></figcaption></figure>\n\n인앱결제를 요청하기 위해 원스토어 개발자 센터에서 제공하는 라이선스 키를 사용하여 `PurchaseClientImpl` 객체를 초기화를 합니다.  `Initialize()` 함수를 호출하여 기본적인 세팅을 마무리합니다. 이는 원스토어 서비스에 연결하기 위한 선행 작업입니다.\n",
      "start_pos": 248089,
      "end_pos": 248794
    },
    {
      "content": "\n### 상품 정보 조회하기\n\n`PurchaseClientImpl` 객체를 초기화 완료 후 `QueryProductDetails()`를 통해 상품 정보를 요청하면 `IPurchaseCallback.OnProductDetailsSucceeded()`로 응답을 받습니다.\n\n`ProductType`은 아래와 같습니다.\n\n<table><thead><tr><th width=\"246\">Product</th><th>Enum</th></tr></thead><tbody><tr><td>관리형 상품</td><td><code>ProductType.INAPP</code></td></tr><tr><td>정기 결제 상품 (구독 상품)</td><td><code>ProductType.SUBS</code></td></tr><tr><td><del>월 정액 상품</del></td><td><del><code>ProductType.AUTO</code></del><br>(이 상품은 향후 지원되지 않을 예정입니다.) </td></tr></tbody></table>\n\n위의 모든 유형의 데이터를 한 번에 조회하고 싶을 경우는 `ProductType.ALL` 설정하면 됩니다.\n\n{% hint style=\"warning\" %}\n`ProductType.ALL`은 [상품 정보 조회하기](#undefined-9)에서만 사용할 수 있으며, [구매 요청하기](#undefined-10), [구매 내역 조회하기](#id-12.unity-sdkv21-4)에서는 사용할 수 없습니다.\n{% endhint %}\n",
      "start_pos": 249026,
      "end_pos": 249797
    },
    {
      "content": "\n{% hint style=\"warning\" %}\n인앱 상품 ID 목록은 개발사의 보안 백엔드 서버에서 관리해야 합니다.\n{% endhint %}\n\n### 구매 요청하기\n\n앱에서 구매 요청을 하기 위해서는 기본 스레드에서 `Purchase()` 함수를 호출합니다.\n\n`QueryProductDetails()` API를 호출해서 얻은 `ProductDetail` 객체의 값을 토대로 `PurchaseFlowParams` 객체를 생성합니다.\\\n`PurchaseFlowParams` 객체를 생성하려면 `PurchaseFlowParams.Builder` 클래스를 사용합니다.\n\n`SetDeveloperPayload()`는 개발사에서 임의로 입력한 값으로 최대 `200byte`입니다. 이 값은 결제 후에 데이터의 정합성과 부가 데이터를 확인하기 위해 사용할 수 있습니다.\\\n`SetProductName()`은 상품 이름을 결제 시 변경하여 노출하고 싶을 때 사용됩니다.\\\n`SetQuantity()`는 관리형 인앱 상품에만 적용되며 한 상품을 여러 개 구매할 때 사용됩니다.\n\n{% hint style=\"success\" %}\n원스토어는 사용자에게 할인 쿠폰, 캐시백 등의 다양한 혜택 프로모션을 진행하고 있습니다.\\\n개발사는 구매 요청 시에 `gameUserId`, `promotionApplicable` 파라미터를 이용하여 앱을 사용하는 유저의 프로모션 참여를 제한하거나 허용할 수 있습니다.\\\n개발사는 앱의 고유한 유저 식별 번호 및 프로모션 참여 여부를 선택하여 전달하고, 원스토어는 이 값을 토대로 사용자의 프로모션 혜택을 적용하게 됩니다.\n{% endhint %}\n\n{% hint style=\"warning\" %}\n`gameUserId`, `promotionApplicable` 파라미터는 옵션 값으로 원스토어 사업 부서 담당자와 프로모션에 대해 사전협의가 된 상태에서만 사용하여야 하며, 일반적인 경우에는 값을 보내지 않습니다.\\\n또한, 사전협의가 되어 값을 보낼 경우에도 개인 정보보호를 위해 `gameUserId`는 `hash`된 고유한 값으로 전송하여야 합니다.\n{% endhint %}\n",
      "start_pos": 250104,
      "end_pos": 251174
    },
    {
      "content": "\n`Purchase()` 호출에 성공하면 아래와 같은 화면을 표시합니다. **\\[그림 1]**&#xC740; 관리형 상품 구매 화면을 나타냅니다.\\\n\n\n<figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2FQlQqSb2MeYLL9LZvqvAT%2Fimage.png?alt=media&#x26;token=dfbde249-6cb3-461e-abc8-a8d830f41d46\" alt=\"\"><figcaption><p>[그림 1] </p></figcaption></figure>\n\n구매에 성공하면 `IPurchaseCallback.OnPurchaseSucceeded()` 함수에 결과를 전송합니다.\\\n실패 시에는 `IPurchaseCallback.OnPurchaseFailed()` 함수가 호출됩니다.\n",
      "start_pos": 252169,
      "end_pos": 252673
    },
    {
      "content": "\n\\\n구매가 성공하면 구매 데이터에는 사용자 및 상품 ID를 나타내는 고유 식별자인 구매 토큰도 생성됩니다. 구매 토큰을 앱 내에 저장할 수 있지만 구매를 인증하고 사기로부터 보호할 수 있는 백엔드 서버로 토큰을 전달하는 것이 좋습니다.\n\n<figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2F7QWzCSwkc5tCI8ZTdTqM%2Fimage.png?alt=media&#x26;token=a5d9347e-c6b9-4b60-bc37-1ddbeae24270\" alt=\"\"><figcaption></figcaption></figure>\n\n관리형 상품과 정기 결제 상품의 구매 토큰은 결제가 일어날 때마다 구매 토큰이 발행됩니다. (월 정액 상품의 경우 자동 결제가 갱신되는 동안 구매 토큰은 동일하게 유지됩니다.)\n\n또한 사용자는 영수증 번호가 포함된 거래 영수증을 이메일로 받습니다. 관리형 상품은 구매할 때마다 이메일을 받으며, 월 정액 상품과 정기 결제 상품은 처음 구매 시 그리고 이후 갱신될 때마다 이메일을 받습니다.\n\n### 정기 결제 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n정기 결제는 취소될 때까지 자동으로 갱신됩니다. 정기 결제는 다음 상태를 가질 수 있습니다.\n\n* **활성**: 사용자가 콘텐츠 사용에 문제가 없는 양호한 상태이며 정기 결제에 접근할 수 있습니다.\n* **일시 중지 예약**: 사용자가 정기 결제를 이용 중 일시 중지를 하고 싶을 때 선택할 수 있습니다.\n  * 주간 정기 결제: 1\\~3주 단위로 일시 중지할 수 있습니다.\n  * 월간 정기 결제: 1\\~3개월 단위로 일시 중지할 수 있습니다.\n  * 연간 정기 결제: 일시 중지를 지원하지 않습니다.\n* **해지 예약**: 사용자가 정기 결제를 이용 중이지만 취소하고 싶을 때 선택할 수 있습니다. 다음 결제일에 결제가 되지 않습니다.\n* **유예, 보류**: 사용자에게 결제 문제가 발생하면 다음 결제일에 결제가 되지 않습니다. 취소 예약을 할 수 없으며 즉시 \"구독 해지\"를 할 수 있습니다.\n\n#### 사용자가 정기 결제를 업그레이드, 다운그레이드 또는 변경할 수 있도록 허용 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n사용자가 정기 결제를 업그레이드하거나 다운그레이드 하려면 구매 시 _비례 배분 모&#xB4DC;_&#xB97C; 설정하거나 변경사항이 정기 결제 사용자에게 영향을 주는 방식을 설정할 수 있습니다.\\\n다음 표에는 사용 가능한 `비례 배분 모드`_(_`OneStoreProrationMode`_)_&#xAC00; 나와 있습니다.\n\n| **비례 배분 모드**                            | **설명**                                                                                      |\n| --------------------------------------- | ------------------------------------------------------------------------------------------- |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 정기 결제의 교체가 즉시 이루어지며, 남은 시간은 가격 차이를 기반으로 조정되어 입금되거나 청구됩니다. (이것은 기본 동작입니다.)                   |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | 정기 결제의 교체가 즉시 이루어지며, 청구 주기는 동일하게 유지됩니다. 나머지 기간에 대한 가격이 청구됩니다. (이 옵션은 업그레이드 에서만 사용할 수 있습니다.) |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 정기 결제의 교체가 즉시 이루어지며, 다음 결제일에 새로운 가격이 청구됩니다. 청구 주기는 동일하게 적용됩니다.                              |\n| DEFERRED                                | 기존 요금제가 만료되면 교체가 적용되며 새 요금이 동시에 청구됩니다.                                                      |\n\n#### 업그레이드 또는 다운그레이드 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n정기 결제는 [구매 요청하기](#undefined-10)와 동일한 API를 사용하여 사용자에게 업그레이드 또는 다운그레이드를 제공할 수 있습니다. 다만, 정기 결제의 업그레이드 다운그레이드를 적용하기 위해선 기존 정기 결제 구매 토큰과 비례 배분 모드 값이 필수로 필요합니다.\\\n다음 예와 같이 현재 정기 결제, 향후(업그레이드 또는 다운그레이드) 정기 결제 및 비례 배분 모드에 관한 정보를 제공해야 합니다.\n",
      "start_pos": 252913,
      "end_pos": 255496
    },
    {
      "content": "\n업그레이드 또는 다운그레이드의 경우도 [구매 요청하기](#undefined-10) 로직을 수행하기 때문에 응답은 똑같이 수신합니다.\\\n또한 [구매 내역 조회하기](#id-12.unity-sdkv21-4)에서도 요청 시 응답을 받을 수 있습니다. 비례 배분 모드로 구매했을 때도 일반 구매와 동일하게 `PurchaseClientImpl.AcknowledgePurchase()`를 사용하여 [구매 후 처리](#id-12.unity-sdkv21-3)를 해야 합니다.\n\n### 구매 후 처리 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n사용자가 구매를 완료하면 앱에서 구매를 처리해야 합니다. 대부분의 경우 앱은 `OnPurchaseSucceeded()`를 통해 구매 알림을 받습니다. 또는  [구매 내역 조회하기](#id-12.unity-sdkv21-4)에서 설명된 것처럼 앱이 `PurchaseClientImpl.QueryPurchases()` 함수를 호출하여 처리하는 경우가 있습니다.\n\n#### 구매 소비하기 (consume) <a href=\"#id-12.unity-sdkv21-consume\" id=\"id-12.unity-sdkv21-consume\"></a>\n\n관리형 상품은 소비를 하기 전까지는 재 구매할 수 없습니다.\n\n상품을 소비하기 위해서는 `ConsumePurchase()`를 호출합니다. 또한 소비 작업 결과는 `IPurchaseCallback..OnConsumeSucceeded()` 호출 됩니다.\n\n{% hint style=\"info\" %}\n관리형 상품을 소비하지 않으면 영구성 형태의 상품 타입처럼 활용할 수 있으며, 구매 후 즉시 소비하면 소비성 형태의 상품으로도 활용됩니다.\\\n또한 특정 기간 이후에 소비하면 기간제 형태의 상품으로 활용할 수 있습니다.\n{% endhint %}\n",
      "start_pos": 256403,
      "end_pos": 257343
    },
    {
      "content": "\n{% hint style=\"info\" %}\n소비 요청이 때로 실패할 수 있으므로 보안 백엔드 서버를 확인하여 각 구매 토큰이 사용되지 않았는지 확인해야 합니다. 그래야 앱이 동일한 구매에 대해 여러 번 자격을 부여하지 않습니다. 또는 자격을 부여하기 전에 성공적인 소비 응답을 받을 때까지 기다릴 수 있습니다.\n{% endhint %}\n\n{% hint style=\"danger\" %}\n3일 이내에 구매를 확인(`acknowledge`) 또는 소비(`consume`)를 하지 않으면 사용자에게 상품이 지급되지 않았다고 판단되어 자동으로 환불됩니다.\n{% endhint %}\n\n#### 구매 확인하기 (acknowledge) <a href=\"#id-12.unity-sdkv21-acknowledge\" id=\"id-12.unity-sdkv21-acknowledge\"></a>\n\n비 소비성 상품을 인증하려면 `PurchaseClientImpl.AcknowledgePurchase()` 함수를 사용합니다. 관리형 상품, 월 정액 상품, 정기 결제 상품 모두 사용할 수 있습니다.\n\n`PurchaseData.Acknowledged()` 함수를 사용하여 인증 되었는지를 판단할 수 있습니다. 또한 인증 작업 결과가 성공하면\n\n`IPurchaseCallback.OnAcknowledgeSucceeded()` 함수가 호출됩니다.\n",
      "start_pos": 257652,
      "end_pos": 258340
    },
    {
      "content": "\n### 구매 내역 조회하기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n구매를 처리하는 것만으로는 앱이 모든 구매를 처리하는 것을 보장하기에 충분하지 않습니다. 앱에서 사용자가 구매한 모든 항목을 인식하지 못할 수 있습니다. 앱에서 구매 추적을 놓치거나 구매를 인식하지 못할 수 있는 몇 가지 시나리오는 다음과 같습니다.\n\n* **구매 중 네트워크 문제**: 사용자가 구매를 성공적으로 완료하고 원스토어에서 확인을 받았지만 기기가 구매 알림을 받기 전에 네트워크 연결이 끊어졌을 경우\n* **여러 기기**: 사용자는 한 기기에서 항목을 구입한 후 기기를 전환할 때 이 항목이 표시되기를 기대합니다.\n\n이러한 상황을 처리하려면 앱의 `Start()` 또는 `OnApplicationPause()`에서 `PurchaseClientImpl.QueryPurchases()`를 호출하여 `구매 후 처리`에 설명된 대로 모든 구매가 성공적으로 처리되었는지 확인해야 합니다.\n",
      "start_pos": 258716,
      "end_pos": 259243
    },
    {
      "content": "\n### 월 정액 상품 상태 변경하기 (Deprecated) <a href=\"#id-12.unity-sdkv21-deprecated\" id=\"id-12.unity-sdkv21-deprecated\"></a>\n\n월 정액 상품은 최초 구매 후 30일 갱신이 이루어지는 상품입니다. 월 정액 상품의 상태는 `PurchaseData.RecurringState()`를 통해 확인할 수 있습니다.\n\n월 정액 상품의 상태를 변경하려면 `PurchaseClientImpl.ManageRecurringProduct()`를 사용합니다.\\\n구매 데이터와 변경하려는 `RecurringAction` 값을 입력합니다.\n",
      "start_pos": 259463,
      "end_pos": 259803
    },
    {
      "content": "\n### 정기 결제 관리 화면을 열기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n구독한 상품의 상태를 관리하는 화면을 띄울 수 있습니다.\\\n매개변수로 `PurchaseData`를 넣으면 구매 데이터를 확인하여 해당 정기 결제 상품의 관리 화면을 실행합니다. 그러나 `null` 넣을 경우 사용자의 정기 결제 리스트 화면을 실행합니다.\\\n다음은 정기 결제 관리 화면을 띄우는 방법을 나타내는 예제입니다.\n",
      "start_pos": 260275,
      "end_pos": 260544
    },
    {
      "content": "\n### 마켓 구분 코드 얻기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\nSDK v19 이상부터 S2S API를 사용하기 위해서는 마켓 구분 코드가 필요합니다.\n\n`PurchaseClientImpl` 객체를 초기화시 SDK는 결제 모듈과 연결을 시도합니다. 이 때 연결이 성공적으로 완료되면 _자동으로_ `StoreCode`를 가져옵니다.\n\n`PurchaseClientImpl.StoreCode` 변수에 할당되어 있습니다.\n",
      "start_pos": 260670,
      "end_pos": 260951
    },
    {
      "content": "\n### 설치 마켓 확인하기&#x20;\n\n`StoreEnvironment.GetStoreType()` API는 SDK가 탑재된 애플리케이션이 원스토어를 통해 설치되었는지를 판단하는 기능을 제공합니다.\n\n#### Store Type 정의\n\n해당 API는 `StoreType`을 반환하며, 아래 네 가지 값 중 하나를 가집니다.\n\n<table><thead><tr><th width=\"240\">StoreType</th><th width=\"71\">value</th><th>description</th></tr></thead><tbody><tr><td><code>StoreType.UNKNOWN</code></td><td>0</td><td>앱 설치 스토어 정보를 알 수 없음 <em>(APK 직접 설치, 출처 불명 등)</em></td></tr><tr><td><code>StoreType.ONESTORE</code></td><td>1</td><td>ONE Store에서 설치됨 <em>(또는 개발자 옵션이 활성화된 경우)</em></td></tr><tr><td><code>StoreType.VENDING</code></td><td>2</td><td>Google Play Store에서 설치됨</td></tr><tr><td><code>StoreType.ETC</code></td><td>3</td><td>기타 스토어에서 설치됨</td></tr></tbody></table>\n\n#### API 사용 방법\n\n해당 API는 `StoreEnvironment.GetStoreType()`을 호출하여 사용할 수 있습니다.\n",
      "start_pos": 261098,
      "end_pos": 261890
    },
    {
      "content": "\n#### 스토어 판단 기준\n\n이 API는 세 가지 방법을 통해 설치된 스토어를 판별합니다.\n\n1. &#x20;원스토어 마켓 서명을 통해 배포된 경우\n   1. 원스토어의 마켓 서명을 통한 배포 여부를 확인하여, 원스토어에서 설치된 앱인지 확인합니다.\n2. Installer Package Name을 기반으로 판별\n   1. 원스토어의 마켓 서명을 통해 배포되지 않은 경우, PackageManager.getInstallerPackageName() API를 이용하여 앱 설치 시 사용된 스토어 정보를 확인합니다.\n3. 개발자 옵션(`onestore:dev_option`)이 활성화된 경우\n   1. onestore:dev\\_option 이 설정 되어있으면 무조건 StoreType.ONESTORE로 응답합니다.\n\n### 원스토어 서비스 설치하기 <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n원스토어 서비스의 버전이 낮거나 없을 경우 인앱결제를 이용할 수 없습니다. _최초 API 호출 시_  우선 원스토어 서비스와 연결 시도를 먼저 합니다. 이때 `RESULT_NEED_UPDATE`가 발생하면 `LaunchUpdateOrInstallFlow()` 메서드를 호출해야 합니다.\n",
      "start_pos": 262474,
      "end_pos": 263119
    },
    {
      "content": "\n### 원스토어 로그인 요청하기  <a href=\"#id-12.unity-sdkv21\" id=\"id-12.unity-sdkv21\"></a>\n\n원스토어 인앱 SDK는 사용자가 원스토어에 로그인이 되어 있어야 동작합니다. 내부적으로 우선 로그인 토큰으로 로그인을 시도합니다. 실패하거나 최초 로그인같이 사용자의 정보가 없을 경우 포그라운드 로그인 화면을 띄워 사용자로 하여금 로그인을 유도합니다.\n",
      "start_pos": 263199,
      "end_pos": 263428
    },
    {
      "content": "\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/unitymig.md\n# 13. Unity에서 IAP SDK v21로 업그레이드 하기\n\n### **Unity 용 v21 라이브러리 파일 업데이트하기** <a href=\"#id-13.unity-iapsdkv21-unity-v21\" id=\"id-13.unity-iapsdkv21-unity-v21\"></a>\n\n{% hint style=\"info\" %}\n단, 라이브러리 파일만 교체했을 경우 IAP SDK v21에서 새롭게 제공하는 복수 구&#xB9E4;_**,**_ 구독  등의 기능은 사용할 수 없습니다.\n{% endhint %}\n\n#### v19 라이브러리 파일 삭제하기 <a href=\"#id-13.unity-iapsdkv21-v19\" id=\"id-13.unity-iapsdkv21-v19\"></a>\n\n| Assets > Plugins > Android | <ul><li>iap_sdk-v19.00.xx.aar</li><li>iap_adapter-v1.x.x.aar</li></ul> |\n| -------------------------- | ---------------------------------------------------------------------- |\n| Assets > StreamingAssets   | <ul><li>global-appstores.json</li></ul>                                |\n\n#### AndroidManifest.xml에서 엘리먼트 제거하기 <a href=\"#id-13.unity-iapsdkv21-androidmanifest.xml\" id=\"id-13.unity-iapsdkv21-androidmanifest.xml\"></a>\n\nAssets > Plugins > Android > AndroidManifest.xml\n\nProxyActivity 와 iap\\_version 메타 데이터 제거합니다.\n",
      "start_pos": 263590,
      "end_pos": 264601
    },
    {
      "content": "\n#### [Unity용 v21 라이브러리 파일](https://github.com/ONE-store/unity_plugins/tree/archive)을 추가하기  <a href=\"#id-13.unity-iapsdkv21-unity-v21\" id=\"id-13.unity-iapsdkv21-unity-v21\"></a>\n\n아래의 폴더에 라이브러리 파일을 추가합니다.\n\n| Assets > Plugins > Android | <ul><li>sdk-base-v1.0.0.aar</li><li>sdk-auth-v1.0.1.aar</li><li>sdk-iap-v21.00.00.aar</li><li>sdk-configuration-kr-v1.0.0.aar</li><li>iap-unity-adapter-v2.0.0.aar</li></ul> |\n| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n\n\\\n\n\n\\\n\n\n### IAP SDK v21의 새로운 기능을 사용하기 위해 업그레이드하기 <a href=\"#id-13.unity-iapsdkv21-iapsdkv21\" id=\"id-13.unity-iapsdkv21-iapsdkv21\"></a>\n\n#### v19 \".unitypackage\"에서 추가되었던 파일 삭제하기 <a href=\"#id-13.unity-iapsdkv21-v19-.unitypackage\" id=\"id-13.unity-iapsdkv21-v19-.unitypackage\"></a>\n\n| Assets > Plugins > Android  | <ul><li>iap_sdk-v19.00.xx.aar</li><li>iap_adapter-v1.x.x.aar</li></ul>                                                                                             |\n| --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| Assets > Scripts > Purchase | <ul><li>GaaIapCallManager.cs</li><li>GaaIapCallbackManager.cs</li><li>GaaIapResultListener.cs</li><li>GaaIapPurchaseResponse.cs</li><li>AndroidNative.cs</li></ul> |\n| Assets > StreamingAssets    | <ul><li>global-appstores.json</li></ul>                                                                                                                            |\n\n#### AndroidManifest.xml에서 엘리먼트 제거하기 <a href=\"#id-13.unity-iapsdkv21-androidmanifest.xml-.1\" id=\"id-13.unity-iapsdkv21-androidmanifest.xml-.1\"></a>\n\nAssets > Plugins > Android > AndroidManifest.xml\n\nProxyActivity 와 iap\\_version 메타 데이터 제거합니다.\n",
      "start_pos": 265098,
      "end_pos": 267032
    },
    {
      "content": "\n#### GameObject 제거하기 <a href=\"#id-13.unity-iapsdkv21-gameobject\" id=\"id-13.unity-iapsdkv21-gameobject\"></a>\n\nGaaIapCallbackManager 게임 오브젝트 제거합니다.\\\nv21이 적용된 Unity Plugin에서는 이제 GameObject를 수동으로 추가할 필요가 없습니다.\n\n<figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2FdGcTYMjcwzbmDh2CQfYm%2Fimage.png?alt=media&#x26;token=fff19c74-c179-4762-b9ac-c98fbada7c5d\" alt=\"\"><figcaption></figcaption></figure>\n\n위의 모든 작업을 수행하였다면 IAP SDK v21을 적용하기에 앞서 사전 준비가 완료되었습니다.\n\n이제 12. Unity에서 원스토어 인앱결제 사용하기 가이드를 참조하여 적용하시면 됩니다.\n\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/flutter.md\n# 14. Flutter에서 원스토어 인앱 결제 사용하기\n\n## 개요 <a href=\"#undefined\" id=\"undefined\"></a>\n\nFlutter 환경에서 구현된 어플리케이션에서 원스토어 결제 라이브러리의 최신 기능 제공합니다. 이 가이드는 원스토어 결제 라이브러리 기능을 Flutter 환경에서 적용하는 방법을 설명합니다.\n\n## 개발 버전 <a href=\"#undefined-1\" id=\"undefined-1\"></a>\n\n\n\n<table data-view=\"cards\"><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td><strong>Flutter</strong></td><td>3.3.0</td><td></td></tr><tr><td><strong>Java SDK (Java 11)</strong></td><td><p>Purchase: v21.02.01</p><p>App License Checker: v2.2.1</p></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table>\n\n## 플러그인 설정 <a href=\"#undefined-2\" id=\"undefined-2\"></a>\n\n### pubspec.yaml 파일에 플러그인 추가하기 <a href=\"#pubspec.yaml\" id=\"pubspec.yaml\"></a>\n\n`flutter pub get` 을 통하여 패키지를 다운로드합니다.\n",
      "start_pos": 267529,
      "end_pos": 268951
    },
    {
      "content": "\n### Android build.gradle에 종속성 추가하기 <a href=\"#android-build.gradle\" id=\"android-build.gradle\"></a>\n\nTop-Level build.gradle 파일에 maven repository 주소 추가하기\n",
      "start_pos": 268999,
      "end_pos": 269159
    },
    {
      "content": "\n### AndroidMainifest.xml 파일에 \\<queries> 추가하기 <a href=\"#androidmainifest.xml-less-than-queries-greater-than\" id=\"androidmainifest.xml-less-than-queries-greater-than\"></a>\n\n* 참고: [https://developer.android.com/training/package-visibility](https://developer.android.com/training/package-visibility)\n\n`<manifest>` 태그의 직속 하위에 위치하며, 아래와 같은 요소를 추가해야 합니다.\n",
      "start_pos": 269282,
      "end_pos": 269639
    },
    {
      "content": "\n### 스토어 지정을 위한 개발자 옵션 설정 <a href=\"#undefined-3\" id=\"undefined-3\"></a>\n\n#### v21.02.00 업데이트 – 글로벌 스토어 선택 기능 추가\n\nIAP SDK 21.02.00 부터 아래와 같이 `onestore:dev_option`의 `android:value` 값을 설정하면, SDK와 연동되는 스토어 앱을 지정 할 수 있습니다.\n\n`<application>` 태그 직속 하위에 위치하며, 아래와 같은 요소를 추가합니다.\n",
      "start_pos": 269995,
      "end_pos": 270271
    },
    {
      "content": "\n<table><thead><tr><th>값 (android:value)</th><th> 적용 대상 국가/지역</th><th data-hidden></th></tr></thead><tbody><tr><td>onestore_00</td><td>대한민국 (South Korea) <em>(기본값)</em></td><td></td></tr><tr><td>onestore_01</td><td>싱가포르, 타이완 (Singapore, Taiwan)</td><td></td></tr><tr><td>onestore_02</td><td>미국 – Digital Turbine (United States)</td><td></td></tr></tbody></table>\n\n{% hint style=\"warning\" %}\n21.01.00 버전에서는 android:value 값이 global만 설정 가능하며, 싱가포르/타이완 스토어 앱만 지정이 가능했습니다.\n{% endhint %}\n\n{% hint style=\"danger\" %}\n**주의**: 배포 버전의 바이너리에서는 이 옵션을 반드시 제거해주세요.\n{% endhint %}\n\n\n\n\n\n## 앱에서 원스토어 인앱 결제 라이브러리 적용하기 <a href=\"#undefined-4\" id=\"undefined-4\"></a>\n\n### 로그 레벨 설정 <a href=\"#undefined-5\" id=\"undefined-5\"></a>\n\n개발 단계에서 로그 레벨을 설정하여 SDK의 데이터 흐름을 좀 더 자세히 노출할 수 있습니다. [`android.util.Log`](https://developer.android.com/reference/android/util/Log#summary)에 정의된 값을 기반으로 동작합니다.\n",
      "start_pos": 270463,
      "end_pos": 271334
    },
    {
      "content": "\n| 상수             | 값 |\n| -------------- | - |\n| VERBOSE        | 2 |\n| DEBUG          | 3 |\n| INFO (default) | 4 |\n| WARN           | 5 |\n| ERROR          | 6 |\n\n배포 빌드 버전에서는 보안에 취약할 수 있으니 이 옵션을 **삭제**해야 합니다.\n\n### 로그인 요청하기 <a href=\"#undefined-6\" id=\"undefined-6\"></a>\n\n원스토어 인앱 결제는 로그인 기반으로 구동되는 서비스입니다. 앱 최초 시작 시 구매 라이브러리의 API 호출하기 전에 로그인을 유도합니다. 구매 라이브러리 요청 시 토큰 만료나 다른 여러 가지 사항을 미연에 방지할 수 있습니다.\n",
      "start_pos": 271713,
      "end_pos": 272118
    },
    {
      "content": "\n### 구매 라이브러리 초기화 <a href=\"#undefined-7\" id=\"undefined-7\"></a>\n\n`PurchaseClientManager` 인스턴스 초기화를 요청합니다. 이때 필요한 값은 public license key입니다. 이 라이선스 키는 원스토어 개발자 센터에 앱 등록을 완료하면 발급받을 수 있습니다.\n\n![](https://onestore-devs-organization.gitbook.io/~gitbook/image?url=https%3A%2F%2F4053804225-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FvkeBBQAZkfKgt5OwYUGz%252Fuploads%252FGObQR8HoAsqSHCiFEssv%252Fimage.png%3Falt%3Dmedia%26token%3D4f12b345-be5e-4fc5-93ed-0ee5649f4b74\\&width=768\\&dpr=4\\&quality=100\\&sign=664b42fa\\&sv=2)Copy\n",
      "start_pos": 272453,
      "end_pos": 273017
    },
    {
      "content": "\npublic license key는 SDK 내에서 구매 응답에 대한 위변조 체크에 사용됩니다.\n\n### 구매 데이터 업데이트 및 오류 응답 청취하기 <a href=\"#undefined-8\" id=\"undefined-8\"></a>\n\n`PurchaseClientManager.purchasesUpdatedStream` 을 통해 구매 완료 응답을 받을 준비를 합니다.\n",
      "start_pos": 273216,
      "end_pos": 273428
    },
    {
      "content": "\n### 상품 상세 정보 조회하기 <a href=\"#undefined-9\" id=\"undefined-9\"></a>\n\n`PurchaseClientManager.queryProductDetails` API를 통해 원스토어 개발자 센터에 등록된 인앱 상품의 상세 정보를 조회할 수 있습니다.\n\n상품 상세 정보는 [`ProductDetail`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/productdetail) 객체를 담은 리스트로 전달됩니다.\n\n| Parameter   | Type                                                                                                                   | Description |\n| ----------- | ---------------------------------------------------------------------------------------------------------------------- | ----------- |\n| productIds  | List\\<String>                                                                                                          | \b상품 아이디 리스트 |\n| productType | [`ProductType`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype) | 상품 타입       |\n",
      "start_pos": 274247,
      "end_pos": 275154
    },
    {
      "content": "\n요청하는 상품 리스트가 적다면 위의 예제처럼 상품 타입에 따라 개별 요청이 아닌 [`ProductType.all`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-all) 타입으로 요청할 수 있습니다.\n",
      "start_pos": 276237,
      "end_pos": 276467
    },
    {
      "content": "\n등록된 인앱상품의 개수가 많은 경우 응답 지연이 발생할 수 있습니다. 이런 경우 안정성이나 속도 측면에서 400개 단위로 호출 하시는 것을 권장 드립니다.\n\n[`ProductType.all`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-all) 타입은 상품 상세 조회하기에서만 사용할 수 있는 옵션입니다. 다른 API에서는 사용할 수 없습니다.\n\n### 구매 요청하기 <a href=\"#undefined-10\" id=\"undefined-10\"></a>\n\n`PurchaseClientManager.launchPurchaseFlow()` API를 사용하여 구매 요청합니다.\n\n| Parameter        | Type                                                                                                    | Description                                                                                                                                                                                                                                                                             |\n| ---------------- | ------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| productDetail    | [`ProductDetail`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/productdetail) | [상품 상세 정보 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-9) API를 통해 얻는 객체                                                                                                                                               |\n| quantity         | Int                                                                                                     | 수량 (default: 1) 복수 구매 시 max: 10                                                                                                                                                                                                                                                         |\n| developerPayload | String                                                                                                  | <p>개발사 입력 데이터로 필요한 데이터를 구매 요청 때같이 전송하면 구매 결과(<a href=\"https://onestore-dev.gitbook.io/dev/v/eng/tools/tools/v21/references/en-classes/en-purchasedata#id-en-purchasedata-getdeveloperpayload\"><code>PurchaseData.developerPayload</code></a> )에도 포함되어 전송됨</p><p>제약 사항 : max 200byte</p> |\n",
      "start_pos": 277280,
      "end_pos": 279764
    },
    {
      "content": "\n### 정기 결제 업그레이드 또는 다운그레이드 <a href=\"#undefined-11\" id=\"undefined-11\"></a>\n\n정기 결제는 취소될 때까지 자동으로 갱신됩니다. 정기 결제는 다음 상태를 가질 수 있습니다.\n\n* **활성**: 사용자가 콘텐츠 사용에 문제가 없는 양호한 상태이며 정기 결제에 접근할 수 있습니다.\n* **일시 중지 예약**: 사용자가 정기 결제를 이용 중 일시 중지를 하고 싶을 때 선택할 수 있습니다.\n  * 주간 정기 결제: 1\\~3주 단위로 일시 중지할 수 있습니다.\n  * 월간 정기 결제: 1\\~3개월 단위로 일시 중지할 수 있습니다.\n  * 연간 정기 결제: 일시 중지를 지원하지 않습니다.\n* **해지 예약**: 사용자가 정기 결제를 이용 중이지만 취소하고 싶을 때 선택할 수 있습니다. 다음 결제일에 결제가 되지 않습니다.\n* **유예, 보류**: 사용자에게 결제 문제가 발생하면 다음 결제일에 결제가 되지 않습니다. 취소 예약을 할 수 없으며 즉시 \"구독 해지\"를 할 수 있습니다.\n\n정기 결제를 업데이트하기 위해서는 필수로 `비례 배분 모드`를 적용해야 합니다. 아래는 `비례 배분 모드`별 설명입니다.\n\n| Mode                                    | Value | Description                                                                                |\n| --------------------------------------- | ----- | ------------------------------------------------------------------------------------------ |\n| IMMEDIATE\\_WITH\\_TIME\\_PRORATION        | 1     | 정기 결제의 교체가 즉시 이루어지며, 남은 시간은 가격 차이를 기반으로 조정되어 입금되거나 청구됩니다. (이것은 기본 동작입니다.)                  |\n| IMMEDIATE\\_AND\\_CHARGE\\_PRORATED\\_PRICE | 2     | 정기 결제의 교체가 즉시 이루어지며, 청구 주기는 동일하게 유지됩니다. 나머지 기간에 대한 가격이 청구됩니다. (이 옵션은 업그레이드에서만 사용할 수 있습니다.) |\n| IMMEDIATE\\_WITHOUT\\_PRORATION           | 3     | 정기 결제의 교체가 즉시 이루어지며, 다음 결제일에 새로운 가격이 청구됩니다. 청구 주기는 동일하게 적용됩니다.                             |\n| DEFERRED                                | 4     | 기존 요금제가 만료되면 교체가 적용되며 새 요금이 동시에 청구됩니다.                                                     |\n\n`PurchaseClientManager.launchUpdateSubscription()` API를 통해 요청할 수 있습니다.\n\n정기결제는 [구매 요청하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-10)와 동일한 API를 사용하여 사용자에게 업그레이드 또는 다운그레이드를 제공할 수 있습니다. 다만, 정기 결제의 업그레이드 다운그레이드를 적용하기 위해선 기존 정기 결제 구매 토큰과 비례 배분 모드 값이 필수로 필요합니다.\n\n| Parameter       | Type                                                                                                                           | Description                                                                                                                               |\n| --------------- | ------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------- |\n| productDetail   | [`ProductDetail`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/productdetail)                        | [상품 상세 정보 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-9) API를 통해 얻는 객체 |\n| oldPurchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata)                          | [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13) API를 통해 얻는 객체   |\n| prorationMode   | [`ProrationMode`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseflowparams.prorationmode) | 비례 배분 모드                                                                                                                                  |\n",
      "start_pos": 280249,
      "end_pos": 283487
    },
    {
      "content": "\n### 구매 후 처리 <a href=\"#undefined-12\" id=\"undefined-12\"></a>\n\n* `PurchaseClientManager.launchPurchaseFlow()`\n* `PurchaseClientManager.launchUpdateSubscription()`\n\nAPI를 사용하여 구매가 성공적으로 이루어졌다면 [구매 데이터 업데이트 및 오류 응답 청취하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-8)서 등록한 `_listenToPurchasesUpdated()` 를 통해 응답을 받을 수 있습니다.\n\n성공적으로 구매 완료되어 응답을 받았다면, 사용자는 소비(Consume) 또는 확인(Acknowledge) 작업을 하는 것이 매우 중요합니다.\n\n3일 이내에 구매를 확인(_acknowledge_) 또는 소비(_consume_)를 하지 않으면 사용자에게 상품이 지급되지 않았다고 판단되어 자동으로 환불됩니다.\n",
      "start_pos": 284006,
      "end_pos": 284566
    },
    {
      "content": "\n#### **소비하기 (Consume)**\n\n`PurchaseClientManager.consumePurchase()` API를 사용하여 관리형 상품([`ProductType.inapp`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-inapp))을 소비합니다.\n\n관리형 상품([`ProductType.inapp`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-inapp))은 소비를 하지 않으면 재 구매가 불가합니다.\n\n관리형 상품([`ProductType.inapp`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-inapp))은 API 사용에 따라 두 가지로 사용될 수 있습니다.\n\n* 소모성 상품: 구매 요청 → 응답 → 아이템 지급 → `consumePurchase`\n* 기간제 상품: 구매 요청 → 응답 → 아이템 지급 → `acknowledgePurchase` → 일정 기간이 지난 후 → `consumePurchase`\n\n| Parameter    | Type                                                                                                  | Description                                                                                                                                                                                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| purchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) | [구매 완료](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-12) 또는 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 얻는 PurchaseData |\n",
      "start_pos": 285663,
      "end_pos": 287622
    },
    {
      "content": "\n#### **확인하기 (Acknowledge)**\n\n`PurchaseClientManager.acknowledgePurchase()` API를 사용하여 관리형 상품([`ProductType.inapp`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-inapp)) 또는 구독형 상품([`ProductType.subs`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-subs))의 확인을 요청합니다.\n\n구독형 상품([`ProductType.subs`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-subs))는 소비(Consume)는 할 수 없고 확인(Acknowledge)만 가능합니다.\n\n| Parameter    | Type                                                                                                  | Description                                                                                                                                                                                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| purchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) | [구매 완료](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-12) 또는 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 얻는 PurchaseData |\n",
      "start_pos": 288131,
      "end_pos": 289951
    },
    {
      "content": "\n확인 작업이 완료되었다면 구독형 상품([`ProductType.subs`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype#id-a-purchaseclient.producttype-subs))의 경우 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) 업데이트해야 [`PurchaseData.isAcknowledged`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata#id-c-purchasedata-isacknowledged) 값이 변경된 것을 확인할 수 있습니다.\n\n### 구매 내역 조회하기 <a href=\"#undefined-13\" id=\"undefined-13\"></a>\n\n`PurchaseClientManager.queryPurchases()` API를 사용하여 소비되지 않은 구매 내역을 요청합니다.\n\n구매 내역 조회하기의 응답 데이터는 [구매 데이터 업데이트 및 오류 응답 청취하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-8) 통해 받는 데이터와 동일합니다.\n\n구매 완료 후 데이터를 처리하는 것만으로는 앱이 모든 구매를 처리하는 것을 보장하기에 충분하지 않습니다. 앱에서 사용자가 구매한 모든 항목을 인식하지 못할 수 있습니다. 앱에서 구매 추적을 놓치거나 구매를 인식하지 못할 수 있는 몇 가지 시나리오는 다음과 같습니다.\n\n* **구매 중 네트워크 문제**: 사용자가 구매를 성공적으로 완료하고 원스토어에서 확인을 받았지만 기기가 구매 알림을 받기 전에 네트워크 연결이 끊어졌을 경우\n* **여러 기기**: 사용자는 한 기기에서 항목을 구입한 후 기기를 전환할 때 이 항목이 표시되기를 기대합니다.\n\n이러한 상황에 대처하려면 구매 내역 조회하기 API를 상황에 맞게 호출해야 합니다.\n\n* 어플리케이션 처음 구동시\n* 어플리케이션이 백그라운드에서 포그라운드로 재 진입했을 경우\n* 상점 진입 시\n\n어플리케이션의 상황에 맞게 사용해 주세요.\n\n| Parameter   | Type                                                                                                                   | Description |\n| ----------- | ---------------------------------------------------------------------------------------------------------------------- | ----------- |\n| productType | [`ProductType`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.producttype) | 상품 타입       |\n",
      "start_pos": 290467,
      "end_pos": 292275
    },
    {
      "content": "\n### 정기 결제 관리 화면 열기 <a href=\"#undefined-14\" id=\"undefined-14\"></a>\n\n`PurchaseClientManager.launchManageSubscription()` API를 사용하여 구독 상품의 상세 페이지로 이동합니다.\n\n구독 상품의 설정 변경은 유저의 몫으로 관리 메뉴에서 할 수 있는 것들은 아래와 같습니다.\n\n* 결제 수단 변경\n* 구독 상태 변경 (해지 예약, 취소)\n* 기 구독한 상품의 가격 변경 동의\n\n[`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) 값이 null일 경우 특정 구독 상품의 상세 페이지가 아닌 정기 결제 리스트 화면으로 이동합니다.\n\n| Parameter    | Type                                                                                                  | Description                                                                                                                                                                                                                                                           |\n| ------------ | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| purchaseData | [`PurchaseData`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/classes/purchasedata) | [구매 완료](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-12) 또는 [구매 내역 조회하기](https://onestore-devs-organization.gitbook.io/guide-inapp-sdk/sdk-purchase-v21/flutter-sdk-v21#undefined-13)를 통해 얻는 PurchaseData |\n",
      "start_pos": 293158,
      "end_pos": 294739
    },
    {
      "content": "\n\n\n### StoreEnvironment API 기능 추가 <a href=\"#undefined-15\" id=\"undefined-15\"></a>\n\n`StoreEnvironment.getStoreType()` API는 SDK가 탑재된 애플리케이션이 원스토어를 통해 설치되었는지를 판단하는 기능을 제공합니다.\n\n#### &#x20;Store Type 정의\n\n해당 API는 `StoreType`을 반환하며, 아래 네 가지 값 중 하나를 가집니다.\n\n<table><thead><tr><th width=\"235\">StoreType</th><th width=\"81\">value</th><th>description</th></tr></thead><tbody><tr><td><code>StoreType.UNKNOWN</code></td><td>0</td><td>앱 설치 스토어 정보를 알 수 없음 <em>(APK 직접 설치, 출처 불명 등)</em></td></tr><tr><td><code>StoreType.ONESTORE</code></td><td>1</td><td>ONE Store에서 설치됨 <em>(또는 개발자 옵션이 활성화된 경우)</em></td></tr><tr><td>StoreType.VENDING</td><td>2</td><td>Google Play Store에서 설치됨</td></tr><tr><td>StoreType.ETC</td><td>3</td><td>기타 스토어에서 설치됨</td></tr></tbody></table>\n\n#### API 사용 방법\n\n해당 API는 `StoreEnvironment.getStoreType()`을 호출하여 사용할 수 있습니다.\n",
      "start_pos": 295033,
      "end_pos": 295864
    },
    {
      "content": "\n**스토어 판단 기준**\n\n이 API는 세 가지 방법을 통해 설치된 스토어를 판별합니다.\n\n1. 원스토어 마켓 서명을 통해 배포된 경우\n   1. 원스토어의 마켓 서명을 통한 배포 여부를 확인하여, 원스토어에서 설치된 앱인지 확인합니다.\n2. Installer Package Name을 기반으로 판별\n   1. 원스토어의 마켓 서명을 통해 배포되지 않은 경우, PackageManager.getInstallerPackageName() API를 이용하여 앱 설치 시 사용된 스토어 정보를 확인합니다.\n3. 개발자 옵션(`onestore:dev_option`)이 활성화된 경우\n   1. onestore:dev\\_option 이 설정 되어있으면 무조건 StoreType.ONESTORE로 응답합니다.\n\n**활용 예시**\n\n스토어별 UI 차별화 적용\n\n원스토어와 다른 앱 마켓에서 제공하는 결제 시스템이 다를 경우, UI를 다르게 설정할 수 있습니다.\n",
      "start_pos": 296277,
      "end_pos": 296760
    },
    {
      "content": "\n스토어별 기능 차단\n\n특정 기능을 원스토어에서만 사용하도록 설정할 수 있습니다.\n",
      "start_pos": 296907,
      "end_pos": 296961
    },
    {
      "content": "\n\n\n## 원스토어 서비스 설치하기 <a href=\"#undefined-15\" id=\"undefined-15\"></a>\n\n`PurchaseClientManager.launchUpdateOrInstall()` API를 호출하여 '원스토어 서비스 앱'을 설치할 수 있습니다.\n\n`PurchaseClientManager` API를 사용하는 중에 에러 응답 중 [`RESULT_NEED_UPDATE`](https://onestore-dev.gitbook.io/dev/tools/tools/v21/references/annotations/purchaseclient.responsecode#id-a-purchaseclient.responsecode-result_need_update) 코드가 발생했을 경우가 있습니다. 이는 원스토어 서비스 앱이 설치되지 않았거나 In-app SDK에서 요구하는 버전보다 낮을 경우 발생합니다.\n",
      "start_pos": 297122,
      "end_pos": 297587
    },
    {
      "content": "\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/web-payment.md\n# 15. 웹 결제 규격 적용하기\n\n## 개요\n\n웹 환경에서 원스토어 인앱결제를 이용하기 위한 연동 방법을 설명합니다.\n\n* [회원 인증](web-payment/member) &#x20;\n* [웹에서 원스토어 인앱 결제 사용하기](web-payment/uiapw)\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/web-payment/member.md\n# 회원 인증\n\n## 1.개요 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-1\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-1\"></a>\n\nWindows 앱을 EXE 유형으로 서비스 하는 경우 웹 결제 규격을 연동해야 합니다.\\\n웹 결제 규격 연동 시 회원 인증(로그인)이 필요하므로 이 규격서를 제공합니다.\n\n* 결제 서버 API는 회원 인증(로그인) 시 제공되는 OAuth Token(이하 User Access Token)을 이용합니다.\n* 결제 시마다 회원 인증(로그인)을 수행하지 않도록 OAuth 인증을 지원합니다.\n\n\n\n## 2.주의사항 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-2\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-2\"></a>\n\nEmbedded Browser(웹뷰)에서 구글 SDK를 적용하지 않고, 구글 Oauth 로그인을 시도하는 경우 403 에러가 발생합니다. \\\n아래의 방법을 통해 403 에러를 방지할 수 있습니다. &#x20;\n\n* Embedded Browser가 아닌 새 창으로 로그인을 시도합니다.&#x20;\n* UserAgent 정보를 수정하여 Embedded Browser가 아닌 웹으로 인식하도록 처리합니다.&#x20;\n\n\n\n## 3.회원 인증 플로우 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-3\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-3\"></a>\n\n### 3.1 Conceptual View <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-3\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-3\"></a>\n\n<figure><img src=\"https://1837360763-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2Fot0z57AnnXZ02C5qyePV%2Fuploads%2FO8FPHSpDj37xXZJyPd1X%2Fimage.png?alt=media&#x26;token=1b516c92-0a38-4187-9b38-a9d4cf5c07c4\" alt=\"\"><figcaption></figcaption></figure>\n\n### 3.2 논리 API ↔ 물리 API 규격 매핑 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-3.2-api-api\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-3.2-api-api\"></a>\n\nConceptual View'에 표기된 논리 API들이 매핑되는 물리 API 규격은 다음과 같습니다.\n\n<table><thead><tr><th width=\"81.4444580078125\" valign=\"top\">No</th><th width=\"150.88897705078125\" valign=\"top\">Flow</th><th valign=\"top\">논리 API</th><th valign=\"top\">물리 API (연동 규격)</th></tr></thead><tbody><tr><td valign=\"top\">1</td><td valign=\"top\">회원인증</td><td valign=\"top\"><ol><li>Loging UI 요청</li></ol></td><td valign=\"top\">4.2 ONE store 로그인 인증 요청</td></tr><tr><td valign=\"top\">2</td><td valign=\"top\">회원인증</td><td valign=\"top\"><ol start=\"5\"><li>ONEstore UserAccessToken 발급</li></ol></td><td valign=\"top\">4.3 ONE store User Access Token 발급 요청</td></tr></tbody></table>\n\n\n\n\n\n## 4. ONE store 회원인증 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.onestore\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.onestore\"></a>\n\n### 4.1 ONE store 로그인 API 개요 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.1onestore-api\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.1onestore-api\"></a>\n\nONE store 로그인 API는 아래와 같이 구성되어 있습니다.\n\n* ONE store 로그인 인증 요청 API\n* 접근 토큰(User Access Token) 발급/삭제 요청 API\n\nONE store 로그인 인증 요청 API는 개발자 서비스 Web에 ONE store 로그인 화면을 띄우는 API입니다. 사용자가 ONE store 회원 인증에 성공하면 API로부터 받은 임시코드(code) 값을 이용해서 접근 토큰(User Access Token) 발급 요청 API를 호출합니다.\n\n접근 토큰 발급 요청 API를 통해 받은 접근 토큰은 여러가지 Server API들을 호출하는데 사용합니다.\n\n접근 토큰(User Access Token)은 갱신 토큰(Refresh Token)에 비하여 만료기한이 짧으며, 접근 토큰 만료 시 갱신 토큰을 이용하여 새로운 접근 토큰을 발급 받아야 합니다.\n\n토큰 발급 상세 규칙은 '4.1.4 User Access Token 및 Refresh Token 발급 기준'에 명시 되어 있습니다.\n\n\n\n#### **4.1.1 표준 응답코드** <a href=\"#response-code\" id=\"response-code\"></a>\n\n<table data-header-hidden><thead><tr><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\">Code</td><td valign=\"top\">message_ko</td><td valign=\"top\">message_en</td><td valign=\"top\">HTTP Status Code</td><td valign=\"top\">대상API</td><td valign=\"top\">비고</td></tr><tr><td valign=\"top\">Success</td><td valign=\"top\">정상처리 되었습니다.</td><td valign=\"top\">The request has been successfully completed.</td><td valign=\"top\">200 - Success</td><td valign=\"top\">4.4 ONE store User Access Token 삭제 요청<br></td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">RequiredValueNotExist</td><td valign=\"top\">필수값이 존재하지 않습니다. [ field1, field2, ... ]</td><td valign=\"top\">Request parameters are required. [ field1, field2, ... ]</td><td valign=\"top\">400 - Bad Request</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">NoSuchData</td><td valign=\"top\">조회된 결과값이 존재하지 않습니다.</td><td valign=\"top\">The requested data could not be found.</td><td valign=\"top\">404 - Not Found</td><td valign=\"top\">단건 조회 API</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">ResourceNotFound</td><td valign=\"top\">요청한 자원이 존재하지 않습니다.</td><td valign=\"top\">The requested resource could not be found.</td><td valign=\"top\">404 - Not Found</td><td valign=\"top\">공통</td><td valign=\"top\">요청한 URL 자원이 없는 경우</td></tr><tr><td valign=\"top\">InternalError</td><td valign=\"top\">정의되지 않은 오류가 발생하였습니다.</td><td valign=\"top\">An undefined error has occurred.</td><td valign=\"top\">500 - Internal Server Error</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidRequest</td><td valign=\"top\">입력값이 유효하지 않습니다. [ field1, field2, ... ]</td><td valign=\"top\">Request parameters are invalid. [ field1, field2, ... ]</td><td valign=\"top\">400 - Bad Request</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">UserAccessTokenExpired</td><td valign=\"top\">Access 토큰이 만료되었습니다.</td><td valign=\"top\">User Access Token has expired.</td><td valign=\"top\">401 - Unauthorized</td><td valign=\"top\">공통</td><td valign=\"top\"><p>code 및 UserAccessToken 만료 처리</p><ul><li>만료 기한 초과 시</li><li>회원 상태 변동 시 (휴면/탈퇴/통합)</li><li>TStore ID 회원 패스워드 변경 시</li><li>소셜 인증 실패 시<br>(소셜 연동 정보 변동 - 연결 취소 등)</li></ul></td></tr><tr><td valign=\"top\">InvalidRefreshToken</td><td valign=\"top\">잘못된 Refresh Token 입니다.</td><td valign=\"top\">Invalid refresh token</td><td valign=\"top\">400 - Bad Request</td><td valign=\"top\">공통</td><td valign=\"top\">grant_type : refresh_token 경우</td></tr><tr><td valign=\"top\">ExpiredRefreshToken</td><td valign=\"top\">만료된 Refresh Token 입니다.</td><td valign=\"top\">Invalid refresh token (expired)</td><td valign=\"top\">401 - Unauthorized</td><td valign=\"top\">공통</td><td valign=\"top\">grant_type : refresh_token 경우</td></tr><tr><td valign=\"top\">UnauthorizedAccess</td><td valign=\"top\">해당 API에 접근권한이 없습니다.</td><td valign=\"top\">Not authorized to this API.</td><td valign=\"top\">403 - Fobidden<br></td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidUserAccessToken</td><td valign=\"top\">Access 토큰이 유효하지 않습니다.</td><td valign=\"top\">User Access Token is invalid.</td><td valign=\"top\">401 - Unauthorized</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidAuthorizationParam</td><td valign=\"top\">Authorization Param의 값이 유효하지 않습니다.</td><td valign=\"top\">Authorization param is invalid.</td><td valign=\"top\">400 - Bad Request</td><td valign=\"top\">공통</td><td valign=\"top\"><ul><li>code</li><li>올바르지 않은 code</li></ul></td></tr><tr><td valign=\"top\">MethodNotAllowed</td><td valign=\"top\">지원하지 않는 HTTP Method 입니다.</td><td valign=\"top\">HTTP method not supported.</td><td valign=\"top\">405 - Method Not Allowed</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidContentType</td><td valign=\"top\">잘못된 Content Type 입니다.</td><td valign=\"top\">The request content-type is invalid.</td><td valign=\"top\">415 - Unsupported Media Type</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">UserNotExist</td><td valign=\"top\">회원 정보가 존재하지 않습니다. </td><td valign=\"top\">User does not exist.</td><td valign=\"top\">404 - Not Found</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidUser</td><td valign=\"top\">회원 정보가 유효하지 않습니다.</td><td valign=\"top\">User information is not valid.</td><td valign=\"top\">409 - Conflict</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">UnsupportedResponseType</td><td valign=\"top\"><br></td><td valign=\"top\">Unsupported response types: [field1]</td><td valign=\"top\">400 - Bad Request</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">WrongApproach</td><td valign=\"top\"><br></td><td valign=\"top\">The wrong approach.</td><td valign=\"top\">403 - Forbidden</td><td valign=\"top\">공통</td><td valign=\"top\"><br></td></tr></tbody></table>\n\n\\\n\n\n#### **4.1.2 표준 오류응답**\n\n오류응답인 경우 표준 응답코드에 정의된 코드 및 메시지를 전달합니다.\n\n**Example**\n\n| <p>HTTP/1.1 400 Bad Request<br>Content-type: application/json;charset=UTF-8<br>{<br>    \"error\" : {<br>        \"code\" : \"NoSuchData\",<br>        \"message\" : \"The requested data could not be found.\"<br>    }<br>}</p> |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n\n\n\n#### **4.1.3 client\\_id와 client\\_secret**\n\nclient\\_id와 client\\_secret 값은 \"개발자센터 > 상품현황 > 앱 상세 > 공통정보 > 라이선스 관리\" 메뉴를 통해 확인할 수 있습니다. \\\n\n\n#### **4.1.4 User Access Token 및 Refresh Token 발급 기준**\n\nONE store User Access Token은 Client ID(=게임/앱)와 원스토어 사용자의 회원 ID 기준으로 발급됩니다.&#x20;\n\n* grant\\_type : authorization\\_code\n  * 사용자의 명시적 로그인이기 때문에 기존 token이 유효하지 않아도 신규 발급\n  *   user\\_access\\_token, refresh\\_token\n\n      * 기존 유효한 (user\\_access, refresh) token이 있는 경우 기존 value 응답\n      * 기존 유효한 (user\\_access, refresh) token이 없는 경우 신규 발급\n\n      \\\n\n* grant\\_type : refresh\\_token\n  * refresh\\_token\n    * 유효한 refresh\\_token이 없는 경우 오류 응답\n    * 유효한 refresh\\_token이 있는 경우 만료기한 연장(초기화: 기본 35일)\n  * user\\_access\\_token\n    * 기존 유효한 user\\_access\\_token이 있는 경우 기존 value 응답\n    * 기존 유효한 user\\_access\\_token이 없는 경우 신규 발급\\\n      \\\n\n* 토큰 삭제 시 refresh\\_token, user\\_access\\_token 함께 삭제 됨\n\n\\\n\n\n### 4.2 ONE store 로그인 인증 요청 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.2onestore\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.2onestore\"></a>\n\n**\\[ API Spec. ]**\n\n<table data-header-hidden><thead><tr><th width=\"229.5555419921875\"></th><th></th><th data-hidden></th><th data-hidden></th></tr></thead><tbody><tr><td><strong>Protocol</strong></td><td>HTTPS</td><td></td><td></td></tr><tr><td><strong>Content-Type</strong></td><td>application/x-www-form-urlencoded</td><td></td><td></td></tr><tr><td><strong>Method</strong></td><td>GET/POST</td><td></td><td></td></tr><tr><td><strong>응답 포맷</strong></td><td>URL Redirect</td><td></td><td></td></tr><tr><td><strong>Path</strong></td><td><p>상용</p><p> - <a href=\"https://accounts.onestore.net/oauth2.0/authorize\">https://accounts.onestore.net/oauth2.0/authorize</a></p><p>개발</p><p> - <a href=\"https://qa-accounts.onestore.co.net/oauth2.0/authorize\">https://qa-accounts.onestore.co.net/oauth2.0/authorize</a></p></td><td></td><td></td></tr><tr><td><strong>Description</strong></td><td><p>ONE store OAuth 이용 시 로그인 페이지</p><p>오류 코드 참고 : <a href=\"#id-4.1.1\">표준 응답코드</a></p></td><td></td><td></td></tr></tbody></table>\n\n**\\[ Request ]**\n\n**Parameter**\n\n<table data-header-hidden><thead><tr><th valign=\"top\"></th><th width=\"100.3333740234375\" valign=\"top\"></th><th valign=\"top\"></th><th width=\"109\" valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Parameter Name</strong></td><td valign=\"top\"><strong>Type</strong></td><td valign=\"top\"><strong>Description</strong></td><td valign=\"top\"><strong>Required</strong></td><td valign=\"top\"><strong>Remarks</strong></td></tr><tr><td valign=\"top\">response_type</td><td valign=\"top\">String</td><td valign=\"top\">인증 과정에 대한 내부 구분값으로 'code'로 전송해야 함</td><td valign=\"top\">Y</td><td valign=\"top\"><ul><li>code</li></ul></td></tr><tr><td valign=\"top\">client_id</td><td valign=\"top\">String</td><td valign=\"top\">OAuth Client Id</td><td valign=\"top\">Y</td><td valign=\"top\">Android OS Application의 Package Name을 사용</td></tr><tr><td valign=\"top\">redirect_uri</td><td valign=\"top\">String</td><td valign=\"top\">등록 시 입력한 Callback URL 값으로 URL 인코딩을 적용한 값</td><td valign=\"top\">Y</td><td valign=\"top\">URL 인코딩</td></tr><tr><td valign=\"top\">state</td><td valign=\"top\">String</td><td valign=\"top\">사이트 간 요청 위조(cross-site request forgery) 공격을 방지하기 위해<br>개발자 측에서 생성한 상태 토큰값으로 URL 인코딩을 적용한 값을 사용</td><td valign=\"top\">Y</td><td valign=\"top\"><ul><li>URL 인코딩</li><li>개발자 측에서 생성/전달. ONE store 측은 넘겨받은 값을 그대로 리턴</li></ul></td></tr><tr><td valign=\"top\">scope</td><td valign=\"top\">String</td><td valign=\"top\">접근 허용 범위를 처리하기 위한 내부 구분값</td><td valign=\"top\">Y</td><td valign=\"top\"><ul><li>user_payment</li></ul></td></tr></tbody></table>\n\n**Header**\n\n<table data-header-hidden><thead><tr><th width=\"170.4444580078125\" valign=\"top\"></th><th width=\"114.7777099609375\" valign=\"top\"></th><th width=\"307.888916015625\" valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Parameter Name</strong></td><td valign=\"top\"><strong>Type</strong></td><td valign=\"top\"><strong>Description</strong></td><td valign=\"top\"><strong>Required</strong></td></tr><tr><td valign=\"top\">x-market-code</td><td valign=\"top\">String</td><td valign=\"top\"><p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어(대한민국) </li><li>MKT_GLB: 원스토어(대한민국 외)</li></ul></td><td valign=\"top\">Y</td></tr></tbody></table>\n\n**Example**\n\n| [https://accounts.onestore.net/oauth2.0/authorize?response\\_type=code\\&client\\_id=client\\_id\\_example\\&redirect\\_uri=http%3A%2F%2Fservice.redirect.url%2Fsubpath\\&state=hLiDdL2uhPtsftcU\\&scope=user\\_payment](https://accounts.onestore.net/oauth2.0/authorize?response_type=code\\&client_id=client_id_example\\&redirect_uri=http%3A%2F%2Fservice.redirect.url%2Fsubpath\\&state=hLiDdL2uhPtsftcU\\&scope=user_payment) |\n| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n\n**\\[ Response ]**\n\n* ONE store 로그인 인증 요청 API를 호출 했을 때 사용자가 로그인되지 않은 상태이면 로그인 화면으로 이동합니다.\n* 사용자 로그인 완료 후 약관 및 정보 제공 동의 등이 필요한 경우 해당 화면으로 이동합니다.\n* 로그인과 동의 과정이 완료되면 콜백 URL에 code값과 state 값이 URL 문자열로 전송됩니다.\n* code 값은 접근 토큰(User Access Token) 발급 요청에 사용됩니다.\\\n  \\\n\n\n<table data-header-hidden><thead><tr><th width=\"167.4444580078125\" valign=\"top\"></th><th width=\"108.111083984375\" valign=\"top\"></th><th valign=\"top\"></th><th></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Element Name</strong></td><td valign=\"top\"><strong>Type</strong></td><td valign=\"top\"><strong>Description</strong></td><td>Remarks</td></tr><tr><td valign=\"top\">code</td><td valign=\"top\">String</td><td valign=\"top\"><p> - 로그인 인증에 성공하면 반환받는 인증 코드</p><p> - 접근 토큰(User Access Token) 발급에 사용</p></td><td><ul><li>length : 50</li><li>영문 대소문자 및 숫자로 구성</li><li>만료기한 5분</li></ul></td></tr><tr><td valign=\"top\">state<br></td><td valign=\"top\">String</td><td valign=\"top\">사이트 간 요청 위조 공격을 방지하기 위해 개발자 측에서 생성한 상태 토큰</td><td><ul><li>URL 인코딩</li><li>요청 시 넘겨준 값을 그대로 리턴</li></ul></td></tr><tr><td valign=\"top\">error_code</td><td valign=\"top\">String</td><td valign=\"top\">로그인 인증에 실패하면 반환받는 에러 코드</td><td>오류 코드 참고 : <a href=\"#response-code\">표준 응답코드</a></td></tr><tr><td valign=\"top\">error_message</td><td valign=\"top\">String</td><td valign=\"top\"> 로그인 인증에 실패하면 반환받는 에러 메시지</td><td><br></td></tr></tbody></table>\n\n**Example**\n\n| <p>인증 절차 완료 후</p><ul><li>API 요청 성공시 : http://콜백URL?code={code값}&#x26;state={state값}</li><li>API 요청 실패시 : http://콜백URL?state={state값}&#x26;error_code={에러코드값}&#x26;error_message={에러메시지}</li></ul> |\n| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n\n\n\n**오류 유형 정리**\n\n<table data-header-hidden><thead><tr><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\">코드</td><td valign=\"top\">응답 방식</td><td valign=\"top\"><strong>발생 조건</strong></td><td valign=\"top\">전문 (메세지 및 화면내용)</td><td valign=\"top\">기타 설명</td></tr><tr><td valign=\"top\">RequiredValueNotExist</td><td valign=\"top\">PAGE</td><td valign=\"top\">필수값 누락<br>- response_type<br>- client_id<br>- state<br>- scope<br>- redirect_uri</td><td valign=\"top\">Request parameters are required. [ {누락 파라미터} ]</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">UnsupportedResponseType</td><td valign=\"top\">REDIRECTION</td><td valign=\"top\">파라미터 유효성<br>- response_type ≠ code</td><td valign=\"top\">{redirect_uri}?error_code=UnsupportedResponseType&#x26;error_message=Unsupported response types: [{response_type}]</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidRequest</td><td valign=\"top\">PAGE</td><td valign=\"top\">파라미터 유효성<br>- 미발급 client_id</td><td valign=\"top\">Request parameters are invalid. [ client_id ]</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidRedirect</td><td valign=\"top\">PAGE</td><td valign=\"top\">파라미터 유효성<br>- 미등록 redirect_uri</td><td valign=\"top\">Invalid redirect</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidScope</td><td valign=\"top\">REDIRECTION</td><td valign=\"top\">파라미터 유효성<br>- scope ≠ user_payment</td><td valign=\"top\">{redirect_uri}?error_code=InvalidScope&#x26;error_message=Invalid scope</td><td valign=\"top\">접속 후 인증 요청 시 발생</td></tr><tr><td valign=\"top\">WrongApproach</td><td valign=\"top\">PAGE</td><td valign=\"top\">로그인 URI 직접 접근</td><td valign=\"top\">The wrong approach.</td><td valign=\"top\">/oauth2.0/login 직접 접근</td></tr></tbody></table>\n\n\\\n\n\n### 4.3 ONE store User Access Token 발급 요청 <a href=\"#id-greater-than-apiv7-greater-than-15.-greater-than-4.3onestoreuseraccesstoken\" id=\"id-greater-than-apiv7-greater-than-15.-greater-than-4.3onestoreuseraccesstoken\"></a>\n\n**\\[ API Spec. ]**\n\n<table data-header-hidden><thead><tr><th width=\"217.33331298828125\" valign=\"top\"></th><th valign=\"top\"></th><th data-hidden valign=\"top\"></th><th data-hidden valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Protocol</strong></td><td valign=\"top\">HTTPS</td><td valign=\"top\"></td><td valign=\"top\"></td></tr><tr><td valign=\"top\"><strong>Content-Type</strong></td><td valign=\"top\">application/x-www-form-urlencoded</td><td valign=\"top\"></td><td valign=\"top\"></td></tr><tr><td valign=\"top\"><strong>Method</strong></td><td valign=\"top\">POST</td><td valign=\"top\"></td><td valign=\"top\"></td></tr><tr><td valign=\"top\"><strong>응답 포맷</strong></td><td valign=\"top\">application/json</td><td valign=\"top\"></td><td valign=\"top\"></td></tr><tr><td valign=\"top\"><strong>Path</strong></td><td valign=\"top\"><p>상용</p><p> - <a href=\"https://accounts.onestore.net/oauth2.0/token\">https://accounts.onestore.net/oauth2.0/token</a></p><p>개발</p><p> - <a href=\"https://accounts.onestore.net/oauth2.0/token\">https://qa-accounts.onestore.net/oauth2.0/token</a></p></td><td valign=\"top\"></td><td valign=\"top\"></td></tr><tr><td valign=\"top\"><strong>Description</strong></td><td valign=\"top\"><ul><li>ONE store User Access Token 발급</li></ul><ul><li>오류 코드 참고 : <a href=\"#id-4.1.1\">표준 응답코드</a></li></ul></td><td valign=\"top\"></td><td valign=\"top\"></td></tr></tbody></table>\n\n**\\[ Request ]**\n\n**Parameter**\n\n<table data-header-hidden><thead><tr><th width=\"161\" valign=\"top\"></th><th width=\"113.77783203125\" valign=\"top\"></th><th valign=\"top\"></th><th width=\"111.22216796875\" valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Parameter Name</strong></td><td valign=\"top\"><strong>Type</strong></td><td valign=\"top\"><strong>Description</strong></td><td valign=\"top\"><strong>Required</strong></td><td valign=\"top\"><strong>Remarks</strong></td></tr><tr><td valign=\"top\">grant_type</td><td valign=\"top\">String</td><td valign=\"top\">접근 토큰 발급 방식에 대한 구분값</td><td valign=\"top\">Y</td><td valign=\"top\"><ul><li>'authorization_code'</li><li>'refresh_token'</li><li>그 외 발급 방식 현재 미정</li></ul></td></tr><tr><td valign=\"top\">client_id</td><td valign=\"top\">String</td><td valign=\"top\">OAuth Client Id</td><td valign=\"top\">Y</td><td valign=\"top\">Android OS Application의 Package Name을 사용</td></tr><tr><td valign=\"top\">client_secret<br></td><td valign=\"top\">String</td><td valign=\"top\">OAuth Client Secret</td><td valign=\"top\">Y</td><td valign=\"top\">ONE store 개발자센터에서 발급한 Client secret 값을 사용</td></tr><tr><td valign=\"top\">code<br></td><td valign=\"top\">String</td><td valign=\"top\">로그인 인증 요청 API 호출에 성공하고 응답 받은 인증코드값 (code)<br></td><td valign=\"top\">N</td><td valign=\"top\">grant_type : authorization_code 경우 필수값</td></tr><tr><td valign=\"top\">refresh_token</td><td valign=\"top\">String</td><td valign=\"top\">User Access Token 발급 시 함께 발급받은 refresh_token 값</td><td valign=\"top\">N</td><td valign=\"top\">grant_type : refresh_token 경우 필수값</td></tr><tr><td valign=\"top\">state<br></td><td valign=\"top\">String</td><td valign=\"top\">사이트 간 요청 위조(cross-site request forgery) 공격을 방지하기 위해<br>개발자 측에서 생성한 상태 토큰값으로 URL 인코딩을 적용한 값을 사용<br></td><td valign=\"top\">Y</td><td valign=\"top\"><ul><li>URL 인코딩</li><li>개발자 측에서 생성/전달, ONE store 측은 넘겨받은 값을 그대로 리턴 함<br></li></ul></td></tr></tbody></table>\n\n**Header**\n\n<table data-header-hidden><thead><tr><th width=\"192.33331298828125\" valign=\"top\"></th><th width=\"138.111083984375\" valign=\"top\"></th><th valign=\"top\"></th><th width=\"151.666748046875\" valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Parameter Name</strong></td><td valign=\"top\"><strong>Type</strong></td><td valign=\"top\"><strong>Description</strong></td><td valign=\"top\"><strong>Required</strong></td></tr><tr><td valign=\"top\">x-market-code</td><td valign=\"top\">String</td><td valign=\"top\"><p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어(대한민국) </li><li>MKT_GLB: 원스토어(대한민국 외)</li></ul></td><td valign=\"top\">Y</td></tr></tbody></table>\n\n**Example**\n\n| <p>POST /oauth2.0/token HTTP/1.1 Host: <a href=\"http://accounts.onestore.net/\">accounts.onestore.net</a> Content-Type: application/x-www-form-urlencoded x-market-code:MKT_ONE</p><p>grant_type : authorization_code의 경우<br>grant_type=authorization_code&#x26;<br>code=EIc5bFrl4RibFls1&#x26;<br>client_id=client_id_example&#x26;<br>client_secret=hDBmMRhz7eJRsM9Z2q1oFBSe&#x26;<br>state=9kgsGTfH4j7IyAkg</p><p>grant_type : refresh_token의 경우<br>grant_type=refresh_token&#x26;<br>refresh_token=EIc5bFrl4RibFls1&#x26;<br>client_id=client_id_example&#x26;<br>client_secret=hDBmMRhz7eJRsM9Z2q1oFBSe&#x26;<br>state=9kgsGTfH4j7IyAkg</p> |\n| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n\n**\\[ Response ]**\n\n<table data-header-hidden><thead><tr><th width=\"180.5555419921875\" valign=\"top\"></th><th width=\"101.4444580078125\" valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>Element Name</strong></td><td valign=\"top\"><strong>Type</strong></td><td valign=\"top\"><strong>Description</strong></td><td valign=\"top\">Remarks</td></tr><tr><td valign=\"top\">user_access_token<br></td><td valign=\"top\">String</td><td valign=\"top\">ONE store 접근 토큰(User Access Token)</td><td valign=\"top\"><ul><li>max length : 255</li><li>만료기한 10분</li></ul></td></tr><tr><td valign=\"top\">refresh_token</td><td valign=\"top\">String</td><td valign=\"top\">User Access Token에 대한 Refresh 토큰</td><td valign=\"top\"><ul><li>max length : 255</li><li>기본 만료기한 35일, 사용 시 만료기한 연장(초기화)</li></ul></td></tr><tr><td valign=\"top\">token_type</td><td valign=\"top\">String</td><td valign=\"top\">Bearer</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">expires_in</td><td valign=\"top\">integer</td><td valign=\"top\">접근 토큰의 유효 기간(초 단위)</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">state</td><td valign=\"top\">String</td><td valign=\"top\">사이트 간 요청 위조 공격을 방지하기 위해 개발자 측에서 생성한 상태 토큰</td><td valign=\"top\"><ul><li>URL 인코딩<br></li><li>요청 시 넘겨준 값을 그대로 리턴</li><li>성공 시에만 포함됨</li></ul></td></tr><tr><td valign=\"top\">error {<br></td><td valign=\"top\">Object</td><td valign=\"top\">error 발생 시에만 포함</td><td valign=\"top\">오류 코드 참고 : <a href=\"#id-4.1.1\">표준 응답코드</a></td></tr><tr><td valign=\"top\">code</td><td valign=\"top\">String</td><td valign=\"top\">에러 코드</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">message</td><td valign=\"top\">String</td><td valign=\"top\">에러 메세지</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">}</td><td valign=\"top\"><br></td><td valign=\"top\"><br></td><td valign=\"top\"><br></td></tr></tbody></table>\n\n**Example**\n\n<table data-header-hidden><thead><tr><th></th></tr></thead><tbody><tr><td><p>// 성공 시</p><p>{</p><pre><code>  \"user_access_token\" : \"f27d2c49-231d-4848-9e8c-ec9a1fef9c35\",\n  \"refresh_token\" : \"1fe54c5f-60d1-4fbb-a412-929c84adab43\",\n  \"token_type\" : \"Bearer\",\n  \"expires_in\" : 603389,\n  \"state\" : \"hLiDdL2uhPtsftcU\"\n}\n</code></pre><p><br></p><p>// 실패 시</p><p><code>{</code><br>    <code>\"error\" : {</code><br>        <code>\"code\" : \"InvalidAuthorizationParam\",</code><br>        <code>\"message\" : \"Authorization param is invalid.\"</code><br>    <code>}</code><br><code>}</code></p></td></tr></tbody></table>\n\n**오류 유형 정리**\n\n<table data-header-hidden><thead><tr><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th><th valign=\"top\"></th></tr></thead><tbody><tr><td valign=\"top\"><strong>코드</strong></td><td valign=\"top\"><strong>발생 조건</strong></td><td valign=\"top\"><strong>전문 (json)</strong></td><td valign=\"top\"><strong>기타 설명</strong></td></tr><tr><td valign=\"top\">RequiredValueNotExist</td><td valign=\"top\">필수값 누락<br>- grant_type<br>- client_id<br>- client_secret<br>- code (선택적 필수값)<br>- refresh_token (선택적 필수값)<br>- state</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"RequiredValueNotExist\",<br>        \"message\": \"Request parameters are required. ({누락파라미터})\"<br>    }<br>}</td><td valign=\"top\">- code : grant_type : authorization_code 경우 필수값<br>- refresh_token : grant_type : refresh_token 경우 필수값</td></tr><tr><td valign=\"top\">InvalidRequest</td><td valign=\"top\">파라미터 유효성<br>- grant_type ≠ (authorization_code or refresh_token)</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"InvalidRequest\",<br>        \"message\": \"Request parameters are invalid. [ grant_type ]\"<br>    }<br>}</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidAuthorizationParam</td><td valign=\"top\">파라미터 유효성<br>- 미발급 code</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"InvalidAuthorizationParam\",<br>        \"message\": \"Authorization param is invalid.\"<br>    }<br>}</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidRequest</td><td valign=\"top\">파라미터 유효성<br>- 미발급 client_id</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"InvalidRequest\",<br>        \"message\": \"Request parameters are invalid. [ client_id or client_secret ]\"<br>    }<br>}</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidRequest</td><td valign=\"top\">파라미터 유효성<br>- 미발급 client_secret</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"InvalidRequest\",<br>        \"message\": \"Request parameters are invalid. [ client_id or client_secret ]\"<br>    }<br>}</td><td valign=\"top\"><br></td></tr><tr><td valign=\"top\">InvalidRefreshToken</td><td valign=\"top\">파라미터 유효성<br>- 미발급 refresh_token</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"InvalidRefreshToken\",<br>        \"message\": \"Invalid refresh token\"<br>    }<br>}</td><td valign=\"top\">grant_type : refresh_token 경우</td></tr><tr><td valign=\"top\">ExpiredRefreshToken</td><td valign=\"top\">파라미터 유효성<br>- 만료 refresh_token</td><td valign=\"top\">{<br>    \"error\": {<br>        \"code\": \"ExpiredRefreshToken\",<br>        \"message\": \"Invalid refresh token (expired)\"<br>    }<br>}</td><td valign=\"top\">grant_type : refresh_token 경우</td></tr></tbody></table>\n\n\n출처: https://onestore-dev.gitbook.io/dev/tools/billing/v21/web-payment/uiapw.md\n\n# 웹에서 원스토어 인앱 결제 사용하기\n\n## 개요\n\n웹 환경에서 원스토어 인앱결제를 이용하기 위한 연동 방법을 설명합니다.\n\n## 사전 확인\n\n### 회원인증 연동\n\n윈도우용 게임/앱 또는 PC/Mobile Web 상에서 원스토어 인앱결제를 구현하기 위해서는 회원인증(로그인)연동이 필요합니다.\\\n자세한 사항은 '[회원인증](member)'을 참고하시기 바랍니다.\n\n### 방화벽 정책 등록\n\nCallBackUrl 호출을 위해 원스토어 결제서버와 개발사 서버간 방화벽 정책 등록이 반드시 필요합니다.\n\nCallBackUrl을 사용하실 개발사는 사전에 서버IP 정보를 전달해 주시기 바랍니다. \\\n(개발사 서버의 80 혹은 443 포트 연동을 기본으로 하며, 방화벽 정책 등록은 최소 1영업일 이상 소요됩니다.)\n\n## 연동 아키텍쳐\n\n원스토어는 회원 기반 서비스를 제공합니다. 웹 환경에서 결제 시에도 사용자 회원의 로그인이 필요하며, 로그인 이후 결제 요청이 가능합니다.\\\n결제가 필요한 경우 매번 사용자가 로그인을 수행하지 않도록 OAuth 인증을 지원하며, 모든 구매/결제 관련 서버 API는 로그인 시 제공되는 OAuth Token(이하 User Access Token)을 이용하여 요청해야 합니다.\n\n## 서버 APIs\n\n원스토어 웹 서버 API는 발급받은 접근 토큰(User Access Token)을 이용하여 호출합니다.\\\nHTTP로 호출 시, Header에 접근 토큰을 전송해 주어야 합니다.\n\n### Standard Response Codes\n\n<table><thead><tr><th width=\"149\">Code</th><th>message_kr</th><th>message_en</th><th>HTTP Status Code</th><th>대상API</th></tr></thead><tbody><tr><td>UserNotExist</td><td>회원 정보가 존재하지 않습니다. </td><td>User does not exist.</td><td>404 - Not Found</td><td>공통</td></tr><tr><td>UserAccessTokenExpired</td><td>User Access Token이 만료되었습니다.</td><td>User Access Token has expired.</td><td>401 - Unauthorized</td><td>공통</td></tr><tr><td>UnsupportedDevice</td><td>상품이 해당 단말을 지원하지 않습니다. </td><td>The product does not support the device.</td><td>400 - Bad Request</td><td>공통</td></tr><tr><td>UnauthorizedUserAccess</td><td>해당 API에 접근권한이 없습니다.</td><td>Not authorized to this API.</td><td>403 - Forbidden<br></td><td>공통</td></tr><tr><td>Success</td><td>정상처리 되었습니다.</td><td>The request has been successfully completed.</td><td>200 - Success</td><td>consume/acknowledge<br></td></tr><tr><td>ServiceMaintenance</td><td>서비스 점검중입니다.</td><td>System maintenance is in progress.</td><td>503 - Service Temporarily Unavailable</td><td>공통</td></tr><tr><td>ResourceNotFound</td><td>요청한 자원이 존재하지 않습니다.</td><td>The requested resource could not be found.</td><td>404 - Not Found</td><td>공통</td></tr><tr><td>RequiredValueNotExist</td><td>필수값이 존재하지 않습니다. [ field1, field2, ... ]</td><td>Request parameters are required. [ field1, field2, ... ]</td><td>400 - Bad Request</td><td>공통</td></tr><tr><td>ProductNotExist</td><td>상품 정보가 존재하지 않습니다.</td><td>The product does not exist.</td><td>404 - Not Found</td><td>공통</td></tr><tr><td>NotSupportMultipleQuantity </td><td>복수 구매 요청은 관리형 상품으로 제한합니다.</td><td>Only Managed products are eligible for repeated purchase requests.</td><td>400 - Bad Request</td><td>requestPurchase</td></tr><tr><td>NoSuchData</td><td>조회된 결과값이 존재하지 않습니다.</td><td>The requested data could not be found.</td><td>404 - Not Found</td><td>단건조회 API</td></tr><tr><td>MethodNotAllowed</td><td>지원하지 않는 HTTP Method 입니다.</td><td>HTTP method not supported.</td><td>405 - Method Not Allowed</td><td>공통</td></tr><tr><td>InvalidUserAccessToken</td><td>User Access Token이 유효하지 않습니다.</td><td>User Access Token is invalid.</td><td>401 - Unauthorized</td><td>공통</td></tr><tr><td>InvalidUser</td><td>회원 정보가 유효하지 않습니다.</td><td>User information is not valid.<br></td><td>409 - Conflict</td><td>공통</td></tr><tr><td>InvalidRequest</td><td>입력값이 유효하지 않습니다. [ field1, field2, ... ]</td><td>Request parameters are invalid. [ field1, field2, ... ]</td><td>400 - Bad Request</td><td>공통</td></tr><tr><td>InvalidPurchaseState</td><td>구매내역이 존재하지 않거나, 구매완료 상태가 아닙니다.</td><td>Purchase history does not exist or is not completed.</td><td>409 - Conflict</td><td>consume/acknowledge<br></td></tr><tr><td>InvalidProduct</td><td>상품 정보가 유효하지 않습니다.</td><td>The product is not valid.</td><td>409 - Conflict</td><td>공통</td></tr><tr><td>InvalidContentType</td><td>잘못된 Content Type 입니다.</td><td>The request content-type is invalid.</td><td>415 - Unsupported Media Type</td><td>공통</td></tr><tr><td>InvalidConsumeState</td><td>소비상태 변경이 불가하거나, 이미 변경완료 되었습니다.</td><td>The purchase consumption status cannot be changed or has already been changed.</td><td>409 - Conflict</td><td>consume</td></tr><tr><td>InvalidAuthorizationHeader</td><td>Authorization 헤더의 값이 유효하지 않습니다.</td><td>Authorization header is invalid.</td><td>400 - Bad Request</td><td>공통</td></tr><tr><td>InternalError</td><td>정의되지 않은 오류가 발생하였습니다.</td><td>An undefined error has occurred.</td><td>500 - Internal Server Error</td><td>공통</td></tr><tr><td>ExceedQuantityMultiplePurchase</td><td>구매 요청이 가능한 개수를 초과하였습니다. (최대 10개)</td><td>Your purchase request has exceeded the quantity available. (Max. 10 items)</td><td>400 - Bad Request</td><td>requestPurchase</td></tr><tr><td>ExceedAmountMultiplePurchase</td><td>구매 요청이 가능한 금액을 초과하였습니다. (최대 50만원)</td><td>Your purchase request has exceeded the amount available. (Max. ₩500,000)</td><td>400 - Bad Request</td><td>requestPurchase</td></tr><tr><td>DeveloperPayloadNotMatch</td><td>구매요청 시 전달된 developerPayload값과 일치하지 않습니다.</td><td>The request developerPayload does not match the value passed in the purchase request.</td><td>400 - Bad Request</td><td>consume/acknowledge</td></tr><tr><td>AlreadyPurchased</td><td>이미 상품을 보유하였거나 함께 구매할 수 없는 상품을 보유중입니다.</td><td>You already have the product or a product that cannot be purchased together.</td><td>409 - Conflict</td><td>requestPurchase</td></tr><tr><td>AccessBlocked</td><td>요청이 차단되었습니다.</td><td>The request was blocked.</td><td>403 - Forbidden</td><td>공통</td></tr></tbody></table>\n\n#### 표준 응답코드\n\n오류응답인 경우 표준 응답코드에 정의된 코드 및 메시지를 전달합니다.\n\n**Example**\n",
      "start_pos": 297953,
      "end_pos": 331420
    },
    {
      "content": "\n#### 상품 타입 코드&#x20;\n\n| Code         | Name   | Description              |\n| ------------ | ------ | ------------------------ |\n| inapp        | 소비성 상품 | consume 가능한 소비성 상품       |\n| auto         | 월정액 상품 | 월 자동결제 상품                |\n| subscription | 구독형 상품 | 구독형 상품                   |\n| all          | 전체 상품  | 소멸성 상품 + 월정액 상품 + 구독형 상품 |\n\n### requestPurchase <a href=\"#id-2.-apiv7-4.2requestpurchase\" id=\"id-2.-apiv7-4.2requestpurchase\"></a>\n\n#### **\\[API Spec.]**&#x20;\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"121.5859375\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(\b상용) <a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/%7Btype%7D/products/%7BproductId%7D/order\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/{type}/products/{productId}/order</a></p><p>(개발) <a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/%7Btype%7D/products/%7BproductId%7D/order\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/{type}/products/{productId}/order</a></p></td></tr><tr><td><strong>Description</strong></td><td><p></p><ul><li>특정 인앱상품의 구매를 요청합니다. </li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n<table><thead><tr><th>Parameter Name</th><th width=\"128.93359375\">Data Type</th><th width=\"176.60546875\">Required</th><th width=\"236.91796875\">Description</th></tr></thead><tbody><tr><td>clientId</td><td>String</td><td>Y</td><td>API를 호출하는 앱의 클라이언트 ID</td></tr><tr><td>type</td><td>String</td><td>Y</td><td><ul><li>구매를 요청하고자 하는 인앱 상품 타입 코드</li><li>상품 타입 코드 참조</li></ul></td></tr><tr><td>productId</td><td>String</td><td>Y</td><td>구매를 요청하고자 하는 인앱상품 ID</td></tr></tbody></table>\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                                    |\n| -------------- | --------- | -------- | ---------------------------------------------------------------------------------------------- |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                            |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)         </li><li>MKT_GLB: 원스토어 (대한민국 외) </li></ul> |\n\n**Body**\n\n| Element Name     | Data Type | Data Size   | Required | Description                                                        |\n| ---------------- | --------- | ----------- | -------- | ------------------------------------------------------------------ |\n| prchsClientPocCd | String    | 50          | Y        | <p>구매 요청 Client 구분 코드<br>POC_PC : PC 결제<br>POC_MOBILE : 모바일 결제</p> |\n| returnUrl        | String    | 200         | Y        | 결제결과를 전달받기 위한 redirect URL                                         |\n| callbackUrl      | String    | 200         | N        | 결제결과를 전달받기 위한 REST API URL(최종 결제결과만 전달)                            |\n| productName      | String    | 50          | N        | 구매를 요청하고자 하는 인앱 상품명, 미 입력시 개발자센터에 등록된 상품명 사용                       |\n| developerPayload | String    | 200         | N        | 구매 건을 식별하기 위해 개발사에서 관리하는 식별자                                       |\n| quantity         | Integer   | <p><br></p> | N        | 구매하고자 하는 상품의 수량(Default: 1)                                        |\n\n**Example**\n",
      "start_pos": 331609,
      "end_pos": 335166
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type | Data Size | Description              |\n| ------------ | --------- | --------- | ------------------------ |\n| purchaseId   | String    | 20        | 구매 ID                    |\n| paymentUrl   | String    | 200       | <p>결제 요청 URL 정보<br></p>  |\n| paymentParam | String    | -         | <p>결제 요청 파라미터 정보<br></p> |\n\n**Example**\n",
      "start_pos": 335601,
      "end_pos": 335987
    },
    {
      "content": "\n### getProductDetails <a href=\"#id-2.-apiv7-4.3getproductdetails\" id=\"id-2.-apiv7-4.3getproductdetails\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method**          | POST             |\n| ---------------- | ---------------- | ------------------- | ---------------- |\n| **Content-Type** | application/json | **Response Format** | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"123.046875\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/products/%7Btype%7D\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/products/{type}</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/products/%7Btype%7D\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/products/{type}</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>판매 가능한 인앱상품의 상세 정보를 반환합니다.</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description                                                       |\n| -------------- | --------- | -------- | ----------------------------------------------------------------- |\n|  clientId      | String    | Y        | API를 호출하는 앱의 클라이언트 ID                                             |\n| type           | String    | Y        | <ul><li>상품 정보를 조회하고자 하는 인앱 상품 타입 코드</li><li>상품 타입 코드 참조</li></ul> |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                                    |\n| -------------- | --------- | -------- | ---------------------------------------------------------------------------------------------- |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                            |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)         </li><li>MKT_GLB: 원스토어 (대한민국 외) </li></ul> |\n\n**Body**\n\n| Element Name     | Data Type   | Data Size   | Required    | Description               |\n| ---------------- | ----------- | ----------- | ----------- | ------------------------- |\n| productIdList \\[ | <p><br></p> | <p><br></p> | <p><br></p> | <p><br></p>               |\n| <p><br></p>      | String      | 150         | Y           | 개발자센터에 상품 등록시 지정한 인앱상품 ID |\n| ]                | <p><br></p> | <p><br></p> | <p><br></p> | <p><br></p>               |\n\n**Example**\n\n<pre><code>POST /pc/v7/apps/com.onestorecorp.com.test/products/inapp\nHost: \npcapis.onestore.net\n\nContent-Type: application/json\nAuthorization: Bearer 680b3512-1253-5642-1263-8adjbf651nb\nx-market-code: MKT_GLB\n\n{\n    \"productIdList\": [\"다이아100_20170818000000\", \"루비300_20170818000000\"]\n<strong>}\n</strong></code></pre>\n\n#### **\\[ Response ]**\n\n| Element Name         | Data Type   | Data Size   | Description                                 |\n| -------------------- | ----------- | ----------- | ------------------------------------------- |\n| productDetailList \\[ | <p><br></p> | -           | 상품 상세 정보 목록                                 |\n| {                    | <p><br></p> | <p><br></p> | <p><br></p>                                 |\n| productId            | String      | 150         | 구매가능한 상품의 인앱상품 ID                           |\n| type                 | String      | 20          | <ul><li>상품 타입</li><li>상품 타입 코드 참조</li></ul> |\n| price                | String      | 30          | 상품금액                                        |\n| priceCurrencyCode    | String      | 10          | KRW, USD 등의 통화 구분                           |\n| title                | String      | -           | 상품명                                         |\n| priceAmountMicros    | Long        | -           | 상품금액 \\* 100만                                |\n| }                    | <p><br></p> | <p><br></p> | <p><br></p>                                 |\n| ]                    | <p><br></p> | <p><br></p> | <p><br></p>                                 |\n\n**Example**\n",
      "start_pos": 336325,
      "end_pos": 340406
    },
    {
      "content": "\n\\\n\n\n### getPurchases <a href=\"#id-2.-apiv7-4.4getpurchases\" id=\"id-2.-apiv7-4.4getpurchases\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"143.14453125\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) </p><p><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/%7Btype%7D\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/{type}</a></p><p></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/%7Btype%7D\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/{type}</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>소비하지 않은 구매목록(수량포함) 반환합니다. (최대 100건까지 조회)</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description                                                                                       |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID                                                                             |\n| type           | String    | Y        | <ul><li>상품 정보를 조회하고자 하는 인앱 상품 타입 코드</li><li>상품 타입 코드 참<mark style=\"color:red;\">조</mark></li></ul> |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\n| Parameter Name  | Data Type | Data Size | Required | Description              |\n| --------------- | --------- | --------- | -------- | ------------------------ |\n| continuationKey | String    | 41        | N        | 구매 내역 paging 처리를 위한 다음 키 |\n\n**Example**\n",
      "start_pos": 341074,
      "end_pos": 343479
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name             | Data Type         | Data Size   | Description                                                                                 |\n| ------------------------ | ----------------- | ----------- | ------------------------------------------------------------------------------------------- |\n| productIdList \\[         | <p><br></p>       | -           | XVjKVLbw7TIy                                                                                |\n| <p><br></p>              | String            | 150         | 개발자센터에 상품 등록 시 지정한 인앱상품 ID                                                                  |\n| ]                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| purchaseDetailList \\[    | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| {                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| orderId                  | String            | 40          | 결제ID                                                                                        |\n| packageName              | String            | 128         | 구매한 앱의 패키지명                                                                                 |\n| productId                | <p>String<br></p> | 150         | <p>개발자센터에 상품 등록 시 지정한 인앱상품 ID<br></p>                                                       |\n| purchaseTime             | Long              | -           | 구매 시간                                                                                       |\n| acknowledgeState         | Int               | -           | 구매확인 상태( 0: Not Acknowledged, 1: Acknowledged)                                              |\n| purchaseState            | Int               | -           | 구매 상태                                                                                       |\n| recurringState           | Int               | -           | <p>자동 결제 상태</p><ul><li>0 : 정상가입 상태</li><li>1 : 해지예약 상태</li><li>-1 : 월정액 상품이 아닌 경우</li></ul> |\n| purchaseId               | String            | 20          | 구매ID                                                                                        |\n| purchaseToken            | String            | 20          | 구매토큰                                                                                        |\n| developerPayload         | String            | 200         | 구매건을 식별하기 위해 개발사에서 관리하는 식별자                                                                 |\n| quantity                 | Int               | <p><br></p> | 구매 수량                                                                                       |\n| }                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| ]                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| purchaseSignatureList \\[ | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| <p><br></p>              | String            | -           | purchaseDetailList 각각의 구매정보 검증을 위한 signature                                                |\n| ]                        | <p><br></p>       | <p><br></p> | <p><br></p>                                                                                 |\n| continuationKey          | String            | 41          | 구매 내역 paging 처리를 위한 다음 키                                                                    |\n\n**Example**\n",
      "start_pos": 343719,
      "end_pos": 347533
    },
    {
      "content": "\n### consumePurchase <a href=\"#id-2.-apiv7-4.5consumepurchase\" id=\"id-2.-apiv7-4.5consumepurchase\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"129.44921875\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/inapp/%7BpurchaseToken%7D/consume\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/inapp/{purchaseToken}/consume</a><br><br>(개발) <br><a href=\"https://sbpp.onestore.co.kr/pc/v7/apps/%7BclientId%7D/purchases/inapp/%7BpurchaseToken%7D/consume\">https://sbpp.onestore.co.kr/pc/v7/apps/{clientId}/purchases/inapp/{purchaseToken}/consume</a></td></tr><tr><td><strong>Description</strong></td><td><ul><li>구매한 관리형 인앱 상품을 소비한 상태로 변경합니다. (소비성 상품만 사용 가능)</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\n| Parameter Name   | Data Type | Data Size | Required | Description                  |\n| ---------------- | --------- | --------- | -------- | ---------------------------- |\n| developerPayload | String    | 200       | N        | 구매 건을 식별하기 위해 개발사에서 관리하는 식별자 |\n\n**Example**\n",
      "start_pos": 348885,
      "end_pos": 351091
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n\n**Example**\n",
      "start_pos": 351363,
      "end_pos": 351822
    },
    {
      "content": "\n### acknowledgePurchase\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"125.921875\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/all/%7BpurchaseToken%7D/acknowledge\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/all/{purchaseToken}/acknowledge</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/all/%7BpurchaseToken%7D/acknowledge\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/all/{purchaseToken}/acknowledge</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>구매한 인앱 상품을 구매확인 상태로 변경합니다. (소멸성 상품, 월정액 상품 모두 지원)</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter     | Data Type | Required | Description           |\n| ------------- | --------- | -------- | --------------------- |\n|  clientId     | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\n<table><thead><tr><th width=\"157.7734375\">Element Name</th><th>Data Type</th><th>Data Size</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>developerPayload</td><td>String</td><td>200</td><td>N</td><td>구매 건을 식별하기 위해 개발사에서 관리하는 식별자</td></tr></tbody></table>\n\n**Example**\n",
      "start_pos": 352125,
      "end_pos": 354280
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n\n**Example**\n",
      "start_pos": 354549,
      "end_pos": 355008
    },
    {
      "content": "\n### cancelRecurringPurchase <a href=\"#id-2.-apiv7-4.7cancelrecurringpurchase\" id=\"id-2.-apiv7-4.7cancelrecurringpurchase\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"121.58984375\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/auto/%7BpurchaseToken%7D/cancel\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/auto/{purchaseToken}/cancel</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/auto/%7BpurchaseToken%7D/cancel\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/auto/{purchaseToken}/cancel</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>월정액(자동결제) 상품의 다음 자동결제를 취소 예약(해지 예약)합니다.</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n|  clientId      | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\nN/A\n\n**Example**\n",
      "start_pos": 355310,
      "end_pos": 357275
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n\n**Example**\n",
      "start_pos": 357502,
      "end_pos": 357961
    },
    {
      "content": "\n### reactivateRecurringPurchase <a href=\"#id-2.-apiv7-4.8reactivaterecurringpurchase\" id=\"id-2.-apiv7-4.8reactivaterecurringpurchase\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"126.37890625\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/auto/%7BpurchaseToken%7D/reactivate\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/auto/{purchaseToken}/reactivate</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/auto/%7BpurchaseToken%7D/reactivate\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/auto/{purchaseToken}/reactivate</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>월정액(자동결제) 상품의 기존 취소 예약(해지 예약)을 취소하여 다음 자동결제가 정상적으로 진행되도록 합니다.</li><li>이 API는 요청하는 월정액(자동결제) 상품의 상태가 취소 예약 상태일 때만 정상동작합니다.</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\nN/A\n\n**Example**\n",
      "start_pos": 358219,
      "end_pos": 360290
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n\n**Example**\n",
      "start_pos": 360521,
      "end_pos": 360980
    },
    {
      "content": "\n### cancelSubscription <a href=\"#id-2.-apiv7-4.9cancelsubscription\" id=\"id-2.-apiv7-4.9cancelsubscription\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"127.9375\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/subscription/%7BpurchaseToken%7D/cancel\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/subscription/{purchaseToken}/cancel</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/subscription/%7BpurchaseToken%7D/cancel\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/subscription/{purchaseToken}/cancel</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>구독형 상품의 다음 자동결제를 취소 예약(해지 예약)합니다.</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\nN/A\n\n**Example**\n",
      "start_pos": 361238,
      "end_pos": 363210
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n\n**Example**\n",
      "start_pos": 363448,
      "end_pos": 363907
    },
    {
      "content": "\n### reactivateSubscription <a href=\"#id-2.-apiv7-4.10reactivatesubscription\" id=\"id-2.-apiv7-4.10reactivatesubscription\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"129.203125\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/subscription/%7BpurchaseToken%7D/reactivate\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/subscription/{purchaseToken}/reactivate</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/subscription/%7BpurchaseToken%7D/reactivate\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/subscription/{purchaseToken}/reactivate</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>구독형 상품의 다음 자동결제를 취소 예약(해지 예약)을 취소합니다.</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Parameter**\n\n| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\n**Example**\n",
      "start_pos": 364164,
      "end_pos": 366167
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n| Element Name | Data Type   | Data Size   | Description |\n| ------------ | ----------- | ----------- | ----------- |\n| result       | Object      | <p><br></p> | <p><br></p> |\n| {            | <p><br></p> | <p><br></p> | <p><br></p> |\n| code         | String      | 50          | 응답코드(정상처리)  |\n| message      | String      | 300         | 응답메시지(정상처리) |\n| }            | <p><br></p> | <p><br></p> | <p><br></p> |\n\n**Example**\n",
      "start_pos": 366409,
      "end_pos": 366868
    },
    {
      "content": "\n### getSubscriptionDetail <a href=\"#id-2.-apiv7-4.11getsubscriptiondetail\" id=\"id-2.-apiv7-4.11getsubscriptiondetail\"></a>\n\n#### **\\[ API Spec. ]**\n\n| **Protocol**     | HTTPS            | **Method** | POST             |\n| ---------------- | ---------------- | ---------- | ---------------- |\n| **Content-Type** | application/json | 응답 포맷      | application/json |\n\n<table data-header-hidden><thead><tr><th width=\"128.640625\"></th><th></th></tr></thead><tbody><tr><td><strong>Path</strong></td><td><p>(상용) <br><a href=\"https://pcapis.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/subscription/%7BpurchaseToken%7D\">https://pcapis.onestore.net/pc/v7/apps/{clientId}/purchases/subscription/{purchaseToken}</a><br></p><p>(개발) <br><a href=\"https://sbpp.onestore.net/pc/v7/apps/%7BclientId%7D/purchases/subscription/%7BpurchaseToken%7D\">https://sbpp.onestore.net/pc/v7/apps/{clientId}/purchases/subscription/{purchaseToken}</a></p></td></tr><tr><td><strong>Description</strong></td><td><ul><li>구독의 상세정보를 조회한다.</li><li>오류 코드 : 표준 응답코드 참조</li></ul></td></tr></tbody></table>\n\n#### **\\[ Request ]**\n\n**Path Parameter**\n\n| Parameter Name | Data Type | Required | Description           |\n| -------------- | --------- | -------- | --------------------- |\n| clientId       | String    | Y        | API를 호출하는 앱의 클라이언트 ID |\n| purchaseToken  | String    | Y        | 구매토큰                  |\n\n**Header**\n\n| Parameter Name | Data Type | Required | Description                                                                          |\n| -------------- | --------- | -------- | ------------------------------------------------------------------------------------ |\n| Authorization  | String    | Y        | User Access Token 발급 API를 통해 발급받은 User Access Token                                  |\n| x-market-code  | String    | N        | <p>마켓 구분 코드</p><ul><li>MKT_ONE: 원스토어 (대한민국)</li><li>MKT_GLB: 원스토어 (대한민국 외)</li></ul> |\n\n**Body**\n\n**Example**\n",
      "start_pos": 367125,
      "end_pos": 369064
    },
    {
      "content": "\n#### **\\[ Response ]**\n\n<table><thead><tr><th width=\"149\">Element Name</th><th></th><th></th><th>Data Type</th><th>Description</th></tr></thead><tbody><tr><td>result {</td><td></td><td></td><td>Object</td><td>API호출 결과(정상) - 정상 시에 응답</td></tr><tr><td></td><td>code</td><td></td><td>String</td><td>응답코드</td></tr><tr><td></td><td>message</td><td></td><td>String</td><td>응답메시지</td></tr><tr><td>}</td><td><br></td><td><br></td><td></td><td></td></tr><tr><td>error {</td><td></td><td></td><td>Object</td><td>API호출 결과(에러) - 에러 시에 응답</td></tr><tr><td></td><td>code</td><td></td><td>String</td><td>응답코드</td></tr><tr><td></td><td>message</td><td></td><td>String</td><td>응답메시지</td></tr><tr><td>}</td><td><br></td><td><br></td><td></td><td></td></tr><tr><td>subscription {</td><td></td><td><br></td><td>Object</td><td></td></tr><tr><td><br></td><td>productId</td><td></td><td>String</td><td>커스텀 상품 ID</td></tr><tr><td><br></td><td>productName</td><td></td><td>String</td><td>상품명</td></tr><tr><td><br></td><td>parentProductId</td><td></td><td>String</td><td>모상품 ID</td></tr><tr><td><br></td><td>parentProductName</td><td></td><td>String</td><td>모상품명</td></tr><tr><td><br></td><td>packageName</td><td></td><td>String</td><td>패키지명</td></tr><tr><td><br></td><td>productAmount</td><td></td><td>String</td><td>상품 금액</td></tr><tr><td><br></td><td>productAmountMicros</td><td></td><td>Long</td><td>상품 금액 * 100만</td></tr><tr><td><br></td><td>priceCurrencyCode<br></td><td></td><td>String</td><td>KRW, USD 등등의 통화 구분</td></tr><tr><td><br></td><td>imagePath</td><td></td><td>String</td><td>상품 이미지 경로</td></tr><tr><td><br></td><td>periodUnit</td><td></td><td>String</td><td>이용 기간 단위</td></tr><tr><td><br></td><td>period</td><td></td><td>Integer</td><td>이용 기간</td></tr><tr><td><br></td><td>purchaseToken</td><td></td><td>String</td><td>구매 토큰</td></tr><tr><td><br></td><td>status</td><td></td><td>String</td><td>구독 상태 코드</td></tr><tr><td><br></td><td>startDate</td><td></td><td>Long</td><td>구독 시작(첫 결제) 일시(millis)</td></tr><tr><td><br></td><td>expiryDate</td><td></td><td>Long</td><td>구독 만료 일시(millis)</td></tr><tr><td><br></td><td>paymentAmount</td><td></td><td>String</td><td>이전 결제 금액</td></tr><tr><td><br></td><td>paymentAmountMicros</td><td></td><td>Long</td><td>이전 결제 금액 * 100만</td></tr><tr><td><br></td><td>nextPaymentAmount</td><td></td><td>String</td><td>다음 결제 금액 </td></tr><tr><td><br></td><td>nextPaymentAmountMicros</td><td></td><td>Long</td><td>다음 결제 금액 * 100만</td></tr><tr><td><br></td><td>nextPaymentDate</td><td></td><td>Long</td><td>다음 결제 일시(millis)</td></tr><tr><td><br></td><td>pauseAllow</td><td></td><td>String</td><td>일시중지 사용 가능 여부(Y/N(default))</td></tr><tr><td><br></td><td>pauseStartDate</td><td></td><td>Long</td><td>일시중지 시작일시(millis) - 일시중지예약/일시중지 상태일 경우에만 응답</td></tr><tr><td><br></td><td>pauseEndDate</td><td></td><td>Long</td><td>일시중지 종료일시(millis) - 일시중지예약/일시중지 상태일 경우에만 응답 </td></tr><tr><td><br></td><td>promotionAmount</td><td></td><td>String</td><td>프로모션 상품 금액</td></tr><tr><td><br></td><td>promotionAmountMicros</td><td></td><td>Long</td><td>프로모션 상품 금액 * 100만</td></tr><tr><td><br></td><td>promotionPeriod</td><td></td><td>Integer</td><td>프로모션 이용 기간</td></tr><tr><td><br></td><td>priceChanges [</td><td></td><td>Array</td><td>가격 변동 정보 목록</td></tr><tr><td><br></td><td>{</td><td><br></td><td><br></td><td><br></td></tr><tr><td><br></td><td><br></td><td>priceChangeSeq</td><td>Integer</td><td>가격 변동 시퀀스 </td></tr><tr><td><br></td><td><br></td><td>priceChangeApplyStartDate</td><td>Long</td><td>가격 변동 적용 시작 시간</td></tr><tr><td><br></td><td><br></td><td>priceChangePreviousAmount</td><td>String</td><td>가격 변동 이전 금액</td></tr><tr><td><br></td><td><br></td><td>priceChangePreviousAmountMicros</td><td>Long</td><td>가격 변동 이전 금액 * 100만</td></tr><tr><td><br></td><td><br></td><td>priceChangeAmount</td><td>String</td><td>가격 변동 금액</td></tr><tr><td><br></td><td><br></td><td>priceChangeAmountMicros</td><td>Long</td><td>가격 변동 금액 * 100만</td></tr><tr><td><br></td><td><br></td><td>priceChangeAgreement</td><td>String</td><td>가격 변동 동의 여부</td></tr><tr><td><br></td><td><br></td><td>priceChangeAgreementDueDate</td><td>Long</td><td><p>가격 변동 동의 만료 시간</p><p>(정책 부연 설명)</p><ul><li>Value = 가격변경일 +7+30일</li><li>사용자는 동의만료일 이후 첫 자동결제 시점까지 동의가능함.</li></ul></td></tr><tr><td><br></td><td>}]</td><td><br></td><td><br></td><td><br></td></tr><tr><td>}</td><td><br></td><td><br></td><td></td><td></td></tr></tbody></table>\n\n\\\n\n\n**Example**\n",
      "start_pos": 369293,
      "end_pos": 373718
    },
    {
      "content": "\n## 결제\n\n### 결제 요청 <a href=\"#id-2.-apiv7-5.1\" id=\"id-2.-apiv7-5.1\"></a>\n\n원스토어 인 결제를 요청합니다. paymentUrl로 paymentParam을 전달합니다.&#x20;\n\n성공 시, ONE store 표준 결제화면이 노출됩니다.\n\n#### **\\[ 호출 Spec. ]**\n\n| Protocol     | HTTPS      | Method | POST       |\n| ------------ | ---------- | ------ | ---------- |\n| Content-Type | text/plain | Accept | text/plain |\n\n<table data-header-hidden><thead><tr><th width=\"125.93359375\"></th><th></th></tr></thead><tbody><tr><td>URL Path</td><td>paymentUrl</td></tr><tr><td>Description</td><td>웹 표준 결제화면 호출</td></tr></tbody></table>\n\n**Parameter**\n\n| Parameter Name | Data Size | Required | Description                         |\n| -------------- | --------- | -------- | ----------------------------------- |\n| paymentParam   | 500       | M        | 결제요청 데이터 (표준 결제화면 호출을 위한 parameter) |\n\n#### **결제 요청 시 브라우저 크기**\n\n원스토어 표준 결제화면에 최적화된 브라우저 크기는 width=400, height=580 입니다.&#x20;\n\n브라우저 크기가 다른 경우 결제화면이 정상적으로 노출되지 않거나 동작하지 않을 수 있습니다. &#x20;\n\n아래는 새 브라우저 창으로 원스토어 결제화면을 호출할 때의 예입니다.&#x20;\n\n{% code overflow=\"wrap\" %}",
      "start_pos": 375492,
      "end_pos": 376529
    },
    {
      "content": "{% endcode %}\n\n### 결제 응답 <a href=\"#id-2.-apiv7-5.2\" id=\"id-2.-apiv7-5.2\"></a>\n\n표준 결제화면의 결제결과를 개발사로 전달합니다.\n\n#### **\\[ 호출 Spec. ]**\n\n| Signature Algorithm | SHA512 with RSA |\n| ------------------- | --------------- |\n\n| Protocol     | HTTP/HTTPS                                                                                | Method | POST                           |\n| ------------ | ----------------------------------------------------------------------------------------- | ------ | ------------------------------ |\n| Content-Type | <p>returnUrl : Application/x-www-form-urlencode<br><br>callbackUrl : Application/json</p> | Accept | callbackUrl : Application/json |\n\n<table data-header-hidden><thead><tr><th width=\"125.15234375\"></th><th></th></tr></thead><tbody><tr><td>URL Path</td><td>returnUrl, callbackUrl</td></tr><tr><td>Description</td><td><p>개발사가 제공한 returnUrl(Redirect Page)와 callbackUrl(REST API)을 통해 결제결과를 전달합니다. 두 방식 모두 Parameter Element는 동일하며 returnUrl은 form data submit 형태로, callbackUrl은 json 형태로 전달됩니다.</p><ul><li>단, callbackUrl 데이터는 실제 PG와의 연동 발생시 최종 결제결과에 대해서만 전달됩니다.</li></ul></td></tr></tbody></table>\n\n**Parameter**\n\n| Element Name          | Data Type | Data Size | Required | Description                                                                                                                                                                                                                                                       |\n| --------------------- | --------- | --------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| responseCode          | String    | 20        | Y        | 응답코드 (하단 표 참조)                                                                                                                                                                                                                                                    |\n| responseMessage       | String    | 200       | N        | 결제성공(Success)시 빈 값                                                                                                                                                                                                                                                |\n| orderId               | String    | 20        | N        | 결제ID                                                                                                                                                                                                                                                              |\n| purchaseId            | String    | 20        | N        | 구매ID                                                                                                                                                                                                                                                              |\n| purchaseToken         | String    | 20        | N        | 구매토큰                                                                                                                                                                                                                                                              |\n| purchaseTime          | Long      | 13        | N        | 구매시간(millisecond)                                                                                                                                                                                                                                                 |\n| developerPayload      | String    | 200       | N        | 구매 건을 식별하기 위해 개발자에서 관리하는 식별자                                                                                                                                                                                                                                      |\n| quantity              | Long      | 5         | N        | 복수구매 수량                                                                                                                                                                                                                                                           |\n| purchaseSignature     | String    | 2000      | N        | <p>구매정보 검증을 위한 signature</p><ul><li><p>단건 결제시 </p><ul><li>(orderId+purchaseId+purchaseToken+purchaseTime+developerPayload)</li></ul></li><li><p>복수구매 결제시</p><ul><li>(orderId+purchaseId+purchaseToken+purchaseTime+developerPayload+quantity)</li></ul></li></ul> |\n| <p>billingKey<br></p> | String    | 200       | N        | <p>S2S 자동결제 승인을 위한 billing 키<br></p>                                                                                                                                                                                                                              |\n\n**Example(returnUrl)**\n",
      "start_pos": 376734,
      "end_pos": 381759
    },
    {
      "content": "\n**Example(callbackUrl)**\n",
      "start_pos": 382569,
      "end_pos": 382603
    }
  ],
  "code_block_count": 370,
  "keyword_counts": {
    "PNS": 22,
    "purchaseState": 42,
    "COMPLETED": 23,
    "CANCELED": 8,
    "결제": 743,
    "취소": 75,
    "paymentMethod": 8,
    "DCB": 4,
    "PHONEBILL": 1,
    "ONEPAY": 1,
    "CREDITCARD": 1,
    "Signature": 54,
    "검증": 16,
    "API": 453,
    "SDK": 305,
    "원스토어": 281,
    "인앱결제": 94
  },
  "keyword_total": 2131
}